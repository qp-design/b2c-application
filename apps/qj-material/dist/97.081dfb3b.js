(self.webpackChunkqj_material=self.webpackChunkqj_material||[]).push([[97],{25140:(e,o,s)=>{"use strict";s.r(o),s.d(o,{AddressDetail:()=>_o,AddressList:()=>Uo,AddressListBtn:()=>Wo,AfterSalesApply:()=>yo,AfterSalesDetail:()=>Do,AfterSalesList:()=>Io,AfterSalesType:()=>Fo,AllPromotionList:()=>Qt,ArticleDetail:()=>aa,BackTop:()=>oo,CartList:()=>tt,CartOperate:()=>at,CartTop:()=>Ys,ClassifyNav:()=>_e,ClassifyNavOne:()=>Je,ClassifyNavOneJsx:()=>$e,ClassifyNavThree:()=>eo,ClassifyNavTwo:()=>Xe,CollectionList:()=>zt,CouponList:()=>Jt,Cube:()=>so,EvaluateDetail:()=>Gt,EvaluateList:()=>Ft,ExpressInfo:()=>Dt,FootPrint:()=>Ht,GetCouponOne:()=>oa,Goods:()=>hs,GoodsClassify:()=>Xo,GoodsClassifyOne:()=>as,GoodsClassifyTwo:()=>cs,GoodsDetailAndEvaluate:()=>Ts,GoodsDetailBanner:()=>js,GoodsDetailCoupon:()=>Is,GoodsDetailHandleBar:()=>zs,GoodsDetailHandleBarOne:()=>Us,GoodsDetailInfo:()=>Ns,GoodsDetailInfoOne:()=>ys,GoodsDetailPromotion:()=>Ss,GoodsDetailSku:()=>bs,GoodsList:()=>qs,GoodsSlider:()=>gs,GoodsSlideshow:()=>xs,Line:()=>He,MineData:()=>Tt,MineFunction:()=>Rt,MineOrderEntry:()=>Ot,Notice:()=>sa,NoticeDetail:()=>ta,OrderDetail:()=>Pt,OrderList:()=>kt,PaymentMode:()=>gt,PlaceOrderAddress:()=>ct,PlaceOrderCoupon:()=>dt,PlaceOrderDelivery:()=>mt,PlaceOrderGood:()=>ut,PlaceOrderInfo:()=>pt,PlaceOrderOperate:()=>ht,PlaceOrderResult:()=>jt,QjMobileIcon:()=>Ze,Search:()=>ms,SearchPage:()=>ps,SearchStyleTwo:()=>us,Service:()=>ze,Slider:()=>Ke,TextLine:()=>We,Title:()=>Ue,ToPrice:()=>po,Video:()=>Qe,addressIdConst:()=>co,fixPrice:()=>ro,fixPrice1:()=>mo,formatTime:()=>uo,useService:()=>io});var t=s(52322),a=s(99660),n=s.n(a),l=s(59147),i=s(33599),c=s(72779),r=s.n(c),d=s(47525),m=s(8404);const u=(e={})=>(0,m.v_)("web/um/collect/queryCollectPage.json",e),p=(e={})=>(0,m.U2)("web/es/searchengine/find.json",(0,m.eP)(e)),h=(e={})=>(0,m.U2)("/web/oc/refund/getRefundGoods.json",e),g=(e={})=>(0,m.v_)("/web/oc/refund/getRefundByCode.json",(0,m.eP)(e)),x=(e={})=>(0,m.U2)("web/oc/contract/getContractByCode.json",e),j=(e={})=>(0,m.v_)("web/um/address/queryAddressBymerberCode.json",(0,m.eP)(e)),f=(e={})=>(0,m.v_)("web/oc/shopping/queryShoppingToContract.json",(0,m.eP)(e)),N=(e={})=>(0,m.v_)("web/pm/usercoupon/saveUsercoupon.json",e),C=(e={})=>(0,m.v_)("web/bs/area/queryAreaPage.json",(0,m.eP)(e));var y=s(81886),v=s(81042),b=s(56136),S=s(7494),w=s(93587),k=s(41639),I=s(21797),B=s(85964),P=s(31186),A=s(15640);function L(e){let o=e;const s=new Set;return{getState:()=>o,setState:e=>{o=Object.assign(Object.assign({},o),e),s.forEach((e=>e(o)))},subscribe:e=>(s.add(e),()=>s.delete(e))}}const D=L({count:1,isNeedButton:!1,goodsNum:1,spec:[],orderType:0});function T(e=(e=>e)){return(0,a.useSyncExternalStore)(D.subscribe,(()=>e(D.getState())))}function O(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(s[t[a]]=e[t[a]])}return s}function R(e,o,s,t){return new(s||(s=Promise))((function(a,n){function l(e){try{c(t.next(e))}catch(e){n(e)}}function i(e){try{c(t.throw(e))}catch(e){n(e)}}function c(e){var o;e.done?a(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(l,i)}c((t=t.apply(e,o||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const V=(e,o)=>R(void 0,void 0,void 0,(function*(){const s={specStr:JSON.stringify(e),goodsCode:o};return yield((e={})=>(0,m.v_)("web/oc/shopping/addShoppingGoodsBySpec.json",e))(s)}));function M(e){return((e={})=>(0,m.U2)("web/rs/resourceGoods/getResourceGoodsInfoBySkuCode.json",(0,m.eP)(e)))({skuCode:e,isLocalMock:!(0,d.dU)()})}function F(e=y.Z){const o=e=>{const o=(e=>{const o=D.getState();switch(e.type){case"plus":return Object.assign(Object.assign({},o),{count:o.count+1});case"minus":return Object.assign(Object.assign({},o),{count:o.count-1});case"select":case"initGoodSku":case"popupImpl":return Object.assign(Object.assign({},o),e.payload);default:return o}})(e);D.setState(o)},s=()=>{e({visible:!0})};return{dispatch:o,openPopup:()=>{s(),o({type:"popupImpl",payload:{isNeedButton:!1}})},closePopup:()=>{e({visible:!1})},addCardPopup:()=>{s(),o({type:"popupImpl",payload:{orderType:0,isNeedButton:!0}})},buyOpenPopup:()=>{s(),o({type:"popupImpl",payload:{orderType:1,isNeedButton:!0}})}}}function G(e){const o=(0,a.useRef)(null);return o.current=(0,v.Z)(e)?e:y.Z,(0,a.useCallback)(((...e)=>o.current(...e)),[o])}new Map;const E={rsGoodsFileDomainList:[],rsSpecValueDomainList:[],goodsRemark:"",pricesetNprice:0,goodsName:"",dataPic:"",goodsShowname:"",goodsNum:0,goodsCode:"",skuNo:"",classtreeCode:"",brandCode:"",pntreeCode:"",memberCode:"",rsSkuDomainList:[]},z=e=>{const[o,s]=(0,a.useState)(E);return(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{const o=yield M(e);s(o||E)}catch(e){}}))}),[]),o},Z={dataObj:""};function U({skuCode:e,dataPic:o,goodsName:s,pricesetNprice:t}){const[n,l]=(0,a.useState)(Z);(0,a.useEffect)((()=>{i()}),[]);const i=()=>R(this,void 0,void 0,(function*(){const o={collectType:0,collectOpcode:e};try{const e=yield((e={})=>(0,m.U2)("web/um/collect/checkCollectExit.json",e))(o);l(e)}catch(e){console.log(e)}})),c=()=>R(this,void 0,void 0,(function*(){const a={collectType:0,collectOpcode:e,collectOppic:o,collectOpcont:s,collectOpnum:t,goodsOrigin:0};return yield((e={})=>(0,m.U2)("web/um/collect/saveCollect.json",e))(a)})),r=()=>R(this,void 0,void 0,(function*(){const e={collectType:0,collectCode:n.dataObj||""};return yield((e={})=>(0,m.U2)("web/um/collect/deleteCollectByCode.json",e))(e)})),p=(e,o="success",s=1e3)=>{(0,d.Bj)().showToast({title:e,icon:o,duration:s})};return{handleCollect:()=>R(this,void 0,void 0,(function*(){let e=Z;(0,S.Z)(n.dataObj)?(e=yield c(),p("收藏成功")):(e=yield r(),p("取消收藏成功")),l(e),(0,m.bx)(u)})),collection:n}}function W(e){return(0,a.useMemo)((()=>{const o=function(e){const o=(0,w.Z)(e,"specName");return o?Object.keys(o).map((e=>({skuName:e,skuOption:o[e]}))):[]}(e),s=o.map((e=>(0,b.Z)(e,"skuOption[0].specValueValue")));return{skuList:o,spec:s}}),[e])}const H=(e=[],o)=>{const s=e.find((e=>e.skuCode===o))||{};if((0,S.Z)(s))return{};const{skuNo:t,classtreeCode:a,brandCode:n,pntreeCode:l,memberCode:i}=s;return{skuCode:o,skuNo:t,classtreeCode:a,brandCode:n,pntreeCode:l,memberCode:i}};function q(e,o){const[s,t]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){const s=H(e,o);if((0,S.Z)(s))return;const a=yield((e={})=>(0,m.U2)("web/pm/promotion/queryPromotionListByGoodsCode.json",e))(s);t(a)}))})()}),[o,e]),s}const Y=e=>{(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{const o=yield M(e);((e={})=>{(0,m.v_)("web/um/footprint/saveFootprint.json",(0,m.eP)(e))})({footprintType:0,footprintOpcode:e,footprintOppic:o.dataPic,footprintOpcont:o.goodsName,footprintOpnum:o.pricesetNprice,footprintOpurl:""})}catch(e){console.log(e)}}))}),[])},K=(e=[])=>{const o=T((e=>e.spec)),s=(0,a.useMemo)((()=>{const{goodsName:s,pricesetNprice:t,dataPic:a,skuCode:n,goodsNum:l}=e.find((e=>e.skuName===(0,k.Z)(o).join("/")))||{};return{goodsName:s,skuCode:n,pricesetNprice:t,dataPic:a,goodsNum:l}}),[o,e]);return{spec:o,goodInfo:s}},Q={provinceName:"",areaName:"",cityName:""};const _={1:[{label:"北京市",value:"1"}],2:[{label:"上海市",value:"2"}],3:[{label:"天津市",value:"3"}],4:[{label:"重庆市",value:"4"}]};function $(e){const[o,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0);(0,a.useEffect)((()=>{l()}),[e]);const l=()=>R(this,void 0,void 0,(function*(){const e=(0,d.dU)(),o=yield j({isLocalMock:!e});s(o),n(!1)}));return{list:o,skullShow:t,delAddress:e=>{(0,d.dU)()&&(0,d.Bj)().showModal({title:"提示",content:"确认删除该地址吗？",success:o=>R(this,void 0,void 0,(function*(){(null==o?void 0:o.confirm)&&(yield((e={})=>(0,m.U2)("web/um/address/deleteAddress.json",e))({addressId:e.addressId}),(0,m.bx)(j),yield l())}))})},setDefault:(e,t)=>R(this,void 0,void 0,(function*(){if("1"!==e.addressDefault){const{addressMember:a,addressPhone:n,provinceCode:i,provinceName:c,cityCode:r,cityName:d,areaCode:u,areaName:p,addressDetail:h,addressId:g,addressCode:x,dataState:j}=e,f={addressMember:a,addressPhone:n,provinceCode:i,provinceName:c,cityCode:r,cityName:d,areaCode:u,areaName:p,addressDetail:h,addressId:g,addressCode:x,dataState:j,addressDefault:"1"};s(((e,o)=>{const s=o[e];return o[e]=o[0],o[e].addressDefault="0",o[0]=s,o[0].addressDefault="1",[...o]})(t,o)),yield((e={})=>(0,m.U2)("web/um/address/updateAddress.json",e))(f),yield l()}})),getAddressList:l,navigator:()=>{(0,d.i4)("addressEditor")}}}const[J,X,ee]=function(e,o){const s=(0,a.createContext)(null),n=(0,a.createContext)(null);return[({children:l})=>{const[i,c]=(0,a.useReducer)(e,o);return(0,t.jsx)(s.Provider,{value:c,children:(0,t.jsx)(n.Provider,{value:i,children:l})})},function(){return(0,a.useContext)(n)},function(){return(0,a.useContext)(s)}]}((function(e,o){switch(o.type){case"select":return Object.assign(Object.assign({},e),{select:o.payload});case"update":return Object.assign(Object.assign({},e),o.payload);default:return e}}),{id:"",count:0,loading:!1,select:[]});const oe=()=>{const[e,o]=(0,a.useState)([]),s=(0,a.useRef)(0),t=(0,a.useRef)(1),n=(0,a.useRef)(10),l=(0,a.useRef)([{id:1,label:"未使用",dataState:0,styleName:"unused",text:""},{id:2,label:"已使用",dataState:1,styleName:"used"},{id:3,label:"已失效",dataState:2,styleName:"overdue"}]);(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield i()}))}),[]);const i=()=>R(void 0,void 0,void 0,(function*(){try{const e=yield((e={})=>(0,m.v_)("web/pm/usercoupon/queryUsercouponPageForC.json",e))({page:t.current,rows:n.current,dataState:l.current[s.current].dataState,pbCode:"0004,0005"});o((o=>o.concat(e.list||[]))),t.current+=1}catch(e){console.log(e)}}));return{config:l,coe:s,list:e,setList:o,getList:i,switchTab:e=>R(void 0,void 0,void 0,(function*(){s.current=e,t.current=1,o([]),yield i()}))}};function se({contractBillcode:e,contractBbillcode:o}){const[s,t]=(0,a.useState)(!1),n=(0,a.useRef)(""),l=(0,d.dU)(),[i,c]=(0,a.useState)([]),r=(0,a.useRef)({}),u=(0,a.useRef)({dataBmoney:"",contractBillcode:""});(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){var s;try{const t=e?((e={})=>(0,m.v_)("web/oc/contract/syncContractState.json",e))({contractBillcode:e,isLocalMock:!l}):((e={})=>(0,m.v_)("web/oc/contract/syncContractBatchState.json",e))({contractBbillcode:o,isLocalMock:!l}),a=yield t;u.current=a.dataObj;const n=yield((e={})=>(0,m.v_)("web/pte/pay/saveOrderToPay.json",e))({contractBillcode:null!==(s=u.current.contractBillcode)&&void 0!==s?s:"",isLocalMock:!l});c(n.payChannelList),r.current=n}catch(e){console.log(44,e)}}))})()}),[]);const p=()=>R(this,void 0,void 0,(function*(){var e;const o=null!==(e=u.current.contractBillcode)&&void 0!==e?e:"";(0,d.po)("contractBillcode",{contractBillcode:o});const{ptradeSeqno:s,contractBlance:a,fchannelCode:l,faccountOuterNo:i}=(()=>{t(!0);const{ptradeSeqno:e,contractBlance:o,payChannelList:s}=r.current,{fchannelCode:a,faccountOuterNo:l=""}=((e,o)=>e.find((e=>e.fchannelCode===o))||{})(s,n.current);return{ptradeSeqno:e,contractBlance:o,fchannelCode:a,faccountOuterNo:l}})(),c=[{faccountIdType:"ACCOUNT",fchannelCode:l,orderAmount:u.current.dataBmoney,faccountId:i}];return yield((e={})=>(0,m.v_)("web/pte/pay/paymentCommit.json",e))({ptradeSeqno:s,payCommitStr:JSON.stringify(c),contractBlance:a})})),h=()=>R(this,void 0,void 0,(function*(){try{const e=yield p();document.getElementById("v_html").innerHTML="<div>"+e.dataObj.htmlStr+"</div>",document.forms[0].submit(),t(!1)}catch(e){t(!1)}})),g=()=>R(this,void 0,void 0,(function*(){try{const e=yield p();document.getElementById("v_html").innerHTML="<div>"+e.dataObj.htmlStr+"</div>",document.getElementById("paaspaysubmit").submit(),t(!1)}catch(e){t(!1)}})),x=()=>R(this,void 0,void 0,(function*(){try{let e=(yield p()).dataObj.requestData;wx.requestPayment({timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign,success:function(e){var o;const s=null!==(o=u.current.contractBillcode)&&void 0!==o?o:"";(0,d.LW)("result",{code:s})},fail:function(e){t(!1)},complete:function(e){t(!1)}})}catch(e){t(!1)}}));return{paymentImpl:()=>{switch(n.current||(0,d.Sp)("请选择支付方式","none"),n.current){case"wechatmini":x();break;case"wechatwap":g();break;case"alipaywap":h()}},channelList:i,handleRadio:e=>{n.current=e.detail.value},contract:u,loading:s}}const te={addressId:"",addressInfo:{}},ae=(e,o="success",s=1e3)=>{(0,d.Bj)().showToast({title:e,icon:o,duration:s})},ne=L({contractSettlBlance:"",contractPmode:"",contractSettlGmoney:0,contractSettlPmoney:0,contractSettlOpno:"",contractSettlOpemo:"",freight:0}),le={provinceName:"",cityName:"",areaName:"",addressDetail:"",addressMember:"",addressPhone:"",addressDefault:"",addressId:"",areaCode:"",userName:""};const ie={dataPic:"",goodsName:"",goodsCamount:0,skuName:"",pricesetNprice:0},ce={contractSettlOpno:0,shoppingCountPrice:0,totalDiscountPrice:0,accountsSumPrice:0,discount:0,freight:0,comDisMoney:0,copyComDisMoney:0,shoppingType:"",promotionCode:"",promotionCodes:""},re=({shoppingGoodsId:e,goodsNum:o,skuId:s})=>{const[t,n]=(0,a.useState)([ie]),[l,i]=(0,a.useState)([]),[c,r]=(0,a.useState)([]),u=(0,a.useRef)([]),[p,h]=(0,a.useState)(0),g=function(e=(e=>e)){return(0,a.useSyncExternalStore)(ne.subscribe,(()=>e(ne.getState())))}(),{freight:x=0}=g,j=O(g,["freight"]);(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){ne.setState({contractSettlBlance:"",contractPmode:"",contractSettlGmoney:0,contractSettlPmoney:0,contractSettlOpno:"",contractSettlOpemo:""}),e?yield C((()=>f({shoppingGoodsIdStr:`[${e}]`}))):yield C((()=>((e,o)=>R(void 0,void 0,void 0,(function*(){const s=(0,d.dU)(),t={skuId:e,goodsNum:o,isLocalMock:!s};return yield((e={})=>(0,m.v_)("web/oc/shopping/queryToContract.json",(0,m.eP)(e)))(t)})))(s,o)))}))}),[]);const N=(0,a.useMemo)((()=>j.contractSettlPmoney||0),[j]),C=e=>R(void 0,void 0,void 0,(function*(){try{const o=yield e();y(o)}catch(e){}})),y=e=>{if((0,S.Z)(e))return;let o=[],s=[],t=[];e.forEach((e=>{const a=Object.assign({},ce);a.shoppingType=e.goodsType,e.shoppingpackageList.forEach((e=>{a.comDisMoney+=e.disMoney,a.copyComDisMoney+=e.disMoney,e.shoppingGoodsList.forEach((s=>{o.push(s),a.shoppingCountPrice+=s.pricesetNprice*s.goodsCamount,s.contractGoodsGtype=0,a.promotionCode=e.promotionCode,s.goodsType})),e.disMoney>0&&u.current.push({contractSettlBlance:0==e.promotionInType?"PM":"COP",contractPmode:"0",contractSettlGmoney:Number(e.disMoney.toFixed(2)),contractSettlPmoney:Number(e.disMoney.toFixed(2)),contractSettlOpno:e.promotionCode,contractSettlOpemo:e.promotionName}),e.giftList&&(e.shoppingGoodsList=e.shoppingGoodsList.map((e=>(e.ginfoCode=e.pmPromotionList.find((e=>"0001"==e.pbCode)).promotionCode,e)))),s.push(...e.shoppingGoodsList,...e.giftList||[])})),t.push(a)})),i(t),n(s),r(o),v(t)},v=e=>{let o=0;e.forEach((e=>{const{shoppingCountPrice:s,totalDiscountPrice:t,discount:a,comDisMoney:n}=e;o+=s-t-a-n})),h(o)};return{amount:p,list:t,shoppingGoodsList:c,payState:l,ocContractSettlList:u,disCount:N,orderStoreInfo:j,freight:x}};const de={success:{icon:"zhifuchenggong",msg:"支付成功",buttonText:"查看订单",menuCode:"orderDetail",color:"#2ed82e"},error:{icon:"zhifushibai",info:"您的订单将保留15分钟，可点击下方“去支付”完成订单",buttonText:"去支付",menuCode:"paymentMode",color:"red"}};function me(e){const[o,s]=(0,a.useState)({icon:"daifahuo1",msg:"支付中",color:"#2ed82e",buttonText:"去支付",dataObj:{}}),[t,n]=(0,a.useState)(!1),l=(0,d.dU)();return(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){const o=(0,b.Z)(d.hD,"taroMenu[0].menuOpcode","index");l&&(0,d.Bj)().setStorageSync("menuOpcode",o),n(!0);try{const o=yield((e={})=>(0,m.v_)("web/oc/contract/syncContractPayState.json",e))({contractBillcode:e,isLocalMock:!l}),{sysRecode:t,dataObj:a}=o,n=O(o,["sysRecode","dataObj"]);s(Object.assign(Object.assign({dataObj:a,sysRecode:t},n),de[t]))}catch(o){s(Object.assign({dataObj:{contractBillcode:e},msg:o},de.error))}finally{n(!1)}}))})()}),[]),{result:o,loading:t}}function ue(e,o){const[s,t]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const s=o.filter((e=>!((0,P.Z)(e)||(0,S.Z)(e)))).filter((e=>!Object.values(e).every((o=>(0,P.Z)(o)||(0,S.Z)(e)))));let a=e;(0,S.Z)(s)||(a=s),t(a)}),[o]),s}const pe=[{name:"全部",code:""},{name:"待付款",code:"1"},{name:"待发货",code:"2"},{name:"待收货",code:"3"},{name:"已完成",code:"4,5"},{name:"已取消",code:"-1"}],he=e=>{const{name:o=""}=pe.find((o=>o.code.includes(e+"")))||{};return o},ge={1:[{name:"取消订单",handler:"cancel"},{name:"立即支付",handler:"pay"}],3:[{name:"物流信息",handler:"expressInfo"},{name:"确认收货",handler:"confirmReceive"}],4:[{name:"去评价",handler:"evaluate"}],5:[{name:"已完成"}]};const xe={contractBillcode:"",goodsList:[{dataPic:"",goodsName:"",dataBmoney:0,goodsCamount:0,contractGoodsId:0,dataState:0}],dataBmoney:0,dataBnum:0,dataState:0,contractId:"",contractAppraise:0};function je(e,o){const s=(0,a.useRef)(!1),[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)([xe]),c=(0,a.useRef)(0);(0,a.useEffect)((()=>{r()}),[o]);const r=(0,d.BO)((()=>{s.current=!1,c.current=0,u()})),u=(0,d.BO)((()=>R(this,void 0,void 0,(function*(){if(s.current)return;n(!0),++c.current;const{code:o}=e;try{const e=(0,d.dU)(),t=(yield((e={})=>(0,m.v_)("web/oc/contract/queryContractPageC.json",e))({page:c.current,rows:10,isLocalMock:!e,childFlag:!0,dataStateStr:o})).list||[];s.current=(0,S.Z)(t)||t.length<10,i((e=>1!==c.current?e.concat(t):t)),n(!1)}catch(e){}}))));return{onScroll:u,data:l,loading:t,init:r,countdownCancel:e=>R(this,void 0,void 0,(function*(){yield((e={})=>(0,m.v_)("/web/oc/contract/cancelUnpayOrder.json",e))({contractId:e})}))}}const fe={goodsList:[],dataState:"",packageRemark:"",goodsReceiptMem:"",goodsReceiptPhone:"",goodsReceiptArrdess:"",dataBmoney:0,goodsPmoney:0,contractInmoney:0,contractBillcode:"",refundMoney:0,gmtCreate:"",goodsNum:0,contractId:0},Ne={0:"在途",1:"揽收",2:"疑难",3:"签收",4:"退签",5:"派件",8:"清关",14:"拒签"},Ce=e=>{const[o,s]=(0,a.useState)({}),[t,n]=(0,a.useState)({});return(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{const o=(0,d.dU)(),t=yield x({contractBillcode:e,isLocalMock:!o});s(t);const a=(0,b.Z)(t,"packageList[0].expressCode",""),l=(0,b.Z)(t,"packageList[0].packageBillno"),i=yield((e={})=>(0,m.U2)("web/wl/exporg/queryExpressInfo.json",e))({expressNo:l,expressType:a,isLocalMock:!o});n(JSON.parse(i.dataObj))}catch(e){console.log(e)}}))}),[]),{info:o,detail:t,stateObj:Ne}};function ye(){const[e,o]=(0,a.useState)(""),[s,t]=(0,a.useState)([]),n=(0,d.dU)();(0,a.useEffect)((()=>{l()}),[]);const l=()=>R(this,void 0,void 0,(function*(){try{let e=yield((e={})=>(0,m.U2)("web/rs/rsGoodsClass/queryGoodsClassTree.json",(0,m.eP)(e)))();t(e||[]);const s=(0,b.Z)(e,"[0].goodsClassCode");o(s)}catch(e){console.log(e)}}));return{activeKey:e,navList:s,flag:n,setActiveKey:o}}const ve=()=>{const[e,o]=(0,a.useState)([]),s=(0,a.useRef)(1),[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)(""),[c,r]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),j=(0,a.useRef)(!1);(0,a.useEffect)((()=>{f()}),[]);const f=()=>R(void 0,void 0,void 0,(function*(){s.current=1,j.current=!1,o([]),yield N()})),N=()=>R(void 0,void 0,void 0,(function*(){var e;if(!j.current){x(!0);try{const t=yield((e={})=>(0,m.v_)("web/um/footprint/queryFootprintPagePlat.json",e))({rows:10,page:s.current});if(0===(null===(e=t.list)||void 0===e?void 0:e.length))return;if(o((e=>1===s.current?(console.log("第一页"),t.list):e.concat(t.list||[]))),t.list.length<10)return void(j.current=!0);s.current+=1}catch(e){return o([]),[]}finally{x(!1)}}}));return{footprintList:e,edit:t,setEdit:n,getData:N,getSelectItem:e=>{const o=e.detail.value;i(o.toString())},delItem:()=>R(void 0,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/um/footprint/deleteFootprintByCodeStr.json",e))({footprintCodeStr:l}),yield f(),n(!1)}catch(e){console.log(e)}})),init:f,checked:c,setChecked:r,handleSelectAll:e=>{e.detail.value.length?(r(!0),setCollectCodeStr((()=>{let e=[];for(let o=0;o<collectionList.length;o++)e.push(collectionList[o].collectCode);return e.toString()})())):r(!1)},selectAll:d,setSelectAll:u,selectAllChecked:p,loading:g}};function be(e){const[o,s]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){try{const o=yield((e={})=>(0,m.v_)("web/cms/notice/queryNoticePage.json",e))({page:1,rows:e,dataState:1}),t=(0,b.Z)(o,"list",[]);s(t)}catch(e){}}))})()}),[e]),{content:(0,a.useMemo)((()=>o.map((e=>e.noticeTitle))),[o]),navigator:e=>{const s=(0,b.Z)(o,`${e}.noticeId`,"");(0,d.i4)("noticeDetail",{noticeId:s})}}}const Se={doclistTitle:"",doclistTitle4:"",doclistContent:""},we=({defaultValue:e,goods:o})=>{const[s,t]=(0,a.useState)(e),n=(0,a.useRef)();return(0,a.useEffect)((()=>{(0,A.Z)(n.current,o)||(n.current=o,(0,S.Z)(o)?t(e):R(void 0,void 0,void 0,(function*(){try{const e=yield p({goodsCode:o.toString(),distinctField:"goodsNo"});t(e.list)}catch(o){t(e)}})))}),[o]),{list:s}},ke=e=>{const[o,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),{coupons:l,defaultValue:i}=e;(0,a.useEffect)((()=>{c()}),[l]);const c=()=>R(void 0,void 0,void 0,(function*(){if(0!==l.length)try{const e=yield((e={})=>(0,m.v_)("/web/pm/promotion/queryPromotioByCodePage.json",e))({promotionCode:null==l?void 0:l.join(","),list:1});s((0,b.Z)(e,"list",[]))}catch(e){console.log(e)}else s(i)}));return{list:o,setList:s,takeCoupon:({promotionCode:e,couponAmount:o,index:s})=>R(void 0,void 0,void 0,(function*(){try{yield N({promotionCode:e,couponAmount:o})}catch(e){console.log(41,e)}finally{n((e=>e.concat(s)))}})),takeList:t}},Ie=(0,a.createContext)([{},y.Z]),Be=(0,d.SV)(),Pe=[{name:"全部",code:""},{name:"进行中",code:"0,1,2,3,4,5"}];var Ae=s(28879),Le=s.n(Ae),De=s(73089),Te=s(56524),Oe=s(32130);function Re(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(s[t[a]]=e[t[a]])}return s}function Ve(e,o,s,t){return new(s||(s=Promise))((function(a,n){function l(e){try{c(t.next(e))}catch(e){n(e)}}function i(e){try{c(t.throw(e))}catch(e){n(e)}}function c(e){var o;e.done?a(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(l,i)}c((t=t.apply(e,o||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const Me={textarea:function(e){var o=Re(e,[]);return(0,t.jsx)(i.TextArea,Object.assign({},o))},checkboxList:function(e){var{form:o,options:s=[],optionsName:a="label",optionsKey:n="value",description:l,direction:c="horizontal"}=e,r=Re(e,["form","options","optionsName","optionsKey","description","direction"]);return(0,t.jsx)(i.CheckList,Object.assign({},r,{children:(0,t.jsx)(i.Space,{direction:c,children:s.map(((e,o)=>{var{direction:s="horizontal"}=e,c=Re(e,["direction"]);return(0,t.jsxs)(i.Space,{direction:s,children:[(0,t.jsx)(i.CheckList.Item,{value:c[n],children:c[a]}),l&&l.func(c[l.key])]},o)}))})}))},pick:({options:e=[],placeholder:o="请选择",value:s="",onChange:n=(e=>{}),name:i})=>{const{Picker:c}=(0,l.Co)(),r=(0,a.useMemo)((()=>e.map((e=>e.label))),[e]),d=(0,a.useMemo)((()=>{const{label:o=""}=e.find((e=>e.value===s))||{};return o}),[s,e]);return(0,t.jsx)(c,{value:s,mode:"selector",range:r,onChange:o=>{const s=o.detail.value,{value:t}=e[s];n(t)},children:s?d:o})},switch:function(e){var{value:o=""}=e,s=Re(e,["value"]);const{onChange:n}=s,[i,c]=(0,a.useState)(o),{Switch:r}=(0,l.Co)();return(0,t.jsx)(r,Object.assign({checked:i},s,{onChange:e=>{n(e.detail.value),c(e.detail.value)}}))},complex:function({innerForm:e=[],form:o}){return(0,t.jsx)(t.Fragment,{children:Fe(e,o)})},text:function(e){var o=Re(e,[]);return(0,t.jsx)(i.Input,Object.assign({},o))},checkbox:function(e){var{label:o}=e,s=Re(e,["label"]);return(0,t.jsx)(i.Checkbox,Object.assign({},s,{children:o}))},checkboxGroup:function(e){var{form:o,options:s=[],optionsName:a="label",optionsKey:n="value",description:l,direction:c="horizontal"}=e,r=Re(e,["form","options","optionsName","optionsKey","description","direction"]);return(0,t.jsx)(i.Checkbox.Group,Object.assign({},r,{children:(0,t.jsx)(i.Space,{direction:c,children:s.map(((e,o)=>{var{direction:s="horizontal"}=e,c=Re(e,["direction"]);return(0,t.jsxs)(i.Space,{direction:s,children:[(0,t.jsx)(i.Checkbox,{value:c[n],children:c[a]}),l&&l.func(c[l.key])]},o)}))})}))},select:e=>{var{options:o=[]}=e,s=Re(e,["options"]);return(0,t.jsx)(i.Selector,Object.assign({},s,{options:o}))},radioGroup:function(e){var{form:o,options:s=[],optionsName:a="label",optionsKey:n="value",direction:l="horizontal"}=e,c=Re(e,["form","options","optionsName","optionsKey","direction"]);return(0,t.jsx)(i.Radio.Group,Object.assign({},c,{children:(0,t.jsx)(i.Space,{direction:l,children:s.map(((e,o)=>{var{direction:s="horizontal"}=e,l=Re(e,["direction"]);return(0,t.jsx)(i.Space,{direction:s,children:(0,t.jsx)(i.Radio,{value:l[n],children:l[a]})},o)}))})}))},slot:(0,a.memo)((function(e){var{render:o}=e,s=Re(e,["render"]);return null==o?void 0:o(s)}))};function Fe(e,o,s){return e.map(((e,a)=>{var{name:n,type:l,extraProps:c={},calIsVisible:r=(()=>!0),calIsDisabled:d=(()=>!1)}=e,m=Re(e,["name","type","extraProps","calIsVisible","calIsDisabled"]);const{shouldUpdate:u=((e,o)=>!1)}=c,p=Re(c,["shouldUpdate"]),h=i.Form.Item;let g=(0,P.Z)(s)?n:[s,n];const x=Object.assign({name:g,type:l,valuePropName:["checkbox","switch"].includes(l)?"checked":"value"},m),j=(0,b.Z)(Me,l,Me.text),f=(0,t.jsx)(j,Object.assign({form:o,name:g,disabled:d(o)},p));return(0,t.jsx)(h,{shouldUpdate:u,noStyle:!0,children:()=>r(o)?(0,t.jsx)(h,Object.assign({},x,{noStyle:["slot"].includes(l),children:f})):null},(g||a).toString())}))}function Ge(e){const o=(0,a.useRef)(null);return o.current=(0,v.Z)(e)?e:y.Z,(0,a.useCallback)(((...e)=>o.current(...e)),[o])}(0,a.memo)((({fields:e,form:o})=>(0,t.jsx)(t.Fragment,{children:Fe(e,o)})));const Ee=(0,a.memo)((e=>{var{name:o="basic",footer:s,layout:n="horizontal",onSubmit:l,fields:c,transformSubmitDataConfig:r=[],otherAction:d=[]}=e,m=Re(e,["name","footer","layout","onSubmit","fields","transformSubmitDataConfig","otherAction"]);const[u,p]=(0,a.useState)([]),[h]=i.Form.useForm(),{loading:g,onFinish:x,onFinishFailed:j}=function(e,o,s=[]){const[t,n]=(0,a.useState)(!1),l=((e=[])=>Ge((o=>Ve(void 0,void 0,void 0,(function*(){const s=(0,De.Z)(e);for(;s.length>0;){const{from:e,isDelete:t=!1,to:a,format:n}=s.shift();if(!(0,Te.Z)(o,e)){o=(0,Oe.Z)(o,e);continue}const l=(0,b.Z)(o,e),i=(0,b.Z)(o,a);try{const s=yield n(l,i);(0,B.Z)(o,a,s),t&&(o=(0,Oe.Z)(o,e))}catch(e){const o=e.message||e.msg||"数据转化失败";throw new Error(o)}}return o})))))(s);return{onFinish:Ge((s=>Ve(this,void 0,void 0,(function*(){n(!0);try{const t=yield l(s);o(t,(o=>{const{setFieldsValue:s,getFieldsValue:t}=e;n(!1),s(t()),o&&i.Toast.show({icon:"success",content:o})}),(()=>{n(!1)}))}catch(e){i.Toast.show({icon:"fail",content:e.message}),n(!1)}})))),onFinishFailed:Ge((({errorFields:e})=>{console.log(52,e)})),loading:t,resetHandler:Ge((()=>{e.resetFields()})),computedSubmitValues:l}}(h,l,r);return(0,a.useEffect)((()=>{p(c)}),[c]),(0,t.jsx)(i.Form,Object.assign({footer:s||(0,t.jsx)(i.Button,{loading:g,block:!0,type:"submit",color:"primary",size:"large",children:"提交"}),layout:n,form:h,onFinish:x,onFinishFailed:j,name:o},m,{children:Fe(u,h)}))})),ze=(0,a.memo)((({width:e,height:o,top:s,right:a,bottom:n,left:i,borderRadius:c})=>{const{View:r}=(0,l.Co)();return(0,t.jsx)(r,{style:{width:e,height:o,borderRadius:c,top:s,left:i,right:a,bottom:n},className:"components-service"})})),Ze=({className:e="iconfont",prefixClass:o="icon",onClick:s=(()=>{}),style:a={fontSize:16,color:"#444",fontWeight:900},value:n})=>{const{Text:i}=(0,l.Co)();return(0,t.jsx)(i,{onClick:s,className:r()(o,n?`${o}-${n}`:"",e),style:a})},Ue=(0,a.memo)((({value:e,textIndent:o,fontSize:s,textAlign:a,color:n,backgroundColor:i,fontWeight:c,textDecoration:r,fontStyle:d,paddingTop:m,paddingLeft:u,paddingRight:p,paddingBottom:h})=>{const{View:g}=(0,l.Co)();return(0,t.jsx)(g,{className:"components-title",style:{paddingTop:m,paddingBottom:h},children:(0,t.jsx)(g,{style:{fontSize:s,textAlign:a,color:n,backgroundColor:i,fontWeight:c,textDecoration:r,fontStyle:d,paddingLeft:u,paddingRight:p,textIndent:o},children:e})})})),We=({TextLineBgColor:e,text:o,contentSize:s,lineStyle:a,fontSize:n,textAlign:i,fontColor:c,lineColor:r,fontWeight:d,fontStyle:m,textDecoration:u})=>{const{View:p}=(0,l.Co)();return(0,t.jsxs)(p,{className:"textLine",style:{backgroundColor:e,textAlign:i,margin:1===s?"0 10px":""},children:[(0,t.jsx)(p,{className:"blc",style:{borderBottom:`1px ${a} ${r}`}}),(0,t.jsx)(p,{className:"txt",style:{backgroundColor:e,fontWeight:d,fontStyle:m,textDecoration:u,fontSize:`${n}px`,color:c},children:o})]})},He=(0,a.memo)((({borderStyle:e,borderRadius:o,height:s,width:a,backgroundColor:n,paddingTop:i,paddingBottom:c})=>{const{View:r}=(0,l.Co)();return(0,t.jsx)(r,{style:{paddingTop:i,paddingBottom:c},children:(0,t.jsx)(r,{style:{borderRadius:o+"%",borderStyle:e,width:a+"%",height:s+"px",backgroundColor:n,marginLeft:"auto",marginRight:"auto"}})})})),qe=(0,a.memo)((({item:e,position:o,direction:s})=>{var a,n;const{Image:i,View:c}=(0,l.Co)();return(0,t.jsx)(i,{mode:"scaleToFill",src:e.imgUrl,style:{width:"100%",height:"100%",paddingBottom:"top"===o&&"vertical"===s?"30px":"",marginTop:"top"===o&&"horizontal"===s?"30px":""},onClick:d.i4.bind(null,null===(a=e.link)||void 0===a?void 0:a.value,null===(n=e.link)||void 0===n?void 0:n.params)})})),Ye=(0,a.memo)((({Position:e,className:o="",className1:s="",defaultValue:n=[],type:i,autoplay:c,autoplayInterval:d,direction:m,loop:u,paddingTop:p,paddingBottom:h,paddingLeft:g,paddingRight:x,selectImg:j,imgHeight:f,fontsize:N=16,textAlign:C="center",fontColor:y="#000000",backGroundColor:v="#ffffff"})=>{const b=(0,a.useMemo)((()=>r()({paddingbtm:"none"!==e,imgHeights:"bottom"===e&&"horizontal"===m}))),{SmoothSwiper:S,View:w}=(0,l.Co)(),k=ue(n,j||[]);return(0,t.jsx)(w,{className:o,style:{paddingTop:p,paddingBottom:h,paddingLeft:g,paddingRight:x},children:(0,t.jsx)(S,{imgHeight:f,data:k,className:b,type:i,autoplay:c,autoplayInterval:d,direction:m,loop:u,interval:5e3,vertical:"vertical"===m,render:o=>{return(0,t.jsxs)(t.Fragment,{children:["top"===e||"bottom"===e?(a=o,(0,t.jsx)(w,{className:s,style:{fontSize:N,zIndex:99,justifyContent:"left"===C?"flex-start":"center"===C?"center":"flex-end",color:y,backgroundColor:v},children:a.title})):null,(0,t.jsx)(qe,{item:o,position:e,direction:m})]});var a}})})})),Ke=(0,a.memo)((({paddingTop:e,paddingBottom:o,paddingLeft:s,paddingRight:n,defaultValue:i=[],type:c,autoplay:d,autoplayInterval:m,direction:u,loop:p,selectImg:h,vertical:g,imgHeight:x,paddingTB:j=0,paddingLR:f=0,fontsize:N=16,textAlign:C="center",fontColor:y="#000000",backGroundColor:v="#ffffff",otherStyles:b=[],ImgShadow:S=!1,Position:w="top"})=>{const{View:k}=(0,l.Co)(),I=(0,a.useMemo)((()=>r()("silder-title",{"silder-tops1":"top"===w&&"horizontal"===u,"silder-bottoms":"bottom"===w&&"horizontal"===u,"silder-bottoms1":"vertical"===u&&"bottom"===w,"silder-tops":"vertical"===u&&"top"===w},...b)),[b,w]);return(0,t.jsx)(k,{style:{padding:`${j}px ${f}px`},children:(0,t.jsx)(Ye,{Position:w,defaultValue:i,type:c,autoplay:d,autoplayInterval:m,direction:u,loop:p,selectImg:h,vertical:g,imgHeight:x,paddingTop:e,paddingBottom:o,paddingLeft:s,paddingRight:n,fontsize:N,textAlign:C,fontColor:y,backGroundColor:v,className:r()({"outer-shadow":S}),className1:I})})})),Qe=(0,a.memo)((({url:e,poster:o,autoplay:s,loop:a,paddingTop:n,paddingBottom:i,paddingLeft:c,paddingRight:r})=>{const{View:d}=(0,l.Co)();return(0,t.jsx)(d,{style:{paddingTop:n,paddingBottom:i},children:(0,t.jsx)("video",{className:"components-video",src:e,poster:o,autoPlay:s,loop:a,controls:!0,"object-fit":"contain",style:{width:"100%",height:"240px",paddingLeft:c,paddingRight:r}})})})),_e=(0,a.memo)((({defaultValue:e,borderRadius:o,paddingTop:s,paddingBottom:a,selectClassifyNav:n})=>{const{View:i,Text:c}=(0,l.Co)(),r=ue(e,n);return(0,t.jsx)(i,{style:{paddingTop:s,paddingBottom:a},children:(0,t.jsx)(i,{className:"classifyNav",children:r.map(((e,s)=>(0,t.jsxs)(i,{className:"classifyNavItem",onClick:()=>{var o,s;return(0,d.i4)(null===(o=e.link)||void 0===o?void 0:o.value,null===(s=e.link)||void 0===s?void 0:s.params)},children:[(0,t.jsx)("img",{src:e.imgUrl,alt:"",className:"img",style:{borderRadius:`${o}px`}}),(0,t.jsx)(c,{className:"label",children:e.title})]},s)))})})})),$e=({defaultValue:e,selectClassifyNav:o,navRadius:s,navBorderColor:a,navBgColor:n,navBoxShadow:i,imgRadius:c,imgBoxShadow:r,layout:m,marginTop:u,marginBottom:p})=>{const{View:h}=(0,l.Co)(),g=ue(e,o);return(0,t.jsx)(h,{className:"classifyNav-one",style:{gridTemplateColumns:`repeat(${m}, 1fr)`,borderRadius:s,border:`1px solid ${a}`,backgroundColor:n,boxShadow:i?"0px 0px 20px 10px #ddd":"none",marginTop:u,marginBottom:p},children:g.map(((e,o)=>(0,t.jsx)(h,{className:"classifyNav-item",onClick:()=>{var o,s;return(0,d.i4)(null===(o=e.link)||void 0===o?void 0:o.value,null===(s=e.link)||void 0===s?void 0:s.params)},children:(0,t.jsx)("img",{src:e.imgUrl,alt:"",className:"classifyNav-item-img",style:{borderRadius:c,boxShadow:r?"0px 0px 20px 5px #EEE":"none"}})},o)))})},Je=(0,a.memo)($e),Xe=(0,a.memo)((({defaultValue:e,selectClassifyNav:o,navRadius:s,navBorderColor:n,navBgColor:i,navBoxShadow:c,fontSize:m,fontColor:u,tagBgColor:p,otherStyle:h,layout:g,marginTop:x,marginBottom:j})=>{const{View:f}=(0,l.Co)(),N=ue(e,o),C=(0,a.useMemo)((()=>r()("classifyNav-two-item-title",...h)),[h]);return(0,t.jsx)(f,{className:"classifyNav-two",style:{gridTemplateColumns:`repeat(${g}, 1fr)`,border:`1px solid ${n}`,borderRadius:s,backgroundColor:i,boxShadow:c?"0px 0px 20px 5px #EEE":"none",marginTop:x,marginBottom:j},children:N.map(((e,o)=>(0,t.jsx)(f,{className:"classifyNav-two-item",onClick:()=>{var o,s;return(0,d.i4)(null===(o=e.link)||void 0===o?void 0:o.value,null===(s=e.link)||void 0===s?void 0:s.params)},style:{width:4===g?"74px":"60px"},children:(0,t.jsx)(f,{className:C,style:{fontSize:m,color:u},children:e.title})},o)))})})),eo=(0,a.memo)((({defaultValue:e,selectClassifyNav:o,navRadius:s,navBorderColor:a,navBgColor:n,navBoxShadow:i,imgRadius:c,imgBoxShadow:r,fontSize:m,fontColor:u,tagBgColor:p,otherStyle:h,layout:g,marginTop:x,marginBottom:j})=>{const{View:f}=(0,l.Co)(),N=ue(e,o);return(0,t.jsx)(f,{className:"classifyNav-three",style:{gridTemplateColumns:`repeat(${g}, 1fr)`,border:`1px solid ${a}`,borderRadius:s,backgroundColor:n,boxShadow:i?"0px 0px 20px 5px #EEE":"none",marginTop:x,marginBottom:j},children:N.map(((e,o)=>(0,t.jsx)(f,{className:"classifyNav-three-item",onClick:()=>{var o,s;return(0,d.i4)(null===(o=e.link)||void 0===o?void 0:o.value,null===(s=e.link)||void 0===s?void 0:s.params)},style:{backgroundImage:`url(${e.imgUrl})`,borderRadius:c,boxShadow:r?"0px 0px 20px 5px #EEE":"none",width:4===g?"74px":"60px",height:4===g?"74px":"60px"},children:(0,t.jsx)(f,{className:"classifyNav-three-item-tag",style:{backgroundColor:p},children:(0,t.jsx)(f,{className:["classifyNav-three-item-txt",...h].join(" "),style:{fontSize:m,color:u},children:e.title})})},o)))})})),oo=(0,a.memo)((({position:e=10,bg:o,color:s,fontSize:n})=>{const i=(0,a.useMemo)((()=>(0,d.dU)()),[]),{View:c}=(0,l.Co)(),{goTop:r}=(()=>{const[,e]=(0,a.useContext)(Ie)||[{},y.Z];return{goTop:()=>{e((e=>{const{scrollTop:o}=e;return Object.assign(Object.assign({},e),{scrollTop:0===o?1:0})}))}}})();return(0,t.jsx)(c,{className:"backTop",onClick:r,style:{padding:i?"0":"10px"},children:(0,t.jsx)(Ze,{style:{display:"inline-block",color:s,fontSize:n,backgroundColor:o,position:i?"fixed":"relative",right:i?"20px":"0",bottom:i?"120px":"0",margin:`0 auto ${e}px`,zIndex:999},value:"backtop"})})})),so=(0,a.memo)((({defaultValue:e,type:o,borderRadius:s,outerShadow:a,paddingRight:n,paddingLeft:i,picGap:c,xGap:r,paddingTop:m,paddingBottom:u,selectImg:p})=>{const{View:h,Image:g}=(0,l.Co)(),x=ue(e,p);return(0,t.jsx)(h,{style:{paddingTop:m,paddingBottom:u,paddingLeft:r,paddingRight:r},children:(0,t.jsx)(h,{className:`cube-type${o}`,style:{paddingLeft:i,paddingRight:n,gap:c},children:x.map(((e,n)=>(0,t.jsx)(g,{className:"block "+(a?"outer-shadow":""),mode:1===o?"widthFix":"scaleToFill",src:e.imgUrl,style:{width:"100%",borderRadius:s+"px"},onClick:()=>{var o,s;return(0,d.i4)(null===(o=e.link)||void 0===o?void 0:o.value,null===(s=e.link)||void 0===s?void 0:s.params)}},n)))})})})),to=n().createContext(null),ao=(0,a.memo)((()=>{const{View:e}=(0,l.Co)(),{tip:o}=(0,a.useContext)(to);return(0,t.jsx)(e,{className:"afterSalesApplyTip",children:o})}));function no(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)o.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(s[t[a]]=e[t[a]])}return s}function lo(e,o,s,t){return new(s||(s=Promise))((function(a,n){function l(e){try{c(t.next(e))}catch(e){n(e)}}function i(e){try{c(t.throw(e))}catch(e){n(e)}}function c(e){var o;e.done?a(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(l,i)}c((t=t.apply(e,o||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const io=()=>{const[e,o]=(0,a.useState)([]),s=(0,a.useMemo)((()=>(0,d.dU)()),[]);(0,a.useEffect)((()=>{lo(void 0,void 0,void 0,(function*(){const e=(0,d.cF)("service");if(e)o(t(e));else{const e=yield((e={})=>(0,m.U2)("/web/ocs/ocsconfig/queryOcsconfigList.json",e))();o(t(e))}}))}),[]);const t=e=>{let o=[];for(let s=0;s<e.length;s++){const t=e[s].ocsOcserviceReDomain;o.push(`${t.ocserviceName}: ${t.ocserviceRemark}`)}return o};return{servicePopup:()=>{s&&(0,d.Bj)().showActionSheet({itemList:e,success:function(e){console.log(e.tapIndex)},fail:function(e){console.log(e.errMsg)}})}}},co={label:""},ro=(e=0)=>e?"￥"+e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"￥ 0",mo=(e=0)=>e?e.toLocaleString("en-Us",{minimumFractionDigits:2}):"0",uo=(e,o)=>{const s=Math.floor(e/1e3)%60,t=Math.floor(e/1e3/60)%60,a=Math.floor(e/1e3/60/60)%24;return`${Math.floor(e/1e3/60/60/24)}天 ${a}小时 ${t}分钟 ${s}秒${o}`},po=e=>1===String(e).indexOf(".")?ho(e):go(e),ho=e=>{const o=Number(e).toFixed(0),s=(Number(e)-Number(o)).toFixed(2),t=[];return o.split("").reverse().forEach(((e,s)=>{t.push(e),(s+1)%3==0&&s!==o.length-1&&t.push(",")})),t.reverse().join("")+"."+String(s).slice(2)},go=e=>{const o=Number(e).toFixed(0),s=[];return o.split("").reverse().forEach(((e,t)=>{s.push(e),(t+1)%3==0&&t!==o.length-1&&s.push(",")})),s.reverse().join("")+".00"},xo=(e,o)=>(0,a.useMemo)((()=>{const{$_pageQuery:s={}}=e,t=s[o];return e[t]}),[e]),jo=e=>{var{bottomHeight:o,children:s,id:n,heightWrap:i}=e,c=no(e,["bottomHeight","children","id","heightWrap"]);const r=(0,a.useMemo)((()=>(0,d.dU)()),[]),m=function(e){const[o,s]=(0,a.useState)(0);return(0,a.useEffect)((()=>{if(!(0,d.dU)()||!e)return;const o=(0,d.Bj)().createSelectorQuery();setTimeout((()=>{o.select(`#${e}`).boundingClientRect((e=>{if(e){const{top:o}=e;s(o)}})).exec()}))})),o}(n),u=function(e=""){return(0,a.useMemo)((()=>{if(!(0,d.dU)())return 0;const o=(0,d.Bj)(),s=o.getStorageSync("safeArea"),t=o.getStorageSync("tabBarHeight")||0;return s+(o.getCurrentPages().at(-1).$taroPath.indexOf("pages/")>=0?t:0)+(e?+e:0)}),[])}(o),{View:p}=(0,l.Co)(),h=(0,a.useMemo)((()=>r?n?{height:`calc(${(0,d.Bj)().getSystemInfoSync().windowHeight+"px"} - ${m+u}px)`}:{maxHeight:"50vh",overflow:"auto"}:n?{height:"100%"}:{maxHeight:"50vh",overflow:"auto"}),[m,u]);return(0,t.jsx)(p,Object.assign({},c,{style:Object.assign(Object.assign({},h),{paddingBottom:n?"":u}),id:n,children:s}))},fo=(0,a.memo)((()=>{const{View:e,SmoothRadio:o,Radio:s,Popup:n,ScrollView:i,WrapLoading:c}=(0,l.Co)(),{handlePopupShow:r,popupVisible:d,reasonList:m,handleChooseReason:u,popupLoading:p}=(0,a.useContext)(to);return(0,t.jsx)(n,{popupVisible:d,popupHandler:r,children:(0,t.jsx)(c,{loading:p,children:(0,t.jsx)(e,{className:"reasonPopup",children:(0,t.jsx)(jo,{children:(0,t.jsxs)(i,{children:[(0,t.jsx)(e,{className:"title",children:"退款原因"}),(0,t.jsx)(o,{onChange:u,children:m.map(((o,a)=>(0,t.jsxs)(e,{className:"reasonItem",children:[(0,t.jsx)(e,{className:"label",children:o.flagSettingInfo}),(0,t.jsx)(s,{value:o.flagSettingInfo})]},a)))})]})})})})})})),No=(0,a.memo)((()=>{const{View:e}=(0,l.Co)(),{handlePopupShow:o,popupVisible:s,reason:n,goodsPrice:i}=(0,a.useContext)(to);return(0,t.jsxs)(e,{className:"afterSalesApplyFillIn",children:[(0,t.jsxs)(e,{className:"reason",children:[(0,t.jsxs)(e,{className:"fillInLabel",children:[(0,t.jsx)(e,{className:"icon",children:"*"}),(0,t.jsx)(e,{className:"word",children:"退款原因"})]}),(0,t.jsx)(e,{className:"choose",onClick:o,children:n?(0,t.jsx)(e,{className:"chooseResult",children:n}):(0,t.jsxs)(e,{children:["请选择",(0,t.jsx)(Ze,{style:{fontSize:12,color:"#C3C6CD"},value:"xiangyou1"})]})})]}),(0,t.jsxs)(e,{className:"price",children:[(0,t.jsxs)(e,{className:"fillInLabel",children:[(0,t.jsx)(e,{className:"icon",children:"*"}),(0,t.jsx)(e,{className:"word",children:"退款金额"})]}),(0,t.jsx)(e,{className:"allPrice",children:(0,t.jsx)(e,{className:"single",children:ro(i)})})]}),(0,t.jsx)(fo,{popupShow:s})]})})),Co=(0,a.memo)((()=>{const{View:e,TextArea:o,Textarea:s}=(0,l.Co)(),n=s||o,{handleChooseImg:i,imgGroup:c,placeholder:r,handleDelImg:d,limit:m,handleFillInReason:u}=(0,a.useContext)(to);return(0,t.jsxs)(e,{className:"afterSalesApplySubFillIn",children:[(0,t.jsx)(e,{className:"title",children:"补充描述和凭证"}),(0,t.jsxs)(e,{className:"content",children:[(0,t.jsx)(n,{placeholder:r,rows:5,maxLength:200,style:{marginBottom:15},onInput:u}),(0,t.jsxs)(e,{className:"imgGroup",children:[c.length<m?(0,t.jsx)(e,{className:"add",onClick:i,children:(0,t.jsxs)(e,{className:"addContent",children:[(0,t.jsx)(Ze,{value:"shangchuanpingzheng"}),(0,t.jsx)(e,{className:"word",children:"上传凭证"}),(0,t.jsxs)(e,{className:"num",children:[c.length,"/",m]})]})}):null,c.map(((o,s)=>(0,t.jsx)(e,{className:"imgItem",style:{backgroundImage:`url(${o})`},children:(0,t.jsx)(e,{className:"cancel",onClick:d.bind(null,s),children:(0,t.jsx)(Ze,{value:"close-bold",style:{fontSize:12}})})},s)))]})]})]})})),yo=({refundType:e,contractBillcode:o,skuCode:s,goodsNum:n,goodsPrice:i,paddingTop:c,paddingLeft:r,paddingRight:u,paddingBottom:p})=>{const{View:g,WrapLoading:x}=(0,l.Co)(),{tip:j,reasonList:f,popupVisible:N,popupLoading:C,handlePopupShow:y,handleChooseReason:v,reason:b,handleChooseImg:S,imgGroup:w,placeholder:k,handleDelImg:I,limit:B,goodsInfo:P,handleFillInReason:A,handleSubmit:L,loading:D}=(({contractBillcode:e,skuCode:o})=>{const[s,t]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),[r,u]=(0,a.useState)(""),[p,g]=(0,a.useState)([]),[x,j]=(0,a.useState)({}),[f,N]=(0,a.useState)(""),[C,y]=(0,a.useState)(!1),v=(0,d.dU)();(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield b()}))}),[]);const b=()=>R(void 0,void 0,void 0,(function*(){try{const s=yield h({contractBillcode:e,skuCode:o,isLocalMock:!v});j(s.dataObj)}catch(e){console.log(e)}})),S=e=>e.map((e=>({refundFileUrl:e})));return{tip:"请与商家协商，确认达成一致后填写协商好的退款金额。",reasonList:s,popupVisible:n,popupLoading:i,handlePopupShow:()=>R(void 0,void 0,void 0,(function*(){l((e=>!e)),n||0!==s.length||(yield R(void 0,void 0,void 0,(function*(){c(!0);try{const e=yield((e={})=>(0,m.U2)("/web/oc/refund/queryRefCause.json",e))({isLocalMock:!v});t(e)}catch(e){console.log(e)}finally{c(!1)}})))})),handleChooseReason:e=>{u(e.detail.value),l(!1)},reason:r,handleChooseImg:()=>{const e=(0,d.Bj)();e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){e.uploadFile({url:`${Be}web/oc/refund/uploadRefFile.json`,filePath:o.tempFilePaths[0],name:"file",header:{"saas-agent":"qj-wemini","saas-token":(0,d.cF)("saas-token")},success(e){const o=JSON.parse(e.data),s=(0,d.dU)();if("nologin"===o.errorCode)(0,d.i4)(s?"/account/auth/index":"/account/mobileLogin/index");else{const e=Be+o.fileUrl;g((o=>[...o,e]))}}})}})},placeholder:"描述补充，有助于商家更好的处理售后问题",imgGroup:p,handleDelImg:e=>{g((o=>[...o.slice(0,e),...o.slice(e+1)]))},limit:3,goodsInfo:x,handleFillInReason:e=>{N(e.detail.value)},handleSubmit:(e,o,s)=>R(void 0,void 0,void 0,(function*(){console.log(83,123123123);const{contractGoodsCode:t,goodsCamount:a,contractGoodsPrice:n}=x;if(!r)return void ae("请填写退款信息","none");y(!0);const l={ocRefundGoodsBeanList:[{contractGoodsCode:t,goodsCamount:a,refundGoodsNum:+e,refundGoodsAmt:+e*n}],contractBillcode:o,refundMoney:+e*+n,refundEx:r,refundMeo:f,ocRefundFileDomainList:S(p),refundType:s};try{const e=yield((e={})=>(0,m.v_)("/web/oc/refund/saveRefund.json",e))({params:JSON.stringify(l)});e.success&&(ae(e.msg),setTimeout((()=>{(0,d.i4)("afterSalesList")}),1e3))}catch(e){console.log(e)}finally{y(!1)}})),loading:C}})({contractBillcode:o,skuCode:s});return(0,t.jsx)(x,{loading:D,children:(0,t.jsx)(g,{className:"afterSalesApply",style:{paddingTop:c,paddingBottom:p,paddingLeft:r,paddingRight:u},children:(0,t.jsxs)(to.Provider,{value:{tip:j,reasonList:f,popupVisible:N,popupLoading:C,handlePopupShow:y,handleChooseReason:v,reason:b,handleChooseImg:S,imgGroup:w,placeholder:k,handleDelImg:I,limit:B,goodsNum:n,goodsPrice:i,goodsInfo:P,handleFillInReason:A,handleSubmit:L},children:[(0,t.jsx)(ao,{}),(0,t.jsx)(No,{}),(0,t.jsx)(Co,{}),(0,t.jsx)(g,{className:"submitBtn",onClick:L.bind(null,n,o,e),children:"确定"})]})})})},vo={B01:{icon:"tuikuan1",label:"仅退款(无需退货)",color:"#58BE6A"},B02:{icon:"tuikuan1",label:"退货退款",color:"#C52922"}},bo={B01:{"-2":"商家拒绝","-1":"撤销申请",0:"申请退款-待审核",3:"退款中",8:"审核通过-退款完成",9:"退款失败"},B02:{"-2":"商家拒绝","-1":"撤销申请",0:"申请退货退款-待审核",1:"审核通过-商家通过申请-填写物流信息",2:"用户填写完物流信息-待商家收货",3:"退款中",6:"商家拒绝收货",8:"商家收货完成-退款完成",9:"退款失败"}},So=(0,a.memo)((({data:e,goAfterSalesDetail:o})=>{var s,a;const{View:n,Image:i}=(0,l.Co)();return(0,t.jsxs)(n,{className:"afterSalesListItem",onClick:o.bind(null,e.refundCode),children:[(0,t.jsxs)(n,{className:"title",children:[(0,t.jsxs)(n,{className:"lPart",children:["服务单号: ",e.refundCode]}),(0,t.jsxs)(n,{className:"rPart",children:[(0,t.jsx)(Ze,{style:{color:null===(s=vo[e.refundType])||void 0===s?void 0:s.color,fontSize:12},value:null===(a=vo[e.refundType])||void 0===a?void 0:a.icon}),(0,t.jsx)(n,{className:"txt",children:vo[e.refundType].label})]})]}),(0,t.jsxs)(n,{className:"goodsInfo",children:[(0,t.jsx)(n,{className:"lPart",children:(0,t.jsx)(i,{src:e.ocRefundGoodsList[0].dataPic,className:"img"})}),(0,t.jsxs)(n,{className:"rPart",children:[(0,t.jsx)(n,{className:"goodsName",children:e.ocRefundGoodsList[0].goodsName}),(0,t.jsxs)(n,{className:"count",children:["申请数量: ",e.ocRefundGoodsList[0].refundGoodsNum]})]})]}),(0,t.jsxs)(n,{className:"tip",children:[(0,t.jsx)(n,{class:"lPart",children:bo[e.refundType][e.dataState]}),(0,t.jsx)(Ze,{style:{fontSize:12,color:"#A5A5A5"},value:"xiangyou1"})]})]})})),wo=(0,a.memo)((()=>{const{View:e}=(0,l.Co)();return(0,t.jsx)(e,{className:"noData",children:(0,t.jsx)(e,{className:"txt",children:"暂无售后单"})})})),ko=(0,a.memo)((({item:e,refreshNum:o})=>{const{View:s,ScrollView:n,WrapLoading:i}=(0,l.Co)(),{afterSalesList:c,goAfterSalesDetail:r,loading:u,haseData:p}=((e,o)=>{const s=(0,a.useRef)(!1),[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)([]),c=(0,a.useRef)(0),[r,u]=(0,a.useState)(!0),p=(0,d.dU)();(0,a.useEffect)((()=>{h()}),[o]),(0,a.useEffect)((()=>(console.log("父组件, 挂载"),()=>{console.log("父组件, 卸载")})),[l]);const h=(0,d.BO)((()=>{c.current=0,i([]),g()})),g=(0,d.BO)(((o={})=>R(void 0,void 0,void 0,(function*(){if(s.current)return;n(!0),++c.current;const{code:o}=e;try{const e=yield((e={})=>(0,m.v_)("web/oc/refund/queryRefundPageBuy.json",e))({page:c.current,rows:10,dataStates:o,isLocalMock:!p});s.current=(0,S.Z)(e.list)||e.list.length<10,0===e.list.length&&u(!1),i((o=>o.concat(e.list||[])))}catch(e){--c.current,console.log(e)}finally{n(!1)}}))));return{afterSalesList:l,onScroll:g,loading:t,init:h,goAfterSalesDetail:e=>{(0,d.i4)("afterSalesDetail",{refundCode:e})},haseData:r}})(e,o);return(0,t.jsx)(i,{loading:u,children:(0,t.jsx)(s,{className:"tabContent",children:(0,t.jsx)(jo,{id:"tabContent",children:(0,t.jsx)(n,{children:p?c.map((e=>(0,t.jsx)(So,{data:e,goAfterSalesDetail:r.bind(null,e.refundCode)}))):(0,t.jsx)(wo,{})})})})})})),Io=(0,a.memo)((({refreshNum:e,paddingTop:o,paddingBottom:s,paddingLeft:a,paddingRight:n})=>{const{View:i,Tabs:c}=(0,l.Co)();return(0,t.jsx)(i,{className:"afterSalesList",style:{paddingTop:o,paddingBottom:s,paddingLeft:a,paddingRight:n},children:(0,t.jsx)(c,{defaultIndex:0,tabs:Pe,render:o=>(0,t.jsx)(ko,{item:o,refreshNum:e})})})})),Bo=({dataPic:e,goodsName:o,goodsCamount:s,pricesetNprice:n,skuName:i,children:c})=>{const{View:r,Image:d,SmoothView:m}=(0,l.Co)(),u=ro(n),p=(0,a.useMemo)((()=>s?`x ${s}`:""),[s]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r,{className:"card-item",children:[(0,t.jsx)(d,{src:e,alt:"",className:"card-item-img"}),(0,t.jsxs)(r,{className:"card-item-info",children:[(0,t.jsxs)(r,{className:"card-item-info-container",children:[(0,t.jsx)(m,{className:"card-item-info-container-title",children:o}),(0,t.jsx)(m,{className:"card-item-info-container-price",children:u})]}),(0,t.jsxs)(r,{className:"card-item-info-sub",children:[(0,t.jsx)(m,{className:"sku",children:i}),(0,t.jsx)(m,{className:"count",children:p})]}),c]})]})})},Po=n().createContext(null),Ao=(0,a.memo)((()=>{const{companyList:e,popupShow:o,handlePopupShow:s,chooseCompany:n}=(0,a.useContext)(Po),{View:i,SmoothRadio:c,Radio:r,Popup:d,ScrollView:m}=(0,l.Co)();return(0,t.jsx)(d,{popupVisible:o,popupHandler:s,children:(0,t.jsx)(i,{className:"reasonPopup",children:(0,t.jsx)(jo,{children:(0,t.jsxs)(m,{children:[(0,t.jsx)(i,{className:"title",children:"物流选择"}),(0,t.jsx)(c,{onChange:n,children:e.map(((e,o)=>(0,t.jsxs)(i,{className:"reasonItem",children:[(0,t.jsx)(i,{className:"label",children:e.expressName}),(0,t.jsx)(r,{value:`${e.expressName}-${e.expressCode}`})]},o)))})]})})})})})),Lo=(0,a.memo)((()=>{const{handlePopupShow:e,packageName:o,setPackageBillno:s,submitExpressInfo:n}=(0,a.useContext)(Po),{View:i,Input:c}=(0,l.Co)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i,{className:"sender_content",children:[(0,t.jsxs)(i,{className:"sender_name",children:[(0,t.jsx)(i,{className:"sender_icon",children:"*"}),(0,t.jsx)(i,{className:"sender_names",children:"物流公司"})]}),(0,t.jsx)(i,{className:"sender_input name_style",onClick:e,children:(0,t.jsx)(i,""===o?{style:{color:"#000"},children:"请填写"}:{children:o})})]}),(0,t.jsxs)(i,{className:"sender_content",children:[(0,t.jsxs)(i,{className:"sender_name",children:[(0,t.jsx)(i,{className:"sender_icon",children:"*"}),(0,t.jsx)(i,{className:"sender_names",children:"物流单号"})]}),(0,t.jsx)(i,{className:"sender_input",children:(0,t.jsx)(c,{type:"number",placeholder:"请填写",onInput:e=>s(e.detail.value)})})]}),(0,t.jsx)(i,{className:"expressInfo",children:(0,t.jsx)(i,{className:"expressInfo_btn",onClick:n,children:"提交物流信息"})}),(0,t.jsx)(Ao,{})]})})),Do=(0,a.memo)((({refundCode:e,paddingTop:o,paddingLeft:s,paddingRight:n,paddingBottom:i})=>{const{afterSalesDetailInfo:c,submitExpressInfo:r,handleCancelAfterSales:u,companyList:p,popupShow:h,handlePopupShow:x,chooseCompany:j,packageName:f,setPackageBillno:N,loading:C}=(({refundCode:e})=>{const[o,s]=(0,a.useState)({}),[t,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),[c,r]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[j,f]=(0,a.useState)(!1),N=(0,d.dU)();(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield C()}))}),[]);const C=()=>R(void 0,void 0,void 0,(function*(){f(!0);try{(0,m.bx)(g);const o=yield g({refundCode:e,isLocalMock:!N});1===o.dataState&&(yield y()),s(o)}catch(e){console.log(e)}finally{f(!1)}})),y=()=>R(void 0,void 0,void 0,(function*(){try{const e=yield((e={})=>(0,m.v_)("/web/wl/express/queryExpressPageForProp.json",e))({dataState:1});n(e.list)}catch(e){console.log(e)}}));return{setAfterSalesDetailInfo:s,afterSalesDetailInfo:o,submitExpressInfo:()=>R(void 0,void 0,void 0,(function*(){if(c&&u&&h)try{yield((e={})=>(0,m.v_)("/web/oc/refund/sendGoods.json",e))({packageBillno:c,refundCode:e,packageCode:u,packageName:h}),(0,m.bx)(g),yield C()}catch(e){console.log(e)}else ae("请填写完成信息","error")})),companyList:t,handleCancelAfterSales:o=>R(void 0,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("/web/oc/refund/res.json",e))({goodsCode:o,refundCode:e}),(0,m.bx)(g),yield C()}catch(e){console.log(e)}})),popupShow:l,handlePopupShow:()=>{i((e=>!e))},chooseCompany:e=>{const o=e.detail.value.split("-");x(o[0]),p(o[1]),i(!1)},packageName:h,setPackageBillno:r,loading:j}})({refundCode:e}),{dataState:y,gmtCreate:v,ocRefundGoodsList:b,refundMoney:S,refundMeo:w,refundEx:k,refundType:I,ocRefundFileList:B,goodsReceiptMem:P,goodsReceiptPhone:A,goodsReceiptArrdess:L,packageCode:D,packageBillno:T}=c,{View:O,Image:V,WrapLoading:M}=(0,l.Co)();return(0,t.jsx)(M,{loading:C,children:(0,t.jsx)(O,{className:"afterSalesDetail",style:{paddingTop:o,paddingBottom:i,paddingLeft:s,paddingRight:n},children:(0,t.jsxs)(Po.Provider,{value:{companyList:p,popupShow:h,handlePopupShow:x,chooseCompany:j,packageName:f,setPackageBillno:N,submitExpressInfo:r},children:[(0,t.jsxs)(O,{className:"afterSalesDetailTopTitle",style:{background:"#000"},children:[(0,t.jsx)(O,{className:"left_text",children:(F=I,G=y,"B01"===F?{"-2":"商家拒绝","-1":"撤销申请",0:"申请退款-待审核",3:"退款中",8:"审核通过-退款完成",9:"退款失败"}[G]:"B02"===F?{"-2":"商家拒绝","-1":"撤销申请",0:"申请退货退款-待审核",1:"审核通过-商家通过申请-填写物流信息",2:"用户填写完物流信息-待商家收货",3:"退款中",6:"商家拒绝收货",8:"商家收货完成-退款完成",9:"退款失败"}[G]:void 0)}),(0,t.jsx)(O,{className:"right_time",children:Le()(v).format("YYYY-MM-DD HH:mm:ss")})]}),(0,t.jsx)(O,{className:"afterSalesDetailContent",children:(0,t.jsxs)(O,{className:"refundDetail",children:[(0,t.jsx)(O,{className:"title",children:"退款信息"}),(0,t.jsx)(O,{className:"goodsDetail",children:null==b?void 0:b.map(((e,o)=>(0,t.jsx)(Bo,{dataPic:e.dataPic,pricesetNprice:e.pricesetNprice,goodsName:e.goodsName,goodsCamount:e.refundGoodsNum,skuName:e.skuName},o)))}),(0,t.jsxs)(O,{className:"refund_Detail",children:[(0,t.jsx)(O,{className:"left",children:"退款原因"}),(0,t.jsx)(O,{className:"right",children:k})]}),(0,t.jsxs)(O,{className:"refund_Detail",children:[(0,t.jsx)(O,{className:"left",children:"退款金额"}),(0,t.jsx)(O,{className:"right",children:S})]}),(0,t.jsxs)(O,{className:"refund_Detail",children:[(0,t.jsx)(O,{className:"left",children:"描述说明"}),(0,t.jsx)(O,{className:"right",children:w})]}),(0,t.jsxs)(O,{className:"refund_Detail",children:[(0,t.jsx)(O,{className:"left",children:"补充凭证"}),(0,t.jsx)(O,{className:"right",children:null==B?void 0:B.map(((e,o)=>(0,t.jsx)(V,{src:e.refundFileUrl,mode:"widthFix",className:"refundImg"},o)))})]}),(0,t.jsxs)(O,{className:"refund_Detail",children:[(0,t.jsx)(O,{className:"left",children:"申请时间"}),(0,t.jsx)(O,{className:"right",children:Le()(v).format("YYYY-MM-DD HH:mm:ss")})]}),(0,t.jsxs)(O,{className:"refund_Detail",children:[(0,t.jsx)(O,{className:"left",children:"退款编号"}),(0,t.jsx)(O,{className:"right",children:e})]}),(0,t.jsx)(t.Fragment,{children:"B02"===I?(0,t.jsxs)(t.Fragment,{children:[y>0?(0,t.jsxs)(O,{className:"merchantMsg",children:[(0,t.jsx)(O,{className:"title",children:"商家信息"}),(0,t.jsxs)(O,{className:"name",children:[P,"  ",A]}),(0,t.jsx)(O,{className:"address",children:L})]}):"",1===y?(0,t.jsxs)(O,{className:"writeMsg",children:[(0,t.jsx)(O,{className:"wlMsg",children:"物流信息"}),(0,t.jsx)(Lo,{})]}):"",y>1?(0,t.jsxs)(O,{className:"writeMsg",children:[(0,t.jsx)(O,{className:"wlMsg",children:"物流信息"}),(0,t.jsxs)(O,{className:"express_content",children:[(0,t.jsx)(O,{className:"name",children:"物流单号"}),(0,t.jsx)(O,{className:"code",children:T})]}),(0,t.jsxs)(O,{className:"express_content",children:[(0,t.jsx)(O,{className:"name",children:"物流公司"}),(0,t.jsx)(O,{className:"code",children:f})]}),(0,t.jsxs)(O,{className:"express_content",children:[(0,t.jsx)(O,{className:"name",children:"物流公司编码"}),(0,t.jsx)(O,{className:"code",children:D})]})]}):""]}):""})]})}),0===y?(0,t.jsx)(O,{className:"footerBtn",children:(0,t.jsx)(O,{className:"btn",onClick:u.bind(null,b[0].goodsCode),children:"撤销申请"})}):null]})})});var F,G})),To=n().createContext(null),Oo=(0,a.memo)((()=>{const{View:e,Image:o,NumStep:s,SmoothView:n}=(0,l.Co)(),{typeTip:i,setTypeTip:c,goodsNum:r,handleStep:d,goodsInfo:m,goodsPrice:u}=(0,a.useContext)(To),{goodsName:p,skuName:h,dataPic:g}=m;return(0,t.jsxs)(e,{className:"afterSalesTypeItem",children:[(0,t.jsx)(e,{className:"afterSalesTypeTitle",children:"退款商品"}),(0,t.jsxs)(e,{className:"afterSalesTypeContent",children:[(0,t.jsx)(o,{src:g,className:"img"}),(0,t.jsxs)(e,{className:"info",children:[(0,t.jsxs)(e,{className:"base",children:[(0,t.jsx)(n,{className:"name",children:p}),(0,t.jsx)(n,{className:"price",children:ro(u)})]}),(0,t.jsxs)(e,{className:"advance",children:[(0,t.jsx)(e,{className:"size",children:h}),(0,t.jsxs)(e,{className:"stepWrap",children:[(0,t.jsx)(Ze,{style:{fontSize:12,color:"#C3C6CD",margin:"8px"},value:"bangzhu",onClick:()=>c((e=>!e))}),(0,t.jsx)(s,{count:r,handleStep:d})]})]}),i?(0,t.jsx)(e,{className:"tip",children:"如部分商品未售后成功, 剩余商品将不能申请售后"}):null]})]})]})})),Ro={1:[{label:"仅退款(无需退货)",value:"B01"},{label:"退货退款",value:"B02"}],2:[{label:"仅退款(无需退货)",value:"B01"}],3:[{label:"仅退款(无需退货)",value:"B01"},{label:"退货退款",value:"B02"}],4:[{label:"仅退款(无需退货)",value:"B01"},{label:"退货退款",value:"B02"}]},Vo=(e=2)=>Ro[e],Mo=(0,a.memo)((({afterSalesType:e=2,contractBillcode:o,skuCode:s})=>{const{View:n}=(0,l.Co)(),{goApply:i,goodsNum:c}=(0,a.useContext)(To);return(0,t.jsx)(n,{children:(0,t.jsxs)(n,{className:"afterSalesTypeType",children:[(0,t.jsx)(n,{className:"title",children:"售后类型"}),Vo(+e).map(((e,a)=>(0,t.jsxs)(n,{className:"item",onClick:i.bind(null,e.value,o,s,c),children:[(0,t.jsx)(n,{className:"headline",children:e.label}),(0,t.jsx)(Ze,{style:{fontSize:12,color:"#C3C6CD"},value:"xiangyou1"})]},a)))]})})})),Fo=e=>{const{contractBillcode:o,skuCode:s,dataState:n,paddingTop:i,paddingLeft:c,paddingRight:r,paddingBottom:m}=e,{typeTip:u,setTypeTip:p,goodsNum:g,handleStep:x,goodsInfo:j,goApply:f,loading:N,goodsPrice:C}=(({contractBillcode:e,skuCode:o})=>{const[s,t]=(0,a.useState)({}),[n,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(1),[r,m]=(0,a.useState)(0),[u,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield j()}))}),[]);const j=()=>R(void 0,void 0,void 0,(function*(){p(!0);try{const s=(0,d.dU)(),a=(yield h({contractBillcode:e,skuCode:o,isLocalMock:!s})).dataObj,{contractGoodsMoney:n,contractGoodsAremoney:l,goodsCamount:i,contractGoodsArefnum:r}=a,u=+n-+l;if(t(a),.01===u)return m(u),x(!0),void c(+i-+r);m(a.contractGoodsPrice)}catch(e){console.log(e)}finally{p(!1)}}));return{typeTip:n,setTypeTip:l,goodsNum:i,handleStep:e=>{if(g)return;const{goodsCamount:o,contractGoodsArefnum:t,contractGoodsMoney:a,contractGoodsAremoney:n,contractGoodsPrice:l}=s;if("plus"===e){const e=+o-+t;if(i>=e)return;m(e===i+1?a-n:(i+1)*l),c((e=>e+1))}else if("minus"===e){if(1===i)return;m((i-1)*l),c((e=>e-1))}},goodsInfo:s,goApply:(e,o,s,t)=>{(0,d.i4)("afterSalesApply",{refundType:e,contractBillcode:o,skuCode:s,goodsNum:t,goodsPrice:r})},loading:u,goodsPrice:r,stepLock:g}})({contractBillcode:o,skuCode:s}),{View:y,WrapLoading:v}=(0,l.Co)();return(0,t.jsx)(v,{loading:N,children:(0,t.jsx)(y,{className:"afterSalesType",style:{paddingTop:i,paddingLeft:c,paddingRight:r,paddingBottom:m},children:(0,t.jsxs)(To.Provider,{value:{typeTip:u,setTypeTip:p,goodsNum:g,handleStep:x,goodsInfo:j,goApply:f,goodsPrice:C},children:[(0,t.jsx)(Oo,{}),(0,t.jsx)(Mo,{afterSalesType:n,contractBillcode:o,skuCode:s})]})})})},Go=({setDefault:e,checked:o})=>{const{SmoothCheckbox:s,Checkbox:a}=(0,l.Co)();return(0,t.jsx)(s,{onChange:e,children:(0,t.jsx)(a,{checked:o,style:{"--icon-size":"18px","--font-size":"14px","--gap":"6px"},children:"设为默认地址"})})},Eo=({itemData:e,delAddress:o,setDefault:s})=>{const{View:a,Text:n}=(0,l.Co)(),{handlerImpl:i}=function(e){return{handlerImpl:()=>{(0,d.z9)({PlaceOrderAddress:e.addressId}),(0,d.yZ)(-1)}}}(e);return(0,t.jsxs)(a,{className:"addressItem",children:[(0,t.jsxs)(a,{className:"upInfo",onClick:i,children:[(0,t.jsxs)(a,{className:"userInfo",children:[e.addressMember," ",e.addressPhone]}),(0,t.jsx)(a,{className:"addressInfo",children:(0,t.jsxs)(n,{className:"address",children:[e.provinceName," ",e.areaName," ",e.cityName," ",e.addressDetail]})})]}),(0,t.jsxs)(a,{className:"downInfo",children:[(0,t.jsx)(Go,{checked:"1"===(null==e?void 0:e.addressDefault),setDefault:s}),(0,t.jsx)(n,{className:"del",onClick:o,children:"删除"})]})]})},zo=(0,a.memo)((()=>{const{View:e,Skeleton:o}=(0,l.Co)(),s=(0,a.useRef)(new Array(3).fill(0));return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(e,{className:"skullWrap",children:(0,t.jsx)(e,{className:"skull",children:s.current.map(((e,s)=>(0,t.jsx)(o,{className:"skullItem",animated:!0},s)))})})})})),Zo=(0,a.memo)((({url:e,title:o,subTitle:s,link:a,style:n})=>{const{View:i,Image:c}=(0,l.Co)();return(0,t.jsx)(i,{className:"noData",style:n,children:(0,t.jsxs)(i,{className:"content",children:[(0,t.jsx)(c,{className:"img",src:e}),(0,t.jsx)(i,{className:"title",children:o}),(0,t.jsx)(i,{className:"subTitle",children:s}),a?(0,t.jsxs)(i,{className:"link",onClick:()=>(0,d.i4)(a),children:["去看看",(0,t.jsx)(l.yC,{value:"xiangyou1"})]}):null]})})})),Uo=(0,a.memo)((({refreshNum:e,btnShape:o,btnColor:s,borderColor:a,paddingBottom:n,paddingTop:i,color:c})=>{const{View:r}=(0,l.Co)(),{list:d,delAddress:m,setDefault:u,skullShow:p}=$(e);return(0,t.jsx)(r,{className:"addressListWrap",style:{paddingTop:i+"px",marginBottom:n+"px"},children:p?(0,t.jsx)(zo,{}):(0,t.jsx)(r,{className:"addressList",children:d.length?d.map(((e,o)=>(0,t.jsx)(Eo,{itemData:e,setDefault:u.bind(null,e,o),delAddress:m.bind(null,e)},null==e?void 0:e.addressId))):(0,t.jsx)(Zo,{url:"https://brushes.oss-cn-shanghai.aliyuncs.com/static/mini/noAddress.png",title:"您还没有添加过地址"})})})})),Wo=(0,a.memo)((({borderColor:e,color:o,btnColor:s,btnShape:a,paddingTop:n,paddingBottom:i})=>{const{View:c}=(0,l.Co)();return(0,t.jsx)(c,{className:"addressListBtnWrap",style:{paddingTop:`${n}px`,paddingBottom:`${i}px`},children:(0,t.jsx)(c,{style:{borderRadius:a,borderColor:e,color:o,backgroundColor:s},className:"addressListBtn",onClick:()=>(0,d.i4)("addressEditor"),children:"+ 新增地址"})})})),Ho=({form:e,name:o})=>{const{options:s}=function(){const[e,o]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){const e=(yield((e={})=>(0,m.v_)("web/bs/province/queryProvincePage.json",(0,m.eP)(e)))()).list.map((e=>({value:e.provinceCode,label:e.provincName})));o(e)}))})()}),[]),{options:e}}();return(0,t.jsx)(t.Fragment,{children:Fe([{type:"pick",name:o,label:"选择省",rules:[{required:!0,message:"所在省不能为空"},{validator:(e,o)=>{const{label:t}=s.find((e=>e.value===o))||{label:""};return Q.provinceName=t,Promise.resolve(o)}}],extraProps:{placeholder:"请选择",options:s}}],e)})},qo=({form:e,name:o})=>{const{options:s}=function(e){const o=(0,a.useRef)(!0),[s,t]=(0,a.useState)([]),n=e.getFieldValue("provinceCode");return(0,a.useEffect)((()=>((()=>{R(this,void 0,void 0,(function*(){if(o.current||(e.setFieldValue("cityCode",void 0),e.setFieldValue("areaCode",void 0)),!n)return void t([]);if(["1","2","3","4"].includes(n))return void t(_[n]);const s=(yield C({provinceCode:n})).list.map((e=>({value:e.areaCode,label:e.areaName})));t(s)}))})(),()=>{o.current=!1})),[n,e]),{options:s}}(e);return(0,t.jsx)(t.Fragment,{children:Fe([{type:"pick",name:o,label:"选择市",rules:[{required:!0,message:"所在市不能为空"},{validator:(e,o)=>{const{label:t}=s.find((e=>e.value===o))||{label:""};return console.log(2222222222222),Q.cityName=t,Promise.resolve(o)}}],extraProps:{placeholder:"请选择",options:s}}],e)})},Yo=({form:e,name:o})=>{const{options:s}=function(e){const o=(0,a.useRef)(!0),[s,t]=(0,a.useState)([]),n=e.getFieldValue("cityCode"),l=e.getFieldValue("provinceCode");return(0,a.useEffect)((()=>((()=>{R(this,void 0,void 0,(function*(){if(o.current||e.setFieldValue("areaCode",void 0),!n)return void t([]);let s={};s=["1","2","3","4"].includes(n)?{provinceCode:n}:{areaParentCode:n};const a=(yield C(s)).list.map((e=>({value:e.areaCode,label:e.areaName})));t(a)}))})(),()=>{o.current=!1})),[n,e,l]),{options:s}}(e);return console.log("update"),(0,t.jsx)(t.Fragment,{children:Fe([{type:"pick",name:o,label:"选择区",rules:[{required:!0,message:"所在区不能为空"},{validator:(e,o)=>{const{label:t}=s.find((e=>e.value===o))||{label:""};return Q.areaName=t,Promise.resolve(o)}}],extraProps:{placeholder:"请选择",options:s}}],e)})},Ko=[{from:"addressDefault",to:"addressDefault",format:e=>!0===e?1:0}],Qo=[{type:"text",props:{onlyShowClearWhenFocus:!0,placeholder:"请填写收货人姓名"},label:"收货人",name:"addressMember",rules:[{required:!0,message:"收货人姓名不能为空"}]},{type:"text",props:{type:"number",onlyShowClearWhenFocus:!0,placeholder:"请填写收货人手机号码"},label:"手机号码",name:"addressPhone",rules:[{required:!0,message:"收货人手机号码不能为空"},{validator:(e,o)=>new Promise(((e,s)=>{!/^1[3456789]\d{9}$/.test(o)&&o?s("请输入正确手机号"):e("")}))}]},{type:"slot",name:"provinceCode",extraProps:{render:({form:e,name:o})=>(0,t.jsx)(Ho,{form:e,name:o})}},{type:"slot",name:"cityCode",extraProps:{shouldUpdate:(e,o)=>e.provinceCode!==o.provinceCode,render:({form:e,name:o})=>(0,t.jsx)(qo,{form:e,name:o})}},{type:"slot",name:"areaCode",extraProps:{shouldUpdate:(e,o)=>e.cityCode!==o.cityCode,render:({form:e,name:o})=>(0,t.jsx)(Yo,{form:e,name:o})}},{type:"text",props:{onlyShowClearWhenFocus:!0,placeholder:"街道/楼牌号等"},label:"详细地址",name:"addressDetail",rules:[{required:!0,message:"收货人详细地址不能为空"}]},{type:"switch",label:"设置默认地址",name:"addressDefault",extraProps:{color:"#000"}}],_o=(0,a.memo)((({btnShape:e,btnColor:o,borderColor:s,color:a,paddingTop:n,paddingBottom:i})=>{const{View:c,Button:r}=(0,l.Co)(),{onSubmit:u}=function(){return{onSubmit:(e,o,s)=>R(this,void 0,void 0,(function*(){console.log(7,e,Q);try{yield((e={})=>(0,m.U2)("web/um/address/saveAddress.json",e))(Object.assign(Object.assign({},e),Q)),(0,m.bx)(j);let{AddressList:s=0}=(0,d.mf)();(0,d.z9)({AddressList:++s}),o(),(0,d.yZ)(-1)}catch(e){s()}}))}}();return(0,t.jsx)(c,{className:"addressDetail",style:{paddingBottom:i+"px",paddingTop:n+"px"},children:(0,t.jsx)(Ee,{footer:(0,t.jsx)(r,{style:{color:a,backgroundColor:o,borderColor:s},shape:e,block:!0,type:"submit",size:"large",children:"提交"}),transformSubmitDataConfig:Ko,onSubmit:u,fields:Qo})})})),$o=(0,a.memo)((({navList:e,activeKey:o,cell:s=4})=>{const{View:a,Text:n,Image:i}=(0,l.Co)();return(0,t.jsx)(t.Fragment,{children:e.map((e=>(0,t.jsx)(a,{className:["content",o===`${e.goodsClassCode}`?" active":""].join(""),children:((null==e?void 0:e.childList)||[]).map((e=>(0,t.jsxs)(a,{className:"classifyFloor",children:["0"===e.goodsClassHide?(0,t.jsxs)(a,{className:"titleWrap",children:[(0,t.jsx)(n,{className:"title",children:e.goodsClassName}),(0,t.jsx)(n,{className:"line"})]}):"",(0,t.jsx)(a,{className:`container container_columns${s}`,style:{marginTop:"0"===e.goodsClassHide?"":"20px"},children:((null==e?void 0:e.childList)||[]).map((({classtreeCode:e,goodsClassCode:o,goodsClassLogo:s,goodsClassName:n})=>(0,t.jsxs)(a,{onClick:()=>(0,d.i4)("goodList",{classtreeCode:e}),className:"classifyFloorGoodsItem",children:[(0,t.jsx)(i,{src:s,className:"logo"}),(0,t.jsx)(a,{className:"title",children:n})]},o)))})]},e.goodsClassCode)))},e.goodsClassCode)))})})),{SideBar:Jo}=i,Xo=(0,a.memo)((({cell:e,color:o,activeTitle:s,paddingTop:a,paddingBottom:n})=>{const{View:i,ScrollView:c}=(0,l.Co)(),{activeKey:r,setActiveKey:d,navList:m,flag:u}=ye();return(0,t.jsx)(i,{children:(0,t.jsx)(jo,{id:"goodsClassify",children:(0,t.jsx)(c,{children:(0,t.jsxs)(i,{style:{height:u?"100%":"667px",paddingTop:a,paddingBottom:n},className:"goodsClassifyContainer",children:[(0,t.jsx)(i,{className:"side",children:(0,t.jsx)(Jo,{activeKey:r,onChange:d,style:{"--width":"90px","--background-color":"#f5f5f5"},children:m.map((e=>(0,t.jsx)(Jo.Item,{title:e.goodsClassName,className:0===s?"typeBlock":"typeNoBlock",style:{color:e.goodsClassCode===r?o:"#000"}},e.goodsClassCode)))})}),(0,t.jsx)(i,{className:"main",children:(0,t.jsx)($o,{navList:m,activeKey:r,cell:e})})]})})})})})),es=(0,a.createContext)(null),os=(0,a.memo)((()=>{const{navList:e,activeKey:o,setActiveKey:s,setFCoe:n,setSCoe:i,selectFontColor:c}=(0,a.useContext)(es),{View:r,ScrollView:d}=(0,l.Co)(),[m,u]=(0,a.useState)(!1),p=(e,o)=>{s.bind(null,e)(),n(`${o}`),i("0"),m&&u(!1)};return(0,t.jsxs)(r,{className:"goodsClassifyOne-headerPart",children:[(0,t.jsxs)(r,{className:"goodsClassifyOne-topListWrap",children:[(0,t.jsx)(r,{className:"goodsClassifyOne-topList",children:e.map(((e,s)=>(0,t.jsx)(r,{className:["goodsClassifyOne-topListItem"].join(" "),onClick:()=>p(e.goodsClassCode,s),style:{color:o===`${e.goodsClassCode}`?c:"#000",borderColor:o===`${e.goodsClassCode}`?c:"#000"},children:e.goodsClassName},s)))}),(0,t.jsx)(r,{className:"goodsClassifyOne-icon",onClick:()=>u(!0),children:(0,t.jsx)(l.yC,{value:"paixusort-jiang"})})]}),m?(0,t.jsxs)(r,{className:"goodsClassifyOne-tipWrap",children:[(0,t.jsx)(r,{className:"goodsClassifyOne-tipWrap-handleBar",children:(0,t.jsx)(r,{className:"goodsClassifyOne-icon",onClick:()=>u(!1),children:(0,t.jsx)(l.yC,{value:"paixusort-sheng"})})}),(0,t.jsx)(jo,{children:(0,t.jsx)(d,{children:(0,t.jsx)(r,{className:"goodsClassifyOne-tipWrapItemWrap",children:e.map(((e,s)=>(0,t.jsx)(r,{class:["goodsClassifyOne-tipWrapItem"].join(""),onClick:()=>p(e.goodsClassCode,s),style:{color:o===`${e.goodsClassCode}`?c:"#000",borderColor:o===`${e.goodsClassCode}`?c:"#000"},children:e.goodsClassName},s)))})})})]}):null]})})),ss=(0,a.memo)((({thirdList:e})=>{const{View:o,Image:s}=(0,l.Co)(),{picShadow:n,layout:i}=(0,a.useContext)(es);return(0,t.jsx)(o,{className:"goodsClassifyOneFloor",style:{gridTemplateColumns:`repeat(${i}, 1fr)`},children:e.map(((e,a)=>(0,t.jsxs)(o,{className:"goodsClassifyOneFloorItem",onClick:()=>(0,d.i4)("goodList",{classtreeCode:e.classtreeCode}),children:[(0,t.jsx)(s,{src:e.goodsClassLogo,className:"pic",style:{boxShadow:n?"#DDDDDD 0px 0px 10px":""}}),(0,t.jsx)(o,{className:"title",children:e.goodsClassName})]},a)))})})),ts=(0,a.memo)((()=>{const{navList:e,fCoe:o,sCoe:s,setSCoe:n,selectFontColor:i,selectBlcShow:c,selectBlcStyle:r}=(0,a.useContext)(es),m=(0,a.useMemo)((()=>(0,d.dU)()),[]),{secondList:u,thirdList:p}=(({navList:e,fCoe:o,sCoe:s})=>{const t=(0,a.useMemo)((()=>{var s;return(null===(s=e[o])||void 0===s?void 0:s.childList)||[]}),[o,e]),n=(0,a.useMemo)((()=>{var e;return(null===(e=t[s])||void 0===e?void 0:e.childList)||[]}),[s,o,e]);return{secondList:t,thirdList:n}})({navList:e,fCoe:o,sCoe:s}),{View:h,ScrollView:g,SideBar:x}=(0,l.Co)();return(0,t.jsx)(h,{children:(0,t.jsx)(jo,{id:"goodsClassifyOneContent",children:(0,t.jsx)(g,{children:(0,t.jsxs)(h,{className:"goodsClassifyOneContent",style:{height:m?"100%":"667px"},children:[(0,t.jsx)(x,{activeKey:s,onChange:n,children:u.map(((e,o)=>(0,t.jsx)(x.Item,{title:e.goodsClassName,className:[c?"":"goodsClassifyOneFloorNoBlc",1===r?"":"goodsClassifyOneFloorNoRound"].join(" "),style:{"adm-side-bar-item-active":i,"--adm-color-primary":i}},o)))}),(0,t.jsx)(ss,{thirdList:p})]})})})})})),as=(0,a.memo)((({selectFontColor:e,selectBlcColor:o,selectBlcShow:s,selectBlc:n,selectBlcStyle:i,picShadow:c,layout:r})=>{const{View:d}=(0,l.Co)(),{navList:m,activeKey:u,setActiveKey:p}=ye(),[h,g]=(0,a.useState)("0"),[x,j]=(0,a.useState)("0");return(0,t.jsx)(es.Provider,{value:{fCoe:h,setFCoe:g,sCoe:x,setSCoe:j,navList:m,activeKey:u,setActiveKey:p,selectFontColor:e,selectBlcColor:o,selectBlcShow:s,selectBlc:n,selectBlcStyle:i,picShadow:c,layout:r},children:(0,t.jsxs)(d,{className:"goodsClassifyOne",children:[(0,t.jsx)(os,{}),(0,t.jsx)(ts,{})]})})})),ns=(0,a.memo)((({childList:e,layout:o,picShadow:s,style:a})=>{const{View:n,Image:i}=(0,l.Co)();return(0,t.jsx)(n,{className:"level3Arr",style:Object.assign({gridTemplateColumns:`repeat(${o}, 1fr)`},a),children:e.map(((e,o)=>(0,t.jsxs)(n,{className:"level3ArrItem",onClick:()=>(0,d.i4)("goodList",{classtreeCode:e.classtreeCode}),children:[(0,t.jsx)(i,{src:e.goodsClassLogo,className:"logo",style:{boxShadow:s?"#DDDDDD 0px 0px 10px":""}}),(0,t.jsx)(n,{className:"title",children:e.goodsClassName})]},o)))})})),ls=(0,a.memo)((({navList:e,activeKey:o,layout:s,picShadow:n})=>{var i;const[c,r]=(0,a.useState)(0);(0,a.useEffect)((()=>{r(e.findIndex(d))}),[o,c]);const d=e=>e.goodsClassCode===o,{View:m,Image:u}=(0,l.Co)();return(0,t.jsxs)(m,{className:"goodsClassifyTwoContent",children:[(0,t.jsx)(u,{className:"firstLevelImg",src:(0,b.Z)(e[c],"goodsClassLogo"),mode:"widthFix"}),null===(i=(0,b.Z)(e[c],"childList"))||void 0===i?void 0:i.map(((e,o)=>(0,t.jsxs)(m,{children:["0"===e.goodsClassHide?(0,t.jsx)(m,{className:"level2Title",children:e.goodsClassName}):"",(0,t.jsx)(ns,{childList:e.childList,layout:s,picShadow:n,style:{marginTop:"0"===e.goodsClassHide?"":"30px"}})]},o)))]})})),{SideBar:is}=i,cs=(0,a.memo)((({selectFontColor:e,selectBlcShow:o,selectBlcColor:s,selectBlcStyle:a,layout:n,picShadow:i})=>{const{View:c}=(0,l.Co)(),{activeKey:r,setActiveKey:d,navList:m,flag:u}=ye();return(0,t.jsx)(c,{className:"goodsClassifyTwo",children:(0,t.jsx)(jo,{id:"goodsClassifyTwo",children:(0,t.jsxs)(c,{className:"goodsClassifyTwoWrap",style:{height:u?"100%":"667px"},children:[(0,t.jsx)(c,{className:"side",children:(0,t.jsx)(is,{activeKey:r,onChange:d,style:{"--width":"88px","--background-color":"#f5f5f5"},children:m.map((s=>(0,t.jsx)(is.Item,{title:s.goodsClassName,className:[o?"":"goodsClassifyTwoFloorNoBlc",1===a?"":"goodsClassifyTwoFloorNoRound"].join(" "),style:{"--adm-color-primary":e}},s.goodsClassCode)))})}),(0,t.jsx)(c,{className:"main",children:(0,t.jsx)(ls,{navList:m,activeKey:r,layout:n,picShadow:i})})]})})})})),rs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAADcdJREFUeF7tnQXMZUcVx38FihUvbkGCu7sVDVYo7lLctUhwd1JcUiw4FCgeXIMU1+LuUtwtP3Ze2C673zvn3pkr37sn2WzTPTNv5sz/jhzdi4U2WgJ7bfTsl8mzAGDDQbAAYAHAhktgw6e/7AALADZcAhs+/WUHWACw4RLY8OkvO8ACgG0jgb2BMwHnKH+fCNgHOB7gfwv2vwF/BI4E/gD8Cvg68DXgh9tGEomJzHkHOCewH3B54LzAGYFjJOa+K6uAEAifAt4HfAD4eY/+ZtF0TgA4FnBN4ICy8KdsLOF/A18C3g28Gji88e+N0v0cAHAh4JbATYCTjSKlHT96BPAa4GXAt0ccR9WfnioAjg7cGHgQcK6qM+7f2b+Aw4DHleOif48j9jA1AHiR80t/MHC2EeUS/emPAg8H3httMDW+KQHg2sDBwBmmJqTAeN4B3B34VoB3UixTAMBpgMcDt5iUZPKD8Yn5dOARwF/yzcdpMSYA/O37FYEdd5zpN/nVbwIHAh9q0nvlTscCwEmBlwJXrzyfqXT3T+AxwKMAL42TpTEAcFnglYBb/3an9wM3BX461YkODYC7lXOyj8Zud7L0i/s88Nmi2lW965/f7aT6td0xi3r4xMC+wFmBs5cXx8WA0zdYqB8D1wA+16Dv3l0OCYBHAw/pPeL/daDu/g3lCeZ5+5sKfZ8ZuAJwZeBawHEq9GkXvwWuU9TLlbqs080QAFCp8xzgDhWGrCHn0KKNc3tteb6eALheeZ1ob+grq78CNyvjryCKOl30ndS6Ubj4nvc3XMe45t+13j0TeEax4PXsLt1cY5PKqesDzqkreVTdtgC4ax9V27UGwPOAO/YYsV+8KlcX//c9+qnV1DuDR1kfQP8DuC7w1lqD6tNPSwD4BHpoj8EpIC+N3+vRR6umHgnPBjRJd6E/A1cBPtKlcc02rQBwlyKgLmP9RdkmJ/GFbDEBXxTaAR4IHK3DRH8NXAb4Soe21Zq0AIDPqQ8DGnay5G3ed/OPsg1H5PfV8ArgVB3G8A1Ac/dox1ttAPi29i1+ug7CeFK5aHlRmhu5+L5OLtFh4C8f0w5SEwD29UZg/6QQ9Lw5CHhKst3U2LVnvLYofbJjux1wSLZRDf6aALhX0fJlxvV34NblqZhpN1VeNZwupB5MGfJSeMHidZRp15u3FgBOC3y1eOBGB+WX75v4JdEGM+FTphq6suZt7z++LpTLYFQLAK8vWrPMwO8LPC3TYEa8XoDfAlw1OWYvwK9KtunFXgMAVwP0iMmQ5/39Mw1myHv88s5XixilnxTjlEasQagvADzzfMeeJTFalR8+ndSIbXdSc2icgWCI0lOLo0yUvxdfXwB42fG8i5LKDy87U9TuReeQ5btRiSuItvtTCXIZJCilDwDUfhk4YShWlNSBvynKvI34jCXIXAqfUFzim4ugDwC0jL0uMcI3d9ARJLqfNKsKMsPO/DtC3gH0jtYK2pT6AMCzTTVmhNzWDPD4boR5m/LcufhFRKenIU2/wqbUFQAXAD6TGNkji/dvosm2Y9WP4NPA+YIz82Mx2rmpXqArAHy/3zs4kcG2s+B4xmS7QVEXR8dwudbu5V0A4NPvB0A0OtegD71pFtphNv5CIt5RtbJ2gmbUBQB6uEZt9UbIeJn5WbMZzK/jWyXU3+6efmjaCppQFwC8MIFKw6mN8l3ofxI4NqDGz6wlETInwtsijF14ugDAAEgvJxFqOvjIACbK49auISxC3re0mzShLAAMnIhq8dRkaSXU5LvQUSWg1U+39ggZUOKrqwllAXAb4EXBkXhU1IgFCP7crNi8DBouFsl4YuzDKYBftphhFgDq/aPODiZ6MLfOQruXgN5DPgsjZICKUVDVKQsAlT+R7UjlxamnHBRZXZL5DjOaQb2PdbOvThkAyOuzxLx760jvoK4+8+v63i7/blCqcoqQTiI6i1SnDAC80KkAipBbv0fAQnuWgPcAI598Fq4jVcgXXsfU5d8zALhSyZkX+Z1F9x+REnwROHeA1SSWBqtWtwtkAHB74AWBwcpiFKxBoQttLQHN6ZrVI6RGsLpGNQMA8/k8OTJS4OLAJ4K8m8z2xBITEZGBafNMelGVMgBwW39Y8Ne94OgAsdDWEjARptHPEdL3ImOCj/SZSnqQMQF7YZxTfF9IWA2YjH429D1Cag8/GGHM8GR2gIwR6ITlyZgZyybyZiyDJtI01qAqZQCQ0QIaJ9fMhFlVAuN25lM5ellWa2gATlXKAMCECMb9R8g8gBZjWGhrCWReVuZUzAbgrJV/BgC6Kj9gbY87GCzesMkOoEExcR/AQJAINXEPywDAFG/mx4mQ4VAqORbaWgLq+M0tHKHRXwH3KNm8I4M1z957IowbzmP6PI1CETLMzIwiVSmzA2QuLD5vvDMstLUE/EiuGBCSPgFerM01WJUyAHALMhgkQubzu2eEccN5zHYayZksX5e0O2vFmwGAZmDNwZE27+oQG792sNuMISNPk26ZZLs6RRZz5x+NIta8vT4F55jwqbqQ99ChW3/0nvTihBNpavxZAETPLAeh/Vo79kK7l8BjEwEzd03GFYZlngWAUT4mRoyQGUDmnvkrMs+uPB8rVtNIe93wmqSbzwLA553ne4QsuGg61IX+XwInKbb9SN0EvYYMImmSUSULAJ8iZvmwiuc68vz35moUzEJHlcCdgOcGhWIZ28hTMdjdUdmyALC1JsnojXQ7ZwLrJPDSyHqDlwx2oLrYamRNqAsAMiphy7icv8nI59upVUnU6EVlL3+zUrXRQews7uwEzAhmJe6FdkhAJZlFJiPU/APqAgAHbqq3S0VmUN66Xh4X2hHi9Z1ELSJd8KIGuE7y7QoAq4BYDSRKnnc+ezadMiZ1b/3mVmjqWtcVAJZdsxxaJKjBRbe4snEFm0zZfMpmXj+gtcC6AsBxZXwE5TdRhAkjNpUyMQDKSB2KupSm1AcAXgaPACLKDCfhjqG7+GjVMZpKcuvOMwo0ezKPkK+n6pFAuw6zDwDsy2oXRgFFyciiPlXEor8zJT49pLWJ+MFEya3fI6A59QWAaWJNF5spmnTzUmOn+eQm8gPWE8pE9lpyR9+L5l+/8ukLAPvIuIvLr0+BlsLq7k0TWfCdh5HJAbBqZ8naaBa23lOuAQDftt4FolmvHLQp5i2Zpl1hu5IKMN24I3aTlQzMBmZircGoBgAcrPbqZyVH/UlgvxIjn2w6efbzlAyfmY/CQBpDxZupfXcntVoAMA/uxzskMXCrM//N3ya/pPEBetnThStbR9BAURVFg1ItADhoUW9IeLbkum9db70mQZg7+XRz24+m0V3N149HC+vgKfVqAsDJmBbu+R1WUW9jU9AOUiWjw/giTYzetRiGz74M/bYk3tJGMDjVBoATyD57VpP27LMq9xz9CI2ZNHw+c+Fbzds5ZwpvVAVJCwBYIOlwwIwWWTLwwUwk2Qtl9ndq8Zu3R5V413LyHnvWWh6tgHQLAChccwnr9ZI9C1cLY3kZbebfr7VSDfpRvatbV0bDt7thmPfH19AoIGgFACfqpVD3MS2HXcgyM+Yk0hO5ekhUlwGVNt7uze2TKQK17ue8++j3p1Z1UGoJACfixeidHc/GlSDUGAoC7Q6D35J3Wo2Tw3/DudV5RJJlZhdylJ2gNQAUgrd78+LqUdyHzFJuiXmBMFhlzbLFGxlt5Y6+c1g3/8FBMAQAnLQXHZU+hov1JauQGKFkLT6fXS12BTV45uRxm3drHkpOymbQ42DIianm9DiIRMNGQeIb2qrb+s77x9y7XQDhy0WQqr/3QqaxKurnEB1rhm+wnWBIACgAC06Y6OgiGWkkeF189Qkap/xbY5NPLf8YYeNCq6jxDPdMN+mCz9WaoNx1uDrAZGoHr9oPAoKhAeDk/LIsiHjQwFtrAkdVWL2n6PyiYsvqIF1A1vw4GAMAK+nuDxj23PWZWGWVGnWiIsyMKtZXkqyuPkkQjAkABWPs4MGARaW3A6m7MKWuauFdgzk9arynWEgjS82Og7EBsBKEFy9zCuk0OlfylaP2cqv0eJPbCaYCABddM7J2AEvSzulYMIGzETzR2n5ePD0OJrETTAkAqy/fG/qBJSll1qliyN3jy2W791WTdeCczE4wRQCsFnGfon0znaql56dAnuuHlbA4o52yC7/zHCaxE0wZADsLSzdptXLerH2/D026ah9aXi0GuNSi0UEwFwCsBL43cOmirfPieNFGGjuVN7ppebHzi49WS+0CjFFBMDcA7Cpg7wsCwtzECtJXhH/2Da6EW7qp79Qa+mbXNc0oZm3zQ6a4Gw0EcwfAntZZ1auGJwGy+uP/UzunWlgX7CNL/qIutoMgvlJso4BguwIgJfkJMQ/+OlgAMKHVL0PpsxOYkU1DWzipxAKA6QHAEfXZCVLhZQsApgmAviDQKTcUZ7AAYLoA6AMCjWt6S62lBQBrRTQ6Q5fjQD/Mt0dGvgAgIqXxeTIgMNBWQ1OoatsCgPEXNzqCKAhM3xetQzSot2t0ogvfniUgCDRC7al8jO5nxmKEI62XHWB+cDMji84zhtSv1s/IqUOKCT28+E59AcD8ALAasU6mFpLwzNeG0SndzgKA+QKgysgXAFQR43w7WQAw37WrMvIFAFXEON9OFgDMd+2qjHwBQBUxzreTBQDzXbsqI18AUEWM8+1kAcB8167KyBcAVBHjfDv5D+vIKZ/vdzjHAAAAAElFTkSuQmCC",ds="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAGCAYAAADQQP5pAAAAAXNSR0IArs4c6QAAAMhJREFUKFPFUjFqQkEUfLOmeAoWJodI7qE3sFdrS4sPCykexPA/C7baqr030Hskh1ALQbfJTviBSFiszZQz82bgMTCzhxjjq4iMATRJblR1YmYHyWBmrRhjSXJQSwDWqurN7Jx7vfdPJGcA+iRrfaGqU3jv30jWhVcA2JVl2bsRsiQ5zPhVVVWjG94tyW6W+1O4J/mYH6SUXkIIn798URRt59xRRBqZ9yul1AkhnP54n51zH3kmgMO/FN7tpSLyjjuN5iIi83o039P9n5mWDu/PAAAAAElFTkSuQmCC\n",ms=(0,a.memo)((({value:e,iconShow:o,fontColor:s,backgroundColor:n,borderRadius:i,paddingLeft:c,paddingRight:m,sticky:u,fontsize:p,paddings:h,otherStyles:g=[],__pageConfig:x})=>{console.log(36,x);const{View:j,Image:f}=(0,l.Co)(),N=(0,a.useMemo)((()=>r()("txt",...g)),[g]);return(0,t.jsx)(j,{onClick:()=>(0,d.i4)("search"),style:{paddingTop:h,paddingBottom:h,paddingLeft:c,paddingRight:m},className:u?"boxpositon":"",children:(0,t.jsxs)(j,{className:"components-search",style:{backgroundColor:n,borderRadius:i?"20px":"",height:"32px",lineHeight:"32px",width:"100%",display:"inline-block",textAlign:"center"},children:[(0,t.jsx)(f,{src:rs,alt:"",style:{height:"16px",width:"16px",display:o?"inline-block":"none",verticalAlign:"top",marginTop:"8px",marginRight:"10px"}}),(0,t.jsx)(j,{className:N,style:{color:s,display:"inline-block",fontSize:p},children:e})]})})})),us=(0,a.memo)((({value:e,iconShow:o,fontColor:s,backgroundColor:n,borderRadius:i,paddingLeft:c,paddingRight:m,sticky:u,fontsize:p,paddings:h,otherStyles:g=["mockWeight","mockItalic"]})=>{const{View:x,Image:j}=(0,l.Co)(),f=(0,a.useMemo)((()=>r()("txt",...g)),[g]);return(0,t.jsx)(x,{onClick:()=>(0,d.i4)("search"),style:{paddingTop:h,paddingBottom:h,paddingLeft:c,paddingRight:m},className:u?"boxPosition":"",children:(0,t.jsxs)(x,{className:"components-search",style:{border:`1px solid ${n}`,borderRadius:i?"20px":"",height:"32px",lineHeight:"32px",width:"100%",display:"flex",textAlign:"center",backgroundColor:"#ffffff"},children:[(0,t.jsxs)(x,{style:{width:"80%"},children:[(0,t.jsx)(j,{src:rs,alt:"",style:{height:"16px",width:"16px",display:o?"inline-block":"none",verticalAlign:"top",marginTop:"8px",marginRight:"10px"}}),(0,t.jsx)(x,{className:f,style:{color:s,display:"inline-block",fontSize:p},children:e})]}),(0,t.jsx)(x,{className:["seachBtn",i?"btnBorderRadius":""].join(" "),style:{fontSize:p,backgroundColor:n,width:"20%",color:s},children:"搜索"})]})})})),ps=(0,a.memo)((({placeholder:e,placeholderText:o,history:s,historyText:n,paddingBottom:i,paddingTop:c})=>{const r=(0,a.useMemo)((()=>(0,d.dU)()),[]),{View:m,Text:u,Input:p}=(0,l.Co)(),[h,g]=(0,a.useState)((()=>(0,d.cF)("history")||[])),x=(0,d.BO)((e=>lo(void 0,void 0,void 0,(function*(){r&&(g((o=>{if((0,S.Z)(e.detail.value))return o;const s=o.concat(e.detail.value);return(0,d.po)("history",s),s})),j(e.detail.value))})))),j=(0,d.BO)((e=>{(0,d.i4)("goodList",{searchParam:e})}));return(0,t.jsxs)(m,{className:"searchPage",style:{paddingTop:c,paddingBottom:i},children:[(0,t.jsxs)(m,{className:"search-title",children:[(0,t.jsx)("img",{src:rs,alt:""}),(0,t.jsx)(p,Object.assign({"confirm-type":"search",type:"text",className:"content",onConfirm:x},e?{placeholder:o}:{})),(0,t.jsx)(u,{className:"btn",onClick:()=>(0,d.yZ)(),children:"取消"})]}),s?(0,t.jsxs)(m,{className:"historyWrap",children:[(0,t.jsxs)(m,{className:"title",children:[(0,t.jsxs)(m,{className:"label",children:[(0,t.jsx)(m,{className:"icon"}),n]}),(0,t.jsx)(Ze,{onClick:()=>lo(void 0,void 0,void 0,(function*(){(yield(0,d.Bj)()).removeStorageSync("history"),g([])})),value:"shanchu",style:{fontSize:18,color:"#222",lineHeight:"61px",cursor:"pointer"}})]}),(0,t.jsx)(m,{className:"content",children:h.map(((e,o)=>(0,t.jsx)(m,{onClick:()=>j(e),className:"historyItem",children:e},o)))})]}):null]})})),hs=(0,a.memo)((({defaultValue:e=[],classCode:o="",margin:s,circular:n=!1,cell:i,showSales:c=!0,gap:m=10,goods:u=[],markedPrice:h,paddingTop:g,paddingBottom:x,paddingLeft:j,paddingRight:f,goodsName:N=!0,goodsPrice:C=!0,goodsCar:y=!0,goodsBorder:v=!0,goodsShadow:w=!1,marginGap:k=10})=>{const[I,B]=(0,a.useState)(e),P=(0,a.useRef)(),{View:L,Text:D}=(0,l.Co)();return(0,a.useEffect)((()=>{(0,A.Z)(P.current,u)||(P.current=u,(0,S.Z)(u)?B(e):lo(void 0,void 0,void 0,(function*(){try{const e=yield p({goodsCode:u.toString(),distinctField:"goodsNo"}),o=(0,b.Z)(e,"list",[]);B(o)}catch(o){B(e)}})))}),[u]),(0,t.jsx)(L,{style:{paddingTop:g,paddingBottom:x},children:(0,t.jsx)(L,{className:r()({[`goods-${o}`]:!0}),style:{display:"grid",gap:k,marginBottom:s,gridTemplateColumns:`repeat(${i}, 1fr)`,paddingLeft:j,paddingRight:f},children:I.map(((e,o)=>(0,t.jsxs)(L,{style:{overflow:"hidden",borderRadius:n?"8px":"0px",border:v?"1px solid #000000":""},onClick:()=>(0,d.i4)("goodDetail",{skuCode:e.skuCode}),className:["goods "+(w?"outer-shadow":"")].join(" "),children:[(0,t.jsx)(L,{className:"goods-img",style:{backgroundImage:`url(${e.dataPic})`}}),(0,t.jsxs)(L,{className:"space",children:[(0,t.jsx)(L,{className:"titleType",style:{display:N?"block":"none"},children:e.goodsName}),(0,t.jsx)(L,{className:"subTitle",children:e.brandName}),c&&(0,t.jsxs)(L,{className:"sales",children:["已售:",e.goodsSalesvolume,"件"]}),(0,t.jsxs)(L,{className:"price",children:[(0,t.jsxs)(L,{style:{fontSize:18},children:[C?ro(e.pricesetNprice):"",1===h&&(0,t.jsx)(D,{className:"markedPrice",children:ro(e.pricesetMakeprice)})]}),(0,t.jsx)(L,{className:"anticon",style:{display:y?"block":"none"},children:(0,t.jsx)(Ze,{style:{fontSize:30,color:"#f00"},value:"cart"})})]})]})]},o)))})})})),gs=(0,a.memo)((({defaultValue:e,goods:o,price:s,marketPrice:a,cart:n,wrapRadius:i,wrapBorderColor:c,wrapBgColor:r,wrapShadow:m,goodsRadius:u,goodsBgColor:p,goodsGap:h,marginTop:g,marginBottom:x,marginLeft:j,marginRight:f})=>{const{View:N}=(0,l.Co)(),{list:C}=we({defaultValue:e,goods:o});return(0,t.jsx)(N,{className:"goodsSlider",style:{borderRadius:i,borderColor:c,backgroundColor:r,boxShadow:m?"0px 0px 20px 5px #EEE":"none",marginTop:g,marginBottom:x,marginLeft:j,marginRight:f},children:C.map(((e,o)=>(0,t.jsxs)(N,{className:"goodsSliderItem",style:{borderRadius:u,backgroundColor:p,marginRight:`${h}px`},onClick:()=>(0,d.i4)("goodDetail",{skuCode:e.skuCode}),children:[(0,t.jsx)(N,{className:"img",style:{backgroundImage:`url(${e.dataPic})`}}),(0,t.jsxs)(N,{className:"board",children:[(0,t.jsx)(N,{className:"title",children:e.goodsName}),(0,t.jsxs)(N,{className:"info",children:[(0,t.jsxs)(N,{className:"lPart",children:[s?(0,t.jsx)(N,{className:"price",children:ro(e.pricesetNprice)}):null,a?(0,t.jsx)(N,{className:"marketPrice",children:ro(e.pricesetMakeprice)}):null]}),n?(0,t.jsx)(N,{className:"rPart",children:(0,t.jsx)(Ze,{style:{fontSize:26,color:"#f00"},value:"cart"})}):null]})]})]},o)))})})),xs=(0,a.memo)((({defaultValue:e,goods:o,GoodsSlideshowBg:s,marketPrice:n,goodsName:i,salesNum:c,price:r,goodsRadius:m,goodsBorder:u,goodsShadow:p,btnText:h,btnBg:g,btnColor:x,btnRadius:j})=>{const f=(0,a.useMemo)((()=>(0,d.dU)()),[]),{list:N}=we({defaultValue:e,goods:o}),{SmoothSwiper:C,View:y,Image:v}=(0,l.Co)(),[b,S]=(0,a.useState)(0);return(0,t.jsxs)(y,{className:"goodsSlideshow",children:[(0,t.jsx)(v,{src:s,className:"bg",mode:"widthFix"}),(0,t.jsx)(C,{indicatorDots:!1,imgHeight:{width:190,height:410},defaultIndex:1,data:N,style:{},type:1,autoplay:!1,autoplayInterval:5e3,onChange:e=>{S(e.detail.current)},previousMargin:40,nextMargin:40,slideSize:70,trackOffset:15,render:e=>(0,t.jsxs)(y,{className:["goodsSlideshowItem",e.goodsCode===N[b].goodsCode&&f?"active":""].join(" "),style:{borderRadius:m,borderStyle:u?"solid":"none",boxShadow:p?"0px 0px 20px 10px #ddd":""},onClick:()=>(0,d.i4)("goodDetail",{skuCode:e.skuCode}),children:[(0,t.jsx)(v,{className:"logo",src:e.dataPic,mode:"widthFix"}),i?(0,t.jsx)(y,{className:"goodsName",children:e.goodsShowname}):null,c?(0,t.jsxs)(y,{className:"salesNum",children:["销量：",e.goodsSalesvolume]}):null,r?(0,t.jsx)(y,{className:"price",children:ro(e.pricesetNprice)}):null,n?(0,t.jsx)(y,{className:"marketPrice",children:ro(e.pricesetMakeprice)}):null,(0,t.jsx)(y,{className:"btn",style:{backgroundColor:g,color:x,borderRadius:j},children:h})]})})]})})),js=e=>{var{autoplay:o,vertical:s}=e,n=no(e,["autoplay","vertical"]);const l=xo(n,"skuNo"),{rsGoodsFileDomainList:i=[]}=z(l),c=(e=>(0,a.useMemo)((()=>e.map((e=>({imgUrl:e.goodsFileUrl,link:""})))),[e]))(i);return(0,t.jsx)(Ye,{selectImg:c,type:1,autoplay:o,vertical:s,imgHeight:{height:375,width:375}})},fs=e=>{const{SmoothView:o,View:s}=(0,l.Co)(),{handleCollect:a,collection:n}=U(e);return(0,t.jsxs)(s,{onClick:a,children:[(0,S.Z)(n.dataObj)?(0,t.jsx)(Ze,{value:"star-fill",style:{fontSize:20}}):(0,t.jsx)(Ze,{value:"star-fill",style:{color:"red",fontSize:20}}),(0,t.jsx)(o,{className:"txt",children:(0,S.Z)(n.dataObj)?"收藏":"已收藏"})]})},Ns=e=>{var{priceShow:o,collectionShow:s}=e,a=no(e,["priceShow","collectionShow"]);const{View:n,SmoothView:i}=(0,l.Co)(),c=xo(a,"skuNo"),{rsSkuDomainList:r}=z(c),{goodInfo:d}=K(r);return Y(c),(0,t.jsxs)(n,{className:"goodsDetail-topInfo",children:[(0,t.jsxs)(n,{className:"lPart",children:[(0,t.jsx)(i,{className:"name",children:d.goodsName}),(0,t.jsx)(i,{className:"price",style:{display:o?"block":"none"},children:ro(d.pricesetNprice)})]}),(0,t.jsx)(n,{className:"rPart",style:{display:s?"flex":"none"},children:(0,t.jsx)(fs,{goodsName:d.goodsName,pricesetNprice:d.pricesetNprice,dataPic:d.dataPic,skuCode:c})})]})},Cs=(0,a.memo)((e=>{const{collectionShow:o,shareShow:s}=e,{View:a}=(0,l.Co)(),{handleCollect:n,collection:i}=U(e),{handleShare:c}={handleShare:()=>{(0,d.dU)()&&(0,d.Bj)().showShareMenu({withShareTicket:!0,success:()=>{console.log("share success")}})}};return(0,t.jsxs)(a,{className:"handleBar",children:[o?(0,t.jsx)(a,{className:"collection",onClick:n,style:{borderRight:s?"1px solid #ddd":"none"},children:(0,S.Z)(i.dataObj)?"收藏":"已收藏"}):null,s?(0,t.jsx)(a,{className:"share",onClick:c,children:"分享"}):null]})})),ys=(0,a.memo)((e=>{var{priceShow:o,collectionShow:s,shareShow:a}=e,n=no(e,["priceShow","collectionShow","shareShow"]);const{View:i,SmoothView:c}=(0,l.Co)(),r=xo(n,"skuNo"),{rsSkuDomainList:d}=z(r),{goodInfo:m}=K(d);return Y(r),(0,t.jsxs)(i,{className:"goodsDetail-info-one",children:[(0,t.jsx)(c,{className:"price",style:{display:o?"block":"none"},children:ro(m.pricesetNprice)}),(0,t.jsx)(c,{className:"title",children:m.goodsName}),(0,t.jsx)(Cs,{collectionShow:s,shareShow:a,goodsName:m.goodsName,pricesetNprice:m.pricesetNprice,dataPic:m.dataPic,skuCode:r})]})})),vs=(0,a.memo)((()=>{const{Text:e}=(0,l.Co)(),o=T((e=>e.count)),s=T((e=>e.spec));return(0,t.jsxs)(e,{className:"label",children:["已选择 数量: ",o," 规格: ",s.toString()]})})),bs=({dispatchPageStore:e})=>{const{View:o,Text:s}=(0,l.Co)(),{openPopup:a}=F(e);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o,{className:"goodsDetail-size",onClick:a,children:[(0,t.jsx)(s,{className:"label",children:"规格"}),(0,t.jsxs)(o,{className:"info",children:[(0,t.jsx)(vs,{}),(0,t.jsx)("img",{src:ds,alt:"",className:"icon"})]})]})})},Ss=e=>{var o=no(e,[]);const{View:s,Text:a}=(0,l.Co)(),n=xo(o,"skuNo"),{rsSkuDomainList:i}=z(n),{goodInfo:c}=K(i),r=q(i,c.skuCode||n);return(0,t.jsxs)(s,{className:"goodsDetail-promotion",children:[(0,t.jsx)(a,{className:"label",children:"促销"}),(0,t.jsx)(s,{className:"group",children:r.length?r.map((({discName:e},o)=>(0,t.jsx)(s,{className:"item",children:e},o))):(0,t.jsx)(s,{className:"noPromotion",children:"暂无促销活动"})})]})},ws=(0,a.memo)((({promotionBegintime:e,pbName:o,discName:s,promotionCode:n,promotionName:i,couponOnceNums:c,couponOnceNumd:r,promotionEndtime:d})=>{const{View:m,Text:u}=(0,l.Co)(),{save:p,isPick:h}=(()=>{const[e,o]=(0,a.useState)(!1);return{save:s=>R(void 0,void 0,void 0,(function*(){if(!e)try{yield N(s),o(!0)}catch(e){}})),isPick:e}})(),g=(0,a.useMemo)((()=>c-r),[c,r]);return(0,t.jsx)(m,{className:"couponItem",children:(0,t.jsxs)(m,{className:"coupon-content",children:[(0,t.jsxs)(m,{className:"price",children:[(0,t.jsx)(m,{className:"symbol",children:o}),(0,t.jsx)(m,{className:"num",children:s})]}),(0,t.jsxs)(m,{className:"info",children:[(0,t.jsx)(u,{className:"title",children:i}),(0,t.jsxs)(u,{className:"date",children:[Le()(e).format("YYYY-MM-DD")," - ",Le()(d).format("YYYY-MM-DD")]})]}),(0,t.jsx)(m,g>0?{className:h?"coupon-pick-default":"coupon-pick",onClick:()=>p({promotionCode:n,couponAmount:1}),children:h?"已领取":"领取"}:{className:"coupon-pick-default",children:"已领完"})]})})})),ks=()=>{const{View:e,Image:o}=(0,l.Co)();return(0,t.jsx)(e,{children:(0,t.jsx)(o,{src:"https://brushes.oss-cn-shanghai.aliyuncs.com/static/mini/noCoupon.png",className:"img"})})},Is=e=>{var o=no(e,[]);const{View:s,Text:n,Popup:i}=(0,l.Co)(),c=xo(o,"skuNo"),{rsSkuDomainList:r}=z(c),{goodInfo:d}=K(r),{coupon:u,visible:p,setVisible:h}=function(e,o){const[s,t]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){const s=H(e,o);if((0,S.Z)(s))return;const a=yield((e={})=>(0,m.v_)("web/pm/promotion/queryCouponListBySkuCode.json",e))(s);t(a)}))})()}),[o,e]),{coupon:s,visible:n,setVisible:l}}(r,d.skuCode||c);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s,{className:"goodsDetail-coupon",onClick:()=>h(!0),children:[(0,t.jsx)(n,{className:"label",children:"优惠券"}),(0,t.jsxs)(s,{className:"info",children:[(0,t.jsx)(n,{className:"label",children:"请选择优惠券"}),(0,t.jsx)("img",{src:ds,alt:"",className:"icon"})]})]}),(0,t.jsx)(i,{popupVisible:p,popupHandler:h,children:(0,t.jsx)(s,{className:"goodsDetail-coupon-popup",children:(0,t.jsx)(jo,{children:u.length>0?u.map(((e,o)=>(0,a.createElement)(ws,Object.assign({},e,{key:o})))):(0,t.jsxs)(s,{className:"NoDataImg",children:[(0,t.jsx)(ks,{}),(0,t.jsx)(s,{className:"btn",onClick:()=>h(!1),children:"确定"})]})})})})]})},Bs=({onChange:e,readOnly:o=!1,size:s=22,count:n})=>{const{View:i}=(0,l.Co)(),[c,r]=(0,a.useState)([{icon:"star-fill"},{icon:"star"},{icon:"star"},{icon:"star"},{icon:"star"}]);(0,a.useEffect)((()=>{if(n){const e=[...c];for(let o=0;o<e.length;o++)e[o].icon=o>n-1?"star":"star-fill";r(e)}}),[]);const d=s=>{if(!o){for(let e=0;e<c.length;e++)c[e].icon=e>s?"star":"star-fill";r([...c]),e(s+1)}};return(0,t.jsx)(i,{children:c.map(((e,o)=>(0,t.jsx)(Ze,{onClick:d.bind(null,o),value:e.icon,style:{color:"#EC6C5C",fontSize:s}},o)))})},Ps=({item:e})=>{const{View:o,Image:s}=(0,l.Co)();return(0,t.jsxs)(o,{className:"rateItem",children:[(0,t.jsxs)(o,{className:"topInfo",children:[(0,t.jsxs)(o,{className:"lPart",children:[(0,t.jsx)(s,{src:e.userImgurl,className:"avatar"}),(0,t.jsxs)(o,{className:"userInfo",children:[(0,t.jsx)(o,{className:"name",children:e.userName}),(0,t.jsx)(Bs,{readOnly:!0,size:14,count:e.evaluateScopeReList.length})]})]}),(0,t.jsx)(o,{className:"rPart",children:`${new Date(e.gmtCreate).getFullYear()}-${new Date(e.gmtCreate).getMonth()+1}-${new Date(e.gmtCreate).getDate()}`})]}),(0,t.jsx)(o,{className:"size",children:e.skuName}),(0,t.jsx)(o,{className:"content",children:e.evaluateGoodsContent})]})},As=({evaluateArr:e})=>{const{View:o}=(0,l.Co)(),s=(0,a.useRef)(e);return(0,t.jsx)(o,{className:"goodsDetailEvaluate",children:s.current.length?(0,t.jsxs)(o,{children:[(0,t.jsxs)(o,{className:"topInfo",children:["评价 (",s.current.length,")"]}),s.current.slice(0,5).map(((e,o)=>(0,t.jsx)(Ps,{item:e},o)))]}):(0,t.jsx)(Zo,{style:{margin:"100px auto"},url:"https://brushes.oss-cn-shanghai.aliyuncs.com/static/mini/noEvaluate.png",title:"还没有评价, 期待您的评价"})})},Ls=({goodsRemark:e})=>{const{View:o}=(0,l.Co)(),s=(0,a.useMemo)((()=>e.replace(/<style>[\s\S]*<\/style>/gi,"").replace(/<img/gi,'<img class="mystyle" mode="widthFix"').replace(/<!--[\s\S]*-->/gi,"")),[e]);return(0,t.jsx)(o,{className:"goodsDetail-info",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:s||""}})})},Ds=({tabActive:e,setTabActive:o,evaluateShow:s,evaluateImgShow:n,evaluateImg:i})=>{const{Text:c}=(0,l.Co)(),r=(0,a.useMemo)((()=>n?[{title:"商品详情",id:"1"},{title:"评价",id:"2"}]:[{title:"商品详情",id:"1"}]),[s]);return(0,t.jsx)(t.Fragment,{children:r.map(((s,n)=>(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(c,{className:"tabsItem "+(e===n?"active":""),onClick:()=>o(n),children:[s.title,(0,t.jsx)(c,{className:"line"})]})},n)))})},Ts=e=>{var{evaluateShow:o,evaluateImgShow:s,evaluateImg:n}=e,i=no(e,["evaluateShow","evaluateImgShow","evaluateImg"]);const{View:c}=(0,l.Co)(),[r,d]=(0,a.useState)(0),u=xo(i,"skuNo"),{goodsRemark:p,goodsCode:h}=z(u),g=(e=>{const[o,s]=(0,a.useState)([]);return(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{if(!e)return;const o=yield((e={})=>(0,m.v_)("web/res/evaluate/queryEvaluateGoodsPagetrue.json",e))({goodsCode:e,page:1,rows:10});s(o||[])}catch(e){}}))}),[e]),o})(h);return(0,t.jsxs)(c,{className:"goodsDetailTab",children:[(0,t.jsx)(c,{className:"tabs",children:(0,t.jsx)(Ds,{tabActive:r,setTabActive:d,evaluateShow:o,evaluateImgShow:s,evaluateImg:n})}),(0,t.jsx)(c,{className:"group",children:0===r?(0,t.jsx)(Ls,{goodsRemark:p}):(0,t.jsx)(As,{evaluateArr:g,evaluateImgShow:s,evaluateImg:n})})]})},Os=({skuName:e,handleChooseSize:o,spec:s,skuOption:a,index:n})=>{const{View:i,Text:c}=(0,l.Co)();return(0,t.jsxs)(i,{className:"sizeArr",children:[(0,t.jsx)(c,{className:"title",children:e}),(0,t.jsx)(i,{className:"sizeArrItemWrap",children:a.map(((e,a)=>(0,t.jsx)(i,{className:"sizeItem "+(s[n]===e.specValueValue?"active":""),onClick:o.bind(null,e.specValueValue,n),children:e.specValueValue},a)))})]})},Rs=(0,a.memo)((({handleStep:e})=>{const{View:o,NumStep:s}=(0,l.Co)(),a=T((e=>e.count));return(0,t.jsxs)(o,{className:"countWrap",children:[(0,t.jsx)(o,{className:"label",children:"购买数量"}),(0,t.jsx)(s,{count:a,handleStep:e})]})})),Vs=({skuInfo:e,handleChooseSize:o,spec:s,goodInfo:a})=>{const{Image:n,View:i}=(0,l.Co)(),{skuList:c}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i,{className:"goodsInfo",children:[(0,t.jsx)(i,{className:"lPart",children:(0,t.jsx)(n,{src:a.dataPic,alt:"",className:"goodsImg"})}),(0,t.jsxs)(i,{className:"rPart",children:[(0,t.jsx)(i,{className:"name",children:a.goodsName}),(0,t.jsx)(i,{className:"price",children:ro(a.pricesetNprice)}),(0,t.jsxs)(i,{className:"chosen",children:["已选择: ",s.toString()]})]})]}),c.map(((e,a)=>(0,t.jsx)(Os,{spec:s,handleChooseSize:o,index:a,skuName:e.skuName,skuOption:e.skuOption},a)))]})},Ms=({cashImpl:e,addShoppingImpl:o,addCardImpl:s})=>{const{Text:a,View:n}=(0,l.Co)(),i=T((e=>e.isNeedButton));return(0,t.jsx)(t.Fragment,{children:i?(0,t.jsx)(n,{className:"btnWrap",onClick:o,children:(0,t.jsx)(a,{className:"btn",children:"确认"})}):(0,t.jsxs)(n,{className:"goods-detail-btn-group popup-buy-button",children:[(0,t.jsx)(n,{className:"btn addCart",onClick:s,children:"加入购物车"}),(0,t.jsx)(n,{className:"btn buy",onClick:e,children:"立即购买"})]})})},Fs=(0,a.memo)((({dispatchPageStore:e,goodsCode:o,skuInfo:s,rsSkuDomainList:n})=>{const{View:i}=(0,l.Co)(),{spec:c,goodInfo:r}=K(n),{handleChooseSize:u,handleStep:p,addCardImpl:h,cashImpl:g,addShoppingImpl:x}=function(e,o,s=y.Z){const{dispatch:t,closePopup:n}=F(s);(0,a.useEffect)((()=>{const e=(0,b.Z)(o,"spec",[]);(0,S.Z)(e)||t({type:"initGoodSku",payload:{count:1,spec:e}})}),[o]);const l=G(((e,o)=>{const s=D.getState(),{spec:a}=s;a[o]=e,t({type:"select",payload:{spec:[...a]}})})),i=()=>R(this,void 0,void 0,(function*(){try{const o=D.getState(),{spec:s,count:t}=o,a=yield V(s,e),{CartList:l=0}=(0,d.mf)();(0,d.z9)({CartList:l+1});const i=(0,b.Z)(a,"dataObj.skuId"),c=yield((e,o)=>R(void 0,void 0,void 0,(function*(){const s={skuId:e,goodsNum:o};return yield((e={})=>(0,m.v_)("web/oc/shopping/addShoppingGoods.json",e))(s)})))(i,t);yield(0,d.Sp)(c.msg||"添加成功"),n()}catch(e){yield(0,d.Sp)(e,"error")}})),c=()=>R(this,void 0,void 0,(function*(){const o=D.getState(),{spec:s,count:t}=o,a=yield V(s,e),n=(0,b.Z)(a,"dataObj.skuId");(0,d.i4)("orderDetermine",{skuId:n,goodsNum:t})}));return{closePopup:n,addCardImpl:i,cashImpl:c,handleChooseSize:l,handleStep:(e,o)=>{const{count:s}=D.getState();1!==s||"minus"!==o?"plus"!==o||s!==e?t({type:o}):(0,d.Sp)("超库存","none"):(0,d.Sp)("不能小于1","none")},addShoppingImpl:()=>{const e=D.getState(),{orderType:o}=e;0===o?i():c()}}}(o,s,e);return(0,t.jsxs)(i,{className:"goodsDetail-size-popup",children:[(0,t.jsxs)(i,{className:"content",children:[(0,t.jsx)(Vs,{skuInfo:s,handleChooseSize:u,spec:c,goodInfo:r}),(0,t.jsx)(Rs,{handleStep:p.bind(null,r.goodsNum)})]}),(0,t.jsx)(Ms,{cashImpl:g,addShoppingImpl:x,addCardImpl:h})]})})),Gs=({popupVisible:e,dispatchPageStore:o,goodsCode:s,skuInfo:a,rsSkuDomainList:n})=>{const{Popup:i}=(0,l.Co)();return(0,t.jsx)(i,{popupVisible:e,popupHandler:()=>{o({visible:!1})},children:(0,t.jsx)(Fs,{dispatchPageStore:o,goodsCode:s,skuInfo:a,rsSkuDomainList:n})})},Es=(0,a.memo)((({serverShow:e,cartShow:o,lPartColor:s,lPartBgColor:a,lPartStyle:n,rPartColor:i,rPartBgColor:c,rPartStyle:r,dispatchPageStore:m})=>{const{Text:u,View:p,IconMobile:h}=(0,l.Co)(),{servicePopup:g}=io(),{addCardPopup:x,buyOpenPopup:j}=F(m);return(0,t.jsxs)(p,{className:"goodsDetailHandleBar",children:[(0,t.jsxs)(p,{className:"linkGroup server",onClick:g,style:{display:e?"block":"none"},children:[(0,t.jsx)(h,{value:"kehufuwukefu",style:{fontSize:22,display:"block"}}),(0,t.jsx)(u,{className:"txt",children:"客服"})]}),(0,t.jsxs)(p,{className:"linkGroup cart",onClick:()=>(0,d.i4)("shopping"),style:{display:o?"block":"none"},children:[(0,t.jsx)(h,{value:"gouwuche",style:{fontSize:22,display:"block"}}),(0,t.jsx)(u,{className:"txt",children:"购物车"})]}),(0,t.jsxs)(p,{className:"goods-detail-btn-group",children:[(0,t.jsx)(p,{className:"btn addCart",onClick:x,style:{color:s,backgroundColor:a,borderTopLeftRadius:n,borderBottomLeftRadius:n},children:"加入购物车"}),(0,t.jsx)(p,{onClick:j,className:"btn buy",style:{color:i,backgroundColor:c,borderTopRightRadius:r,borderBottomRightRadius:r},children:"立即购买"})]})]})})),zs=e=>{var{$_dataSource:o={},dispatchPageStore:s=y.Z}=e,a=no(e,["$_dataSource","dispatchPageStore"]);const n=xo(a,"skuNo"),{rsSpecValueDomainList:l,goodsCode:i,rsSkuDomainList:c}=z(n),r=W(l),{popupVisible:d}=o;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Es,Object.assign({},a,{dispatchPageStore:s})),(0,t.jsx)(Gs,{dispatchPageStore:s,popupVisible:d,goodsCode:i,rsSkuDomainList:c,skuInfo:r})]})},Zs=(0,a.memo)((({serverShow:e,cartShow:o,lBtnBorderColor:s,lBtnFontColor:a,lBtnColor:n,lBtnStyle:i,rBtnBorderColor:c,rBtnFontColor:r,rBtnColor:m,rBtnStyle:u,dispatchPageStore:p})=>{const{Text:h,View:g,IconMobile:x}=(0,l.Co)(),{servicePopup:j}=io(),{addCardPopup:f,buyOpenPopup:N}=F(p);return(0,t.jsxs)(g,{className:"goodsDetailHandleBarOne",children:[(0,t.jsxs)(g,{className:"linkGroup server",onClick:j,style:{display:e?"block":"none"},children:[(0,t.jsx)(x,{value:"kehufuwukefu",style:{fontSize:22,display:"block"}}),(0,t.jsx)(h,{className:"txt",children:"客服"})]}),(0,t.jsxs)(g,{className:"linkGroup cart",onClick:()=>(0,d.i4)("shopping"),style:{display:o?"block":"none"},children:[(0,t.jsx)(x,{value:"gouwuche",style:{fontSize:22,display:"block"}}),(0,t.jsx)(h,{className:"txt",children:"购物车"})]}),(0,t.jsxs)(g,{className:"goods-detail-one-btn-group",children:[(0,t.jsx)(g,{className:"btn addCart",onClick:f,style:{border:`1px solid ${s}`,color:a,backgroundColor:n,borderRadius:1===i?"20px":"0"},children:"加入购物车"}),(0,t.jsx)(g,{onClick:N,className:"btn buy",style:{border:`1px solid ${c}`,color:r,backgroundColor:m,borderRadius:1===u?"20px":"0"},children:"立即购买"})]})]})})),Us=e=>{var{popupVisible:o=!1,dispatchPageStore:s=y.Z}=e,a=no(e,["popupVisible","dispatchPageStore"]);const n=xo(a,"skuNo"),{rsSpecValueDomainList:l,goodsCode:i,rsSkuDomainList:c}=z(n),r=W(l);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Zs,Object.assign({},a,{dispatchPageStore:s})),(0,t.jsx)(Gs,{dispatchPageStore:s,popupVisible:o,goodsCode:i,rsSkuDomainList:c,skuInfo:r})]})},Ws=[{name:"默认",sortField:"pricesetNprice"},{name:"新品",sortField:""},{name:"销量",sortField:"goodsSalesvolume",order:"asc"},{name:"价格",sortField:"pricesetNprice",order:"asc"}],Hs=({setParams:e,activeColor:o})=>{const{View:s}=(0,l.Co)(),[n,i]=(0,a.useState)(0),[c,r]=(0,a.useState)(Ws);return(0,t.jsx)(s,{className:"sortWrap",children:c.map((({order:a,sortField:l,name:c},d)=>(0,t.jsxs)(s,{className:"sortItem "+(n===d?"active":""),onClick:()=>((o,s,t)=>{i(s),t&&r((e=>(e[s].order="asc"===t?"desc":"asc",[...e]))),e({sortField:o,order:t})})(l,d,a),style:{color:n===d?o:""},children:[c,a&&(0,t.jsxs)(s,{className:"orderIcons",children:[(0,t.jsx)(Ze,{style:{color:n===d&&"desc"!==a?o:"#444",fontSize:14,width:8,height:8},value:"shengxu1"}),(0,t.jsx)(Ze,{style:{color:n===d&&"desc"===a?o:"#444",fontSize:14,width:8,height:8},value:"jiangxu1"})]})]},d)))})},qs=(0,a.memo)((({classtreeCode:e="",searchParam:o="",activeColor:s="#e54e29",goodsName:n=!0,goodsPrice:i=!0,lineationGoods:c=!0,salesQuantity:m=!0,goodsCar:u=!0,borderRadius:h=!0,goodsColor:g=!0,goodsGap:x=10,paddingLR:j=0,__link__:f={}})=>{const{View:N,Loading:C,SmoothView:y,Image:v,ScrollView:b,IconMobile:w}=(0,l.Co)(),[k,I]=(0,a.useState)({}),{loading:B,getData:P,list:A}=((e,o,s)=>{const t=(0,a.useRef)(!0),n=(0,a.useRef)(0),[l,i]=(0,a.useState)([]),[c,r]=(0,a.useState)(!1);(0,a.useEffect)((()=>{d("isFirst")}),[s]);const d=G((e=>{n.current=0,t.current=!0,m(s,e)})),m=G((({sortField:s="pricesetNprice",order:a=""},l="")=>R(void 0,void 0,void 0,(function*(){if(t.current){++n.current,r(!0);try{const c=yield p({distinctField:"goodsNo",sortField:s,order:a,goodsType:"00,50",page:n.current,rows:10,searchParam:o,classtreeCode:e});((0,S.Z)(c.list)||c.list.length<10)&&(t.current=!1),r(!1),i((e=>l?c.list:e.concat(c.list)))}catch(e){--n.current}}}))));return{loading:c,getData:m,list:l}})(e,o,k),L=(0,a.useMemo)((()=>r()("textBox",{btm:!i&&!c})),[i,c]),D=(0,a.useMemo)((()=>r()("name",{boxNone:!n})),[n]),T=(0,a.useMemo)((()=>r()("middle_margin",{boxNone:!m})),[m]),O=(0,a.useMemo)((()=>r()("goodDetail",{boxNone:!i&&!c&&!u})),[i,c,u]),V=(0,a.useMemo)((()=>r()({detailContent:!(D.includes("boxNone")&&T.includes("boxNone")&&O.includes("boxNone"))})),[D,T,O]);return(0,t.jsxs)(N,{className:"goodsList",children:[(0,t.jsx)(N,{className:"top-info",children:(0,t.jsx)(Hs,{setParams:I,activeColor:s})}),(0,t.jsx)(N,{className:"listWrap",style:{padding:` 0px ${j}px`},children:(0,t.jsx)(jo,{id:"listWrap",children:(0,t.jsxs)(b,{onScroll:()=>P(k),children:[(0,t.jsx)(N,{className:"list",style:{gap:x},children:A.map((e=>(0,t.jsxs)(N,{onClick:()=>function({target:e,defaultQuery:o,extendQuery:s},t){const a=e.value,n=((e,o,s)=>{const t=e.concat(o);let a={};for(let e of t)a[e]=s[e];return a})(o,s,t);(0,d.i4)(a,n)}(f,{skuCode:e.skuCode}),className:"listItem",style:{borderRadius:h?"8px":"",boxShadow:g?"4px 4px 4px #969292":""},children:[(0,t.jsx)(v,{src:e.dataPic,className:"img"}),(0,t.jsxs)(N,{className:V,children:[(0,t.jsx)(y,{className:D,children:e.goodsName}),(0,t.jsxs)(N,{className:T,children:["12已售：",e.goodsNum]}),(0,t.jsxs)(N,{className:O,children:[(0,t.jsxs)(N,{className:L,children:[(0,t.jsx)(y,{className:"price",style:{display:i?"block":"none"},children:ro(e.pricesetNprice)})," ",(0,t.jsx)(N,{className:"decoration",style:{display:c?"block":"none"},children:ro(e.pricesetMakeprice)})]}),(0,t.jsx)(N,{style:{display:u?"block":"none"},children:(0,t.jsx)(w,{style:{fontSize:20,color:"#f00"},value:"cart"})})]})]})]},e.skuCode)))}),B?(0,t.jsx)(C,{}):null]})})})]})})),Ys=({dispatchPageStore:e,$_dataSource:o={cartIsEditor:!1},btnStyle:s,borderColor:n,textColor:i,btnColor:c,btnShape:r})=>{const{View:d}=(0,l.Co)(),{cartIsEditor:m}=o,{editorImpl:u}=function(e=y.Z){return{editorImpl:()=>{e((e=>({isEditor:!e.isEditor})))}}}(e),p=(0,a.useMemo)((()=>({border:s?`2px solid ${n}`:"",color:s?i:"",background:s?c:"",borderRadius:s?r:""})),[s,n,i,c,r]);return(0,t.jsx)(d,{className:"cart-edit",children:(0,t.jsx)(d,{className:"btn",onClick:u,style:p,children:m?"完成":"编辑"})})},Ks=(0,a.memo)((({promotionName:e,checked:o,promotionCode:s})=>{const{View:a,Radio:n}=(0,l.Co)();return(0,t.jsxs)(a,{className:"promotion-item",children:[(0,t.jsx)(a,{className:"content",children:e}),(0,t.jsx)(a,{className:"choose",children:(0,t.jsx)(n,{checked:o,value:s})})]})})),Qs=({onChange:e,promotionCode:o,visible:s,setVisible:n,promotion:i})=>{const{Popup:c,ScrollView:r,View:d,SmoothRadio:m}=(0,l.Co)();return(0,t.jsx)(c,{popupVisible:s,popupHandler:n,children:(0,t.jsx)(d,{className:"goodsDetail-coupon-popup",children:(0,t.jsx)(jo,{children:(0,t.jsx)(r,{children:(0,t.jsx)(m,{onChange:e,children:i.map(((e,s)=>(0,a.createElement)(Ks,Object.assign({checked:e.promotionCode===o},e,{key:s}))))})})})})})},_s=(0,a.memo)((({goodsName:e,skuName:o,goodsCamount:s,shoppingGoodsId:a,pricesetNprice:n,handleStep:i})=>{const{View:c,SmoothView:r,NumStep:d}=(0,l.Co)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c,{className:"cartItem-info",children:[(0,t.jsx)(r,{className:"cartItem-goodsName",children:e}),(0,t.jsxs)(c,{className:"cartItem-size",children:["规格：",o," X ",s]}),(0,t.jsxs)(c,{className:"cartItem-handleWrap",children:[(0,t.jsx)(r,{className:"price",children:ro(n)}),(0,t.jsx)(d,{count:s,handleStep:i.bind(null,a,s)})]})]})})})),$s=(0,a.memo)((({dataPic:e,skuCode:o})=>{const{Image:s}=(0,l.Co)();return(0,t.jsx)(s,{className:"img",src:e,onClick:()=>(0,d.i4)("goodDetail",{skuCode:o})})})),Js=(0,a.memo)((({shoppingGoodsId:e,select:o=[]})=>{const{View:s,Checkbox:a}=(0,l.Co)();return(0,t.jsx)(s,{className:"checkBoxWrap",children:(0,t.jsx)(a,{checked:o.includes(e+""),value:e,style:{"--icon-size":"16px","--font-size":"14px","--gap":"6px"}})})})),Xs=({promotion:e=[],updatePm:o,shoppingGoodsId:s,promotionCode:n})=>{const{View:i}=(0,l.Co)(),[c,r]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>((e||[]).find((e=>e.promotionCode===n))||{}).promotionName),[e]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i,{className:"cart-promote-active",onClick:()=>r(!0),children:[d,(0,t.jsx)(i,{children:"修改"})]}),(0,t.jsx)(Qs,{promotionCode:n,onChange:e=>{r(!1),o(s,e.detail.value)},promotion:e||[],visible:c,setVisible:r})]})},et=(0,a.memo)((e=>{var{item:o}=e,s=no(e,["item"]);const{View:a}=(0,l.Co)(),{select:n}=s;return(0,t.jsxs)(a,{className:"cart-list-item",children:[(0,t.jsx)(Js,{select:n,shoppingGoodsId:o.shoppingGoodsId}),(0,t.jsx)($s,{dataPic:o.dataPic,skuCode:o.skuCode}),(0,t.jsx)(_s,Object.assign({},o,s))]})})),ot=e=>{var{shoppingGoodsList:o=[]}=e,s=no(e,["shoppingGoodsList"]);return(0,t.jsx)(t.Fragment,{children:o.map(((e,o)=>(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(et,Object.assign({},s,{item:e})),e.pmPromotionList?(0,t.jsx)(Xs,{promotionCode:s.promotionCode,shoppingGoodsId:e.shoppingGoodsId,updatePm:s.updatePm,promotion:e.pmPromotionList}):null]},o)))})},st=({disNextMsg:e,promotionName:o,pbName:s})=>{const{View:a,SmoothView:n}=(0,l.Co)();return(0,t.jsxs)(a,{className:"cart-dis-title",children:[(0,t.jsx)(n,{className:"tips",children:s}),(0,t.jsx)(n,{style:{padding:"0 10px"},children:o}),(0,t.jsx)(n,{children:e})]})},tt=({refreshNum:e,dispatchPageStore:o,$_dataSource:s={cartSelect:[],cartUpdateCount:0},cartItemRadius:n="10px"})=>{const{SmoothCheckbox:i,WrapLoading:c,View:r}=(0,l.Co)(),{cartSelect:u,cartUpdateCount:p}=s,{loading:h,cartList:g,onChange:x,handleStep:j,updatePm:f}=((e,o,s=y.Z)=>{const[t,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),c=(0,a.useRef)([]);(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield r("isFirst")}))}),[e,o]);const r=(e="")=>R(void 0,void 0,void 0,(function*(){try{i(!0);const o=(0,d.dU)(),s=yield((e={})=>(0,m.v_)("web/oc/shopping/queryShoppingPage.json",e))({isLocalMock:!o});u(s,e)}catch(e){console.log(e)}finally{i(!1)}})),u=(e,o)=>{const s=(0,b.Z)(e,"list",[]),t=[];s.forEach((e=>{const o=(0,b.Z)(e,"shoppingpackageList",[]);t.push(...o)})),n(t),p(t,o)},p=(e,o)=>{const{list:t,disMoney:a}=h(e);c.current=t;const n=c.current.map((e=>e.shoppingGoodsId+"")),l={};o&&(l.select=n),s(Object.assign({disMoney:a,cartInfo:c.current},l))},h=e=>{let o=[],s=0;return e.forEach((e=>{s+=e.disMoney||0,o.push(...e.shoppingGoodsList)})),{list:o,disMoney:s}};return{cartList:t,loading:l,onChange:e=>{s((o=>{var s,t;return s=e.detail.value,t=o.select,R(void 0,void 0,void 0,(function*(){let e="";e=s.length>t.length?(0,I.Z)(s,t).join(""):(0,I.Z)(t,s).join("");const{shoppingCode:o}=c.current.find((o=>o.shoppingGoodsId+""===e))||{};try{yield((e={})=>(0,m.v_)("/web/oc/shopping/updateShoppingGoodsCheckState.json",e))({shoppingGoodsIdStr:e,shoppingCode:o,checkState:+(t.length>s.length),channelCode:"channelCode"}),yield r()}catch(e){}})),{cartInfo:c.current,select:e.detail.value}}))},handleStep:(e,o,s)=>{1!==o||"minus"!==s?((e,o)=>{R(void 0,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/oc/shopping/updateShoppingGoodsNum.json",e))({shoppingGoodsId:e,amount:o,goodWeight:0}),yield r()}catch(e){console.log(e)}}))})(e,"plus"===s?++o:--o):(0,d.Sp)("不能小于1","none")},updatePm:(e,o)=>R(void 0,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/oc/shopping/updateShoppingGoodsPmInfo.json",e))({shoppingGoodsId:e,promotionCode:o}),yield r()}catch(e){console.log(e)}}))}})(e,p,o);return(0,t.jsx)(c,{loading:h,children:(0,t.jsx)(r,{className:"cart-wrap",children:(0,t.jsx)(i,{onChange:x,children:g.length?(0,t.jsx)(t.Fragment,{children:g.map((({memberCname:e,promotionCode:o,disNextMsg:s,promotionName:l,pbName:i,shoppingGoodsList:c},d)=>(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)("h4",{children:e}),(0,t.jsxs)(r,{className:"cart-bg",style:{borderRadius:n},children:[l?(0,t.jsx)(st,{disNextMsg:s,promotionName:l,pbName:i}):null,(0,t.jsx)(ot,{promotionCode:o,handleStep:j,select:u,updatePm:f,shoppingGoodsList:c,cartItemRadius:n})]})]},d)))}):(0,t.jsx)(Zo,{url:"https://brushes.oss-cn-shanghai.aliyuncs.com/static/mini/noCarts.png",title:"购物车竟然是空的",subTitle:"快点挑选点东西犒赏自己吧",link:"index"})})})})},at=({$_dataSource:e={cartInfo:[],cartDisMoney:0,cartSelect:[],cartIsEditor:!1},dispatchPageStore:o,countBorderColor:s="#000000",countTextColor:n="#ffffff",countBtnColor:i="#000000",countBtnShape:c="20px"})=>{const{View:r,SmoothView:u,SmoothCheckbox:p,Checkbox:h}=(0,l.Co)(),{cartInfo:g,cartDisMoney:x,cartSelect:j,cartIsEditor:N}=e,{toOrderImpl:C,deleteCart:v,selectAll:b,cartDetail:S}=function(e=[],o=[],s=y.Z){const t=(0,a.useMemo)((()=>{let s=0,t=0;return o.forEach((o=>{e.includes(o.shoppingGoodsId+"")&&(s+=o.goodsCamount,t+=o.goodsCamount*o.pricesetNprice)})),{num:s,amount:t}}),[e,o]),n=(0,d.BO)((e=>e.map((e=>e.shoppingGoodsId+"")))),l=(0,d.BO)((e=>{s({select:e.detail.value.includes("true")?n(o):[]})})),i=(0,d.BO)((()=>R(this,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/oc/shopping/deleteShoppingGoodsBatch.json",e))({shoppingGoodsIdStr:JSON.stringify(e)}),s((e=>{let o=e.updateCount||0;return{updateCount:++o}}))}catch(e){console.log(e)}}))));return{toOrderImpl:(0,d.BO)((()=>{console.log(50,e),0!==e.length?((0,m.bx)(f),(0,d.i4)("orderDetermine",{shoppingGoodsId:e.join(",")})):(0,d.Sp)("购物数量不能为空")})),deleteCart:i,selectAll:l,cartDetail:t}}(j,g,o),w=(0,a.useMemo)((()=>({border:`1px solid ${s}`,color:n,background:i,borderRadius:c})),[s,n,i,c]);return(0,t.jsxs)(r,{className:"cart-dashboard",children:[(0,t.jsx)(r,{className:"choose",children:(0,t.jsx)(p,{onChange:b,children:(0,t.jsx)(h,{checked:g.length===j.length,value:"true",style:{"--icon-size":"16px","--font-size":"14px","--gap":"6px"},children:"全选"})})}),N?(0,t.jsx)(r,{className:"del",children:(0,t.jsx)(r,{onClick:v,className:"btn",children:"删除"})}):(0,t.jsxs)(r,{className:"check",children:[(0,t.jsxs)(r,{className:"priceGroup",children:[(0,t.jsxs)(r,{className:"discount",children:["优惠: ",(0,t.jsx)(u,{className:"data",children:ro(x)})]}),(0,t.jsxs)(r,{className:"all",children:["总计: ",(0,t.jsx)(u,{className:"data",children:ro(S.amount)})]})]}),(0,t.jsxs)(r,{onClick:C,className:"btn",style:w,children:["结算(",S.num,")"]})]})]})},nt=({address:e})=>(0,t.jsx)(t.Fragment,{children:(0,S.Z)(e)?(0,t.jsx)(it,{}):(0,t.jsx)(lt,{address:e})}),lt=({address:e})=>{const{View:o,SmoothView:s,IconMobile:n}=(0,l.Co)(),i=(0,a.useMemo)((()=>{const{provinceName:o,addressDefault:s,cityName:t,areaName:a,addressDetail:n,addressMember:l="",addressPhone:i=""}=e;return{addressDefault:"1"===s,addressMember:l,addressPhone:i,address:o+t+a+n}}),[e]);return(0,t.jsxs)(o,{className:"address-info",children:[(0,t.jsx)(n,{style:{fontWeight:900,color:"#444",lineHeight:3.2},value:"shouhuodizhi"}),(0,t.jsxs)(o,{className:"left",children:[(0,t.jsxs)(o,{className:"left-title",children:[(0,t.jsx)(s,{children:i.addressMember}),(0,t.jsx)(s,{className:"left-padding",children:i.addressPhone}),i.addressDefault?(0,t.jsx)(s,{className:"left-padding left-title-default",children:"默认"}):null]}),(0,t.jsx)(s,{className:"left-detail",children:i.address})]}),(0,t.jsx)(n,{value:"xiangyou1",style:{color:"#444",lineHeight:3,textAlign:"right"}})]})},it=()=>{const{View:e,Text:o}=(0,l.Co)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e,{className:"group",children:[(0,t.jsx)(o,{className:"local"}),(0,t.jsx)(o,{className:"address",children:"选择收货地址"})]}),(0,t.jsx)(o,{className:"arrow"})]})},ct=({refreshNum:e,skuId:o="",goodsNum:s=0,shoppingGoodsId:n=""})=>{const{View:i}=(0,l.Co)(),c=function(e,o,s,t){const[n,l]=(0,a.useState)(le);(0,a.useEffect)((()=>{(()=>{R(this,void 0,void 0,(function*(){try{const o=(0,d.dU)(),s=yield j({isLocalMock:!o,needCache:!0}),t=(()=>{const o=(0,k.Z)(s,"addressDefault","asc"),t=o.find((o=>e===o.addressId))||{};return(0,S.Z)(t)?o.at(-1):t})();te.addressInfo=t,l(t),i(t.provinceCode)}catch(e){}}))})()}),[e]);const i=e=>R(this,void 0,void 0,(function*(){let a={};a=t?{shoppingGoodsIdStr:`[${t}]`}:{skuIdStr:JSON.stringify([{skuId:s,goodsNum:o}])};try{const o=yield((e={})=>(0,m.v_)("web/oc/contract/calculateFreightFare.json",e))(Object.assign(Object.assign({},a),{areaCode:e}));ne.setState({freight:o.dataObj})}catch(e){}}));return n}(e,s,o,n);return(0,t.jsx)(i,{className:"placeOrder-chooseAddress",onClick:()=>(0,d.i4)("addressList"),children:(0,t.jsx)(nt,{address:c})})},rt=(0,a.memo)((({couponStart:e,pbName:o,discName:s,promotionCode:a,promotionName:n,couponEnd:i,disable:c})=>{const{View:r,Text:d,Radio:m}=(0,l.Co)();return(0,t.jsx)(r,{className:"couponItem",children:(0,t.jsxs)(r,{className:"coupon-content",children:[(0,t.jsxs)(r,{className:"price",children:[(0,t.jsx)(r,{className:"symbol",children:o}),(0,t.jsx)(r,{className:"num",children:s})]}),(0,t.jsxs)(r,{className:"info",children:[(0,t.jsx)(d,{className:"title",children:n}),(0,t.jsxs)(d,{className:"date",children:[Le()(e).format("YYYY-MM-DD")," - ",Le()(i).format("YYYY-MM-DD")]})]}),(0,t.jsx)(r,c?{className:"coupon-pick-default",children:"不能用"}:{className:"choose",children:(0,t.jsx)(m,{disabled:c,value:a})})]})})})),dt=({refreshNum:e,goodsNum:o,skuId:s,shoppingGoodsId:n})=>{const{View:i,Text:c,Popup:r,SmoothRadio:d,ScrollView:u}=(0,l.Co)(),{amount:p,shoppingGoodsList:h}=re({refreshNum:e,goodsNum:o,skuId:s,shoppingGoodsId:n}),{coupon:g,visible:x,setVisible:j,selectCoupon:f,onChange:N}=((e=[])=>{const[o,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)();(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{if((0,S.Z)(e))return;const o=yield((e={})=>(0,m.v_)("web/oc/contract/queryUserConByGoods.json",e))({pmContractGoodsDomainListStr:JSON.stringify(e)});s(o)}catch(e){console.log(74,e)}}))}),[e]);const c=(0,a.useMemo)((()=>(o.find((e=>e.promotionCode===l))||{}).promotionName),[l]);return{coupon:o,visible:t,selectCoupon:c,onChange:e=>{const s=e.detail.value,t=o.find((e=>e.promotionCode===s))||{};i(s),n(!1),(e=>{const{couponAmount:o,usercouponCode:s,promotionCode:t,discAmount:a}=e,n={contractSettlBlance:"COP",contractPmode:"0",contractSettlGmoney:+o,contractSettlPmoney:+a,contractSettlOpno:s,contractSettlOpemo:t};ne.setState(n)})(t)},setVisible:n}})(h);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i,{className:"coupon-select",onClick:()=>j(0!==g.length),children:[(0,t.jsx)(c,{className:"label",children:"使用优惠"}),(0,t.jsxs)(i,{className:"info",children:[(0,t.jsx)(c,{className:"label",children:f?`已选择: ${f}`:0===g.length?"暂无可用优惠券":"请选择优惠券"}),0===g.length?null:(0,t.jsx)("img",{src:ds,alt:"",className:"icon"})]})]}),(0,t.jsx)(r,{popupVisible:x,popupHandler:j,children:(0,t.jsx)(i,{className:"goodsDetail-coupon-popup",children:(0,t.jsx)(jo,{children:(0,t.jsx)(u,{children:(0,t.jsx)(d,{onChange:N,children:g.map(((e,o)=>(0,a.createElement)(rt,Object.assign({disable:p<e.discAmount},e,{key:o}))))})})})})})]})},mt=({shippingMethod:e=1})=>{const{View:o}=(0,l.Co)();return(0,t.jsx)(o,{className:"info placeOrder-blcWrap",style:1===e?{display:"block"}:{display:"none"},children:(0,t.jsxs)(o,{className:"express placeOrder-blcItem",children:[(0,t.jsx)(o,{className:"label",children:"配送方式"}),(0,t.jsx)(o,{className:"value",children:"快递"})]})})},ut=({refreshNum:e,goodsNum:o,skuId:s,shoppingGoodsId:a})=>{const{View:n}=(0,l.Co)(),{list:i}=re({refreshNum:e,goodsNum:o,skuId:s,shoppingGoodsId:a});return(0,t.jsx)(n,{className:"place-order-goods",children:i.map(((e,o)=>(0,t.jsx)(Bo,Object.assign({},e),o)))})},pt=({refreshNum:e,goodsNum:o,skuId:s,shoppingGoodsId:n})=>{const{SmoothView:i,View:c}=(0,l.Co)(),{payState:r,amount:d,disCount:m,freight:u}=re({refreshNum:e,goodsNum:o,skuId:s,shoppingGoodsId:n}),{shoppingCountPrice:p,comDisMoney:h}=function(e){const{shoppingCountPrice:o,comDisMoney:s}=(0,a.useMemo)((()=>{const o={shoppingCountPrice:0,comDisMoney:0};return e.forEach((e=>{const{shoppingCountPrice:s,comDisMoney:t}=e;o.shoppingCountPrice+=s,o.comDisMoney+=t})),o}),[e]);return{shoppingCountPrice:o,comDisMoney:s}}(r);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c,{className:"price placeOrder-blcWrap",children:[(0,t.jsx)(c,{className:"title",children:"价格明细"}),(0,t.jsxs)(c,{className:"express placeOrder-blcItem",children:[(0,t.jsx)(c,{className:"label",children:"商品总金额"}),(0,t.jsx)(i,{className:"value",children:ro(p)})]}),(0,t.jsxs)(c,{className:"coupon placeOrder-blcItem",children:[(0,t.jsx)(c,{className:"label",children:"优惠金额"}),(0,t.jsx)(i,{className:"value",children:ro(h+m)})]}),(0,t.jsxs)(c,{className:"express placeOrder-blcItem",children:[(0,t.jsx)(c,{className:"label",children:"运费"}),(0,t.jsx)(i,{className:"value",children:ro(u)})]}),(0,t.jsxs)(c,{className:"all placeOrder-blcItem",children:[(0,t.jsx)(c,{className:"label",children:"总计"}),(0,t.jsx)(i,{className:"value",style:{color:"#000"},children:ro(d-m+u)})]})]})})},ht=({color:e,buttonColor:o,borderColor:s,borderRadius:n,refreshNum:i,goodsNum:c,skuId:r,shoppingGoodsId:u})=>{const{View:p,Text:h,WrapLoading:g}=(0,l.Co)(),{amount:x,list:j,freight:f,disCount:N,payState:C,orderStoreInfo:y,ocContractSettlList:v}=re({refreshNum:i,goodsNum:c,skuId:r,shoppingGoodsId:u}),{savePayPrice:w,loading:k}=function({ocContractSettlList:e,payState:o,list:s},t="",n=0,l,i=""){const c=(0,a.useRef)([]),[r,u]=(0,a.useState)(!1),p=e=>{const{addressMember:a,userName:l,provinceName:c,cityName:r,areaName:d,addressDetail:m,areaCode:u}=e,p=(e=>e?decodeURIComponent(e).split(","):[])(i);return o.map((e=>({contractPaytime:(new Date).valueOf(),goodsPbillno:0,goodsPmbillno:e.promotionCodes,contractProperty:"0",contractBlance:0,contractPmode:0,contractPumode:"0",goodsSupplierName:"",goodsSupplierCode:"",packageList:[{contractGoodsList:s,shoppingGoodsIdList:p,promotionCode:e.promotionCode,packageRemark:null}],packageMode:"",contractType:e.shoppingType,ocContractSettlList:[],contractInmoney:g(e),contractMoney:h(e),goodsReceiptMem:a,goodsReceiptPhone:l,goodsReceiptArrdess:c+r+d+m,areaCode:u,contractNbillcode:null,skuIdList:t?[{skuId:+t,goodsNum:+n}]:[],giftSkuIdList:[]})))},h=e=>{const{shoppingCountPrice:o,copyComDisMoney:s,discount:t}=e;return(o-s-t).toFixed(2)},g=e=>{const{shoppingCountPrice:o,copyComDisMoney:s}=e;return(o-s).toFixed(2)};return{savePayPrice:()=>R(this,void 0,void 0,(function*(){const o=te.addressInfo;if((0,S.Z)(o))return void(0,d.Sp)("请选择收货地址");c.current=p(o),(0,B.Z)(c.current,"[0].ocContractSettlList",[...e.current,l]),u(!0);const s={orderDomainStr:JSON.stringify(c.current)};try{const e=yield((e={})=>(0,m.v_)("web/oc/contract/saveContract.json",e))(s);(()=>{if(i){const{CartList:e=0}=(0,d.mf)();(0,d.z9)({CartList:e+1})}})();const{contractBillcode:o,contractBbillcode:t}=(0,b.Z)(e,"dataObj",{contractBillcode:"",contractBbillcode:""});(0,d.i4)("paymentMode",{contractBillcode:o,contractBbillcode:t})}catch(e){(0,d.Sp)(e.msg||"获取订单失败")}finally{u(!1)}})),loading:r}}({ocContractSettlList:v,payState:C,list:j},r,c,y,u);return(0,t.jsxs)(p,{className:"placeOrderFooter",children:[(0,t.jsxs)(h,{className:"price",children:["合计: ",ro(x-N+f)]}),(0,t.jsx)(g,{loading:k,children:(0,t.jsx)(p,{className:"btn",onClick:w,style:{color:`${e}`,border:`1px solid ${s}`,backgroundColor:`${o}`,borderRadius:1===n?"40px":"0px"},children:"生成订单"})})]})},gt=(0,a.memo)((({contractBillcode:e,contractBbillcode:o,btnColor:s,btnShape:n,borderColor:i,paddingTop:c,paddingBottom:r,color:m})=>{const u=(0,a.useMemo)((()=>(0,d.dU)()),[]),{View:p,Text:h,Radio:g,IconMobile:x,WrapLoading:j,SmoothRadio:f}=(0,l.Co)(),{paymentImpl:N,channelList:C,contract:y,handleRadio:v,loading:b}=se({contractBillcode:e,contractBbillcode:o});return(0,t.jsxs)(p,{className:"paymentModeWrap",style:{height:u?"inherit":"667px",paddingBottom:r+"px",paddingTop:c+"px"},children:[(0,t.jsxs)(p,{className:"paymentMode",children:[(0,t.jsxs)(p,{className:"topInfo",children:[(0,t.jsxs)(h,{className:"title",children:[(0,t.jsx)(x,{value:"roundcheck"}),"订单提交成功"]}),(0,t.jsxs)(p,{className:"info",children:["订单号：",y.current.contractBillcode," | 总金额：",ro(y.current.dataBmoney),"元"]})]}),(0,t.jsx)(p,{className:"paymentGroup",children:(0,t.jsx)(f,{onChange:v,children:null==C?void 0:C.map((e=>(0,t.jsxs)(p,{className:"paymentItem",children:[(0,t.jsx)(x,{value:e.icon}),(0,t.jsxs)(p,{children:[(0,t.jsxs)(p,{className:"base",children:[(0,t.jsx)(h,{children:e.fchannelName}),(0,t.jsx)(g,{value:e.fchannelCode,className:"choose"})]}),"account"===e.value?(0,t.jsxs)(p,{className:"info",children:[(0,t.jsx)(p,{children:"账户余额：0元"}),(0,t.jsx)(p,{children:"本单抵扣：5.4元"})]}):null]})]},e.fchannelCode)))})})]}),(0,t.jsx)(p,{id:"v_html"}),(0,t.jsx)(j,{loading:b,children:(0,t.jsx)(p,{className:"btnGroup",onClick:N,children:(0,t.jsx)(p,{style:{borderRadius:n,backgroundColor:s,color:m,borderColor:i},className:"payment",children:"立即支付"})})})]})})),xt=({dataObj:e})=>{const{View:o,Text:s}=(0,l.Co)();return(0,t.jsxs)(o,{className:"placeOrderResultWrap",children:[(0,t.jsxs)(o,{className:"placeOrderResultItem",children:[(0,t.jsx)(s,{className:"label",children:"订单号："}),(0,t.jsx)(s,{className:"value",children:e.contractBillcode})]}),(0,t.jsxs)(o,{className:"placeOrderResultItem",children:[(0,t.jsx)(s,{className:"label",children:"支付方式："}),(0,t.jsx)(s,{className:"value",children:"在线支付"})]}),(0,t.jsxs)(o,{className:"placeOrderResultItem",children:[(0,t.jsx)(s,{className:"label",children:"支付金额："}),(0,t.jsx)(s,{className:"value",children:ro(e.dataBmoney)})]})]})},jt=(0,a.memo)((({code:e,borderRadius:o,leftColor:s,leftButtonColor:a,leftBorderColor:n,leftBorderRadius:i,rightValue:c,rightAddHref:r,rightColor:m,rightButtonColor:u,rightBorderColor:p,rightBorderRadius:h,paddingTop:g,paddingBottom:x})=>{const{View:j,Text:f,IconMobile:N,WrapLoading:C}=(0,l.Co)(),{result:y,loading:v}=me(e||((0,d.cF)("contractBillcode")||{}).contractBillcode);return(0,t.jsx)(j,{className:"placeOrderResult",style:{paddingTop:g,paddingBottom:x},children:(0,t.jsx)(C,{loading:v,children:(0,t.jsxs)(j,{className:"placeOrderResultContent",style:{borderRadius:1===o?"20px":"0px"},children:[(0,t.jsx)(N,{value:y.icon,style:{fontSize:"35px",color:y.color}}),(0,t.jsxs)(j,{className:"tips",children:[(0,t.jsx)(f,{className:"title",children:y.msg}),(0,t.jsx)(f,{className:"tip",children:y.info})]}),"success"===y.sysRecode&&(0,t.jsx)(xt,{dataObj:y.dataObj}),(0,t.jsxs)(j,{className:"btnGroup",style:{marginTop:20},children:[(0,t.jsx)(j,{className:"btn black",onClick:()=>(0,d.i4)(y.menuCode,{contractBillcode:y.dataObj.contractBillcode}),style:{color:s,backgroundColor:a,border:`1px solid ${n}`,borderRadius:1===i?"20px":"0px"},children:y.buttonText}),(0,t.jsx)(j,{style:{color:m,backgroundColor:u,border:`1px solid ${p}`,borderRadius:1===h?"20px":"0px"},onClick:()=>(0,d.i4)(r.value),className:"btn white",children:c})]})]})})})})),{Button:ft}=i,Nt=e=>{var{dataState:o}=e,s=no(e,["dataState"]);return(0,t.jsx)(t.Fragment,{children:["2","-1"].includes(o+"")?null:(0,t.jsx)(Ct,Object.assign({dataState:o},s))})},Ct=e=>{var{dataState:o,contractAppraise:s,color:n,borderColor:i,btnColor:c,btnShape:u}=e,p=no(e,["dataState","contractAppraise","color","borderColor","btnColor","btnShape"]);const{View:h}=(0,l.Co)();4!==o&&4!==o||1===s?4!==o&&4!==o||1!==s||(o=5):o=4;const{operateArray:g,handlerImpl:x}=function({dataState:e="",contractId:o,contractBillcode:s,init:t}){const n=(0,a.useMemo)((()=>ge[e+""]||[]),[e]),l=(()=>({expressInfo:()=>{(0,d.i4)("expressInfo",{code:s})},pay:()=>{(0,d.i4)("paymentMode",{contractBillcode:s})},evaluate:()=>{(0,d.i4)("evaluateDetail",{code:s})},confirmReceive:()=>R(this,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/oc/contract/confirmReceive.json",e))({contractBillcode:s}),null==t||t()}catch(e){}})),cancel:()=>R(this,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/oc/contract/cancelContractC.json",e))({contractId:o}),null==t||t()}catch(e){}}))}))();return{handlerImpl:e=>{l[e]()},operateArray:n}}(Object.assign({dataState:o},p));return(0,t.jsx)(h,{className:"btnGroup",children:g.map(((e,o)=>(0,t.jsx)(ft,{style:{color:n,borderColor:i,backgroundColor:c},className:r()({btn:!0,white:0===o,black:1===o}),onClick:()=>x(e.handler),shape:u,children:e.name},o)))})},{Button:yt}=i,vt=({contractPaydate:e,init:o,countdownCancel:s,contractId:n})=>{const{View:i,SmoothView:c}=(0,l.Co)(),{resultTime:r}=((e,o,s,t)=>{const[n,l]=(0,a.useState)("");return(0,a.useEffect)((()=>{const a=setTimeout((()=>{const a=new Date(e),n=new Date,i=a.getTime()-(n.getTime()-3600);i<999&&i>0?s(t).then((()=>{o()})):i>1e3&&l(uo(i,"后将取消订单，请尽快支付"))}),1e3);return()=>{clearTimeout(a)}}),[n]),{resultTime:n}})(e,o,s,n);return(0,t.jsx)(t.Fragment,{children:r?(0,t.jsx)(i,{className:"card-item-info-countDown",children:(0,t.jsx)(c,{children:r})}):null})};function bt({contractBillcode:e,dataBmoney:o,dataBnum:s,goodsList:a,dataState:n,contractId:i,init:c,contractAppraise:r,borderRadius:m,orderSpacing:u,contractPaydate:p,countdownCancel:h}){const{View:g}=(0,l.Co)(),x=he(n);return(0,t.jsxs)(g,{className:"orderListItem",style:{borderRadius:m?8:"",marginTop:u,marginBottom:u},children:[(0,t.jsxs)(g,{onClick:()=>(0,d.i4)("orderDetail",{contractBillcode:e}),children:[(0,t.jsxs)(g,{className:"topInfo",children:[(0,t.jsxs)(g,{className:"orderNo",children:["订单号: ",e,(0,t.jsx)(yt,{className:"copy",size:"mini",fill:"outline",children:"复制"})]}),(0,t.jsx)(g,{className:"status",children:x})]}),(0,t.jsx)(g,{className:"card-item-info-countDown"}),(0,t.jsx)(g,{className:"goodsItemWrap",children:a.map((e=>(0,t.jsx)(Bo,Object.assign({},e,{dataState:n,children:1===n&&(0,t.jsx)(vt,{contractPaydate:p,init:c,countdownCancel:h,contractId:i})}),e.contractGoodsId)))})]}),(0,t.jsxs)(g,{className:"allInfo",children:[(0,t.jsxs)(g,{className:"totalNum",children:["共",s,"件商品"]}),(0,t.jsxs)(g,{className:"totalPrice",children:["合计 ",ro(o)]})]}),(0,t.jsx)(Nt,{init:c,contractId:i,contractBillcode:e,dataState:n,contractAppraise:r})]})}const St=()=>{const{View:e,Image:o}=(0,l.Co)();return(0,t.jsx)(e,{children:(0,t.jsx)(o,{src:"https://brushes.oss-cn-shanghai.aliyuncs.com/static/mini/noOrder.png",className:"img",mode:"widthFix"})})},wt=(0,a.memo)((function({item:e,refreshNum:o,borderRadius:s,orderSpacing:n}){const{View:i,ScrollView:c,Loading:r}=(0,l.Co)(),{onScroll:m,data:u,loading:p,init:h,countdownCancel:g}=je(e,o);return(0,t.jsx)(i,{className:"orderListItemWrap",children:(0,t.jsx)(jo,{id:"orderListItemWrap",children:(0,t.jsx)(c,{onScroll:m,children:u.length>0?(0,t.jsxs)(i,{children:[u.map(((e,o)=>(0,a.createElement)(bt,Object.assign({init:h},e,{key:o,borderRadius:s,orderSpacing:n,countdownCancel:g})))),(0,t.jsx)(i,{children:p?(0,t.jsx)(r,{}):null})]}):(0,t.jsxs)(i,{className:"nodata_img",children:[(0,t.jsx)(St,{}),(0,t.jsx)(i,{className:"nodata-btn",onClick:()=>(0,d.i4)("goodList"),children:"前往购物"})]})})})})})),kt=(0,a.memo)((({refreshNum:e=0,indexId:o=0,borderRadius:s=!1,orderSpacing:a=12})=>{const{View:n,Tabs:i}=(0,l.Co)();return(0,t.jsx)(n,{className:"order-container",children:(0,t.jsx)(i,{defaultIndex:+o,tabs:pe,render:o=>(0,t.jsx)(n,{className:"orderList",children:(0,t.jsx)(wt,{item:o,orderSpacing:a,refreshNum:e,borderRadius:s})})})})})),{Button:It}=i,Bt=(0,a.memo)((({copyContent:e=""})=>{const[o,s]=(0,a.useState)(!1),n=(0,a.useMemo)((()=>(0,d.dU)()),[]);return(0,t.jsx)(It,{className:"copy",size:"mini",fill:"outline",onClick:()=>{if(n){const o=(0,d.Bj)();if(""===e)return void o.showToast({title:"复制内容为空",icon:"error"});o.setClipboardData({data:e,success:()=>{o.showToast({title:"复制成功",icon:"success"}),s(!0)},fail:()=>{o.showToast({title:"复制失败",icon:"error"})}})}},children:o?"已复制":"复制"})})),Pt=(0,a.memo)((({contractBillcode:e,expressWay:o,backgroundColor:s,color:n,paddingBottom:i,paddingTop:c,borderColor:r,btnColor:u,btnShape:p})=>{const{View:h,Text:g}=(0,l.Co)(),{orderDetail:j,handleApplyBtn:f}=(e=>{const[o,s]=(0,a.useState)(""),t=(0,d.dU)(),[n,l]=(0,a.useState)(fe);return(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{const o=yield x({contractBillcode:e,isLocalMock:!t});if((0,S.Z)(o))return;s(he(o.dataState)),l(o)}catch(e){console.log(45,e)}}))}),[]),{orderDetail:n,status:o,handleApplyBtn:(e,o)=>R(void 0,void 0,void 0,(function*(){try{const{contractBillcode:s,skuCode:t}=e,a=yield((e={})=>(0,m.U2)("/web/oc/refund/checkRefund.json",e))({contractBillcode:s,skuCode:t});if(!1===a.success)return void ae(a.msg,"none");(0,d.i4)("refundType",{contractBillcode:s,skuCode:t,dataState:o})}catch(e){console.log(e)}}))}})(e||""),N=e=>Le()(e).format("YYYY-MM-DD HH:mm:ss");return(0,t.jsxs)(h,{className:"orderDetail",children:[(0,t.jsx)(h,{style:{backgroundColor:s},className:"orderDetailTopTitle",children:(0,t.jsxs)(h,{className:"orderDetailTopTitleContent",children:[(0,t.jsxs)(h,{className:"icon_text",children:["待收货"===he(j.dataState)?(0,t.jsx)(Ze,{value:"daishouhuo",style:{color:"#ffffff",marginRight:"10px",fontSize:"20px"}}):"",(0,t.jsx)(g,{className:"title",children:he(j.dataState)})]}),(0,t.jsx)(h,{className:"subTitleWrap",children:N(j.gmtCreate)})]})}),(0,t.jsx)(h,{className:"orderDetailContent",style:{paddingTop:c+"px",paddingBottom:i+"px"},children:(0,t.jsxs)(h,{style:{position:"relative",top:-26},children:[(0,t.jsxs)(h,{className:"addressInfo",children:[(0,t.jsx)(h,{className:"lPart",children:(0,t.jsx)(Ze,{value:"dizhi"})}),(0,t.jsxs)(h,{className:"mPart",children:[(0,t.jsxs)(h,{className:"personInfo",children:[(0,t.jsx)(g,{className:"personName",children:j.goodsReceiptMem}),(0,t.jsx)(g,{className:"personPhone",children:j.goodsReceiptPhone})]}),(0,t.jsx)(h,{className:"address",children:j.goodsReceiptArrdess})]}),(0,t.jsx)(h,{className:"rPart"})]}),(0,t.jsxs)(h,{className:"orderDetailGoodsWrap",children:[j.goodsList.map((e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Bo,Object.assign({},e),e.contractGoodsId),Number(j.dataState)>1&&Number(j.dataState)<5?(0,t.jsx)(h,{className:"orderBtn",onClick:f.bind(null,e,j.dataState),children:"申请退款"}):""]}))),(0,t.jsxs)(h,{className:"priceInfo",children:[(0,t.jsxs)(h,{className:"priceInfoFloor top",children:[(0,t.jsxs)(h,{className:"totalNum",children:["共",j.goodsNum,"件商品"]}),(0,t.jsxs)(h,{className:"totalPrice",children:["合计 ",parseFloat((j.dataBmoney-j.refundMoney).toFixed(2))]})]}),(0,t.jsxs)(h,{className:"priceInfoFloor",children:[(0,t.jsx)(h,{className:"totalNum",children:"商品总额"}),(0,t.jsxs)(h,{className:"totalPrice",children:["￥",j.contractInmoney]})]}),(0,t.jsxs)(h,{className:"priceInfoFloor",children:[(0,t.jsx)(h,{className:"totalNum",children:"优惠"}),(0,t.jsxs)(h,{className:"totalPrice",children:["￥",j.goodsPmoney]})]})]})]}),o&&(0,t.jsxs)(h,{className:"express",children:[(0,t.jsx)(h,{className:"label",children:"配送方式"}),(0,t.jsx)(h,{className:"name",children:"快递"})]}),(0,t.jsxs)(h,{className:"orderInfo",children:[(0,t.jsx)(h,{className:"orderInfoItem",children:(0,t.jsx)(h,{className:"label",children:"订单信息"})}),(0,t.jsxs)(h,{className:"orderInfoItem",children:[(0,t.jsx)(h,{className:"label",children:"订单编号"}),(0,t.jsxs)(h,{className:"context_copy",children:[(0,t.jsx)(h,{className:"name",children:j.contractBillcode}),(0,t.jsx)(Bt,{copyContent:j.contractBillcode})]})]}),(0,t.jsxs)(h,{className:"orderInfoItem",children:[(0,t.jsx)(h,{className:"label",children:"下单时间"}),(0,t.jsx)(h,{className:"name",children:N(j.gmtCreate)})]})]}),(0,t.jsx)(h,{className:"btnGroupFooter",children:(0,t.jsx)(Nt,{borderColor:r,btnColor:u,btnShape:p,color:n,contractBillcode:j.contractBillcode,contractId:j.contractId,dataState:j.dataState})})]})})]})})),At=({code:e,defaultValue:o})=>{const{info:s,detail:a,stateObj:n}=Ce(e),{View:i}=(0,l.Co)(),c=(0,b.Z)(s,"packageList[0].contractGoodsList[0].dataPic",o.dataPic),r=(0,b.Z)(s,"packageList.length",o.count),d=(0,b.Z)(s,"packageList[0].expressName",o.expressName),m=(0,b.Z)(s,"packageList[0].packageBillno",o.packageBillno),u=(0,b.Z)(a,"state",o.result)||"-1";return(0,t.jsxs)(i,{className:"expressInfoTop",children:[(0,t.jsx)(i,{className:"goodsImg",style:{backgroundImage:`url(${c})`},children:(0,t.jsxs)(i,{className:"tip",children:["共 ",r," 件商品"]})}),(0,t.jsxs)(i,{className:"list",children:[(0,t.jsxs)(i,{className:"listItem",children:["物流状态：",u?n[u]:"暂时无法获取物流状态"]}),(0,t.jsxs)(i,{className:"listItem",children:["快递公司：",d]}),(0,t.jsxs)(i,{className:"listItem",children:["快递单号：",m]})]})]})},Lt=({code:e,defaultValue:o})=>{const{detail:s}=Ce(e),{View:a}=(0,l.Co)(),n=(0,b.Z)(s,"message",o.message),i=(0,b.Z)(s,"data",o.list);return(0,t.jsx)(a,{className:"expressInfoStep",children:"ok"===n?i.map(((e,o)=>(0,t.jsxs)(a,{className:"step",children:[(0,t.jsx)(a,{className:"time",children:e.time}),(0,t.jsx)(a,{children:e.context})]},o))):(0,t.jsx)(a,{className:"noInfo",children:n})})},Dt=(0,a.memo)((({code:e,defaultValue:o})=>{const{View:s}=(0,l.Co)();return(0,t.jsxs)(s,{className:"expressInfo",children:[(0,t.jsx)(At,{code:e,defaultValue:o}),(0,t.jsx)(Lt,{code:e,defaultValue:o})]})})),Tt=(0,a.memo)((({avatarStyle:e,paddingTop:o,paddingBottom:s,userAvatar:n,userNickname:i,refreshNum:c})=>{const{View:r,Text:m,IconMobile:u,Image:p}=(0,l.Co)(),{servicePopup:h}=io(),[g,x]=(0,a.useState)(i),[j,f]=(0,a.useState)(n);return(0,a.useEffect)((()=>{x((0,d.cF)("userNickname")),f((0,d.cF)("userAvatar"))}),[c]),(0,t.jsxs)(r,{className:"mineData",style:{paddingTop:`${o}px`,paddingBottom:`${s}px`},children:[(0,t.jsxs)(r,{className:"topBoard",children:[(0,t.jsx)(u,{value:"bianzu",onClick:()=>(0,d.i4)("/account/setting/index")}),(0,t.jsx)(u,{value:"kehufuwukefu",onClick:h})]}),(0,t.jsxs)(r,{className:"userSetting",onClick:()=>(0,d.i4)("/account/setting/index"),children:[(0,t.jsxs)(r,{className:"lPart",children:[(0,t.jsx)(m,{className:"name",children:g||"用户名称"}),(0,t.jsx)(r,{className:"link",style:{paddingTop:"10px"},children:"编辑个人资料 >"})]}),(0,t.jsx)(p,{src:j,alt:"",className:"avatar",style:{borderRadius:e?"50%":"2px"}})]})]})})),Ot=(0,a.memo)((({title:e,columnList:o})=>{const{View:s,Text:n,Badge:i,Image:c}=(0,l.Co)(),[r,u]=(0,a.useState)({});(0,a.useEffect)((()=>{lo(void 0,void 0,void 0,(function*(){try{const e=yield((e={})=>(0,m.U2)("/web/oc/contract/getContractNumbers.json",e))();u(e.dataObj)}catch(e){}}))}),[]);const p=(e,o)=>{4!==e.id?(0,d.i4)("orderlist",{indexId:o+1}):(0,d.i4)("afterSalesList")};return(0,t.jsxs)(s,{className:"mineOrderEntry",children:[(0,t.jsxs)(s,{className:"title",children:[(0,t.jsx)(s,{className:"name",children:e}),(0,t.jsx)(s,{className:"more",onClick:()=>(0,d.i4)("orderlist"),children:"查看全部"})]}),(0,t.jsx)(s,{className:"content",children:o.map(((e,o)=>(0,t.jsxs)(s,{onClick:p.bind(null,e,o),className:"contentItem",style:{display:e.show?"block":"none"},children:[(0,t.jsx)(i,Object.assign({},r[e.code]>0?{content:r[e.code]}:{},{color:"#000",style:{color:"#fff",fontSize:12},children:(0,t.jsx)(c,{src:e.imgUrl,className:"icon"})})),(0,t.jsx)(n,{className:"subTitle",children:e.label})]},o)))})]})})),Rt=(0,a.memo)((({paddingTop:e,paddingBottom:o,columnList:s})=>{const{View:a,Text:n,IconMobile:i,Image:c}=(0,l.Co)();return(0,t.jsx)(a,{className:"mineFunction",style:{paddingTop:e+"px",paddingBottom:o+"px"},children:s.map(((e,o)=>(0,t.jsxs)(a,{className:"menuListItem",onClick:()=>(0,d.i4)(e.link.value),children:[(0,t.jsxs)(a,{className:"lPart",children:[(0,t.jsx)(c,{src:e.imgUrl,className:"icon"}),(0,t.jsx)(n,{className:"label",children:e.link.label})]}),(0,t.jsx)(i,{value:"xiangyou1"})]},o)))})})),Vt=({starColor:e="#FF0934",starSize:o="12px",itemData:s})=>{const{View:a,Text:n,Image:c}=(0,l.Co)(),{Rate:r}=i;return(0,t.jsxs)(a,{className:"evaluateItem",children:[(0,t.jsxs)(a,{className:"userInfo",children:[(0,t.jsx)(c,{src:s.avatar,className:"avatar"}),(0,t.jsxs)(a,{className:"userNameWrap",children:[(0,t.jsx)(n,{className:"userName",children:s.userName}),(0,t.jsx)(r,{readOnly:!0,value:s.rate,style:{"--star-size":o,"--active-color":e}})]})]}),(0,t.jsxs)(a,{className:"size",children:["规格： ",s.size]}),(0,t.jsx)(a,{className:"content",children:s.evaluate}),(0,t.jsx)(a,{className:"img-group",children:s.imgUrls.map(((e,o)=>(0,t.jsx)(c,{src:e.imgUrl,className:"img"},o)))})]})},Mt=[{avatar:"http://www.qianjiangcloud.com/images/centerimga/pic%EF%BC%8Flogo+@2x.png",userName:"张三李四王五",rate:4.5,size:"一大通",evaluate:"实物与描述的一样，质量相当好，卖家态度也好，有问必答，发货速度杠杠的，值得购买哦。外观设计漂亮，尺寸大小合适，包装仔细完整，宝贝手感不错，感觉很好，发货速度快，服务态度一流，给力！5星好评！",imgUrls:[{imgUrl:"https://img12.360buyimg.com/n1/jfs/t1/137059/18/27631/76566/635fc607E0b9e9c60/762dac6802e989d3.jpg"},{imgUrl:"https://img12.360buyimg.com/n1/jfs/t1/137059/18/27631/76566/635fc607E0b9e9c60/762dac6802e989d3.jpg"},{imgUrl:"https://img12.360buyimg.com/n1/jfs/t1/137059/18/27631/76566/635fc607E0b9e9c60/762dac6802e989d3.jpg"},{imgUrl:"https://img12.360buyimg.com/n1/jfs/t1/137059/18/27631/76566/635fc607E0b9e9c60/762dac6802e989d3.jpg"}]},{avatar:"http://www.qianjiangcloud.com/images/centerimga/pic%EF%BC%8Flogo+@2x.png",userName:"张三李四王五",rate:4.5,size:"一大通",evaluate:"实物与描述的一样，质量相当好，卖家态度也好，有问必答，发货速度杠杠的，值得购买哦。外观设计漂亮，尺寸大小合适，包装仔细完整，宝贝手感不错，感觉很好，发货速度快，服务态度一流，给力！5星好评！",imgUrls:[{imgUrl:"https://img12.360buyimg.com/n1/jfs/t1/137059/18/27631/76566/635fc607E0b9e9c60/762dac6802e989d3.jpg"}]}],Ft=(0,a.memo)((()=>{const[e,o]=(0,a.useState)("1"),{View:s}=(0,l.Co)(),n=(0,a.useRef)([{label:"全部",num:"900+",index:"1"},{label:"好评",num:"800+",index:"2"},{label:"中评",num:"99+",index:"3"},{label:"差评",num:"12",index:"4"}]),i=e=>{o(e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{className:"evaluateListTab",children:n.current.map((o=>(0,t.jsxs)(s,{className:"evaluateListTabItem "+(o.index===e?"active":""),"data-index":o.index,onClick:i.bind(null,o.index),children:[o.label," ",o.num]},o.index)))}),(0,t.jsx)(s,{className:"evaluateListContent",children:Mt.map(((e,o)=>(0,t.jsx)(Vt,{itemData:e},o)))})]})})),Gt=(0,a.memo)((({code:e,borderRadius:o,borderColor:s,color:n,buttonColor:c,buttonBorderRadius:r,paddingTop:u,paddingBottom:p})=>{const{orderInfo:h,changeStar:g,Submit:j,changeContent:f}=(e=>{const[o,s]=(0,a.useState)([]),t=(0,a.useRef)([]),n=(0,a.useRef)({}),l=(0,d.dU)();(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield r(),yield i()}))}),[]);const i=()=>R(void 0,void 0,void 0,(function*(){try{const o=yield x({contractBillcode:e,isLocalMock:!l}),t=c((0,b.Z)(o,"goodsList",[])),{contractBillcode:a,memberBcode:i,memberBname:r,memberCode:d,memberName:m}=t[0];n.current={contractBillcode:a,memberBcode:i,memberBname:r,memberCode:d,memberName:m},s(t)}catch(e){console.log(e)}})),c=e=>{for(let o=0;o<e.length;o++)e[o].upImgLength=!0,e[o].upImg=[],e[o].evaluateGoodsImgs="",e[o].evaluateScopeList=[t.current[0]],e[o].evaluateGoodsContent="";return e},r=()=>R(void 0,void 0,void 0,(function*(){try{const e=yield((e={})=>(0,m.v_)("web/res/template/queryUseTemplate.json",e))({applyTarget:"goods",isLocalMock:!l});t.current=e[0].templateValuesReList}catch(e){console.log(e)}}));return{orderInfo:o,changeStar:(e,a)=>{const n=[...o],l=[];for(let e=0;e<a;e++)l.push(t.current[e]);n[e].evaluateScopeList=l,s(n)},Submit:()=>R(void 0,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/res/evaluate/saveEvaluateGoods.json",e))({paramStr:JSON.stringify(o)}),yield((e={})=>(0,m.v_)("web/res/evaluate/saveEvaluateShop.json",e))(Object.assign({paramStr:JSON.stringify(o)},n.current)),(0,d.i4)("orderlist")}catch(e){console.log(e)}})),changeContent:(e,t)=>{const a=[...o];a[e].evaluateGoodsContent=t.detail.value,s(a)}}})(e),{Button:N}=i,{View:C,Image:y,TextArea:v,Textarea:S}=(0,l.Co)(),w=v||S,k=(0,a.useRef)("宝贝满足你吗？分享一下它吧");return(0,t.jsxs)(C,{className:"evaluateDetail",style:{paddingTop:u,paddingBottom:p},children:[h.map(((e,s)=>(0,t.jsxs)(a.Fragment,{children:[(0,t.jsxs)(C,{className:"topInfo",children:[(0,t.jsxs)(C,{className:"lPart",children:[(0,t.jsx)(y,{src:e.dataPic,className:"img",style:{borderRadius:1===o?"20px":"0px"}}),(0,t.jsxs)(C,{className:"goodsInfo",children:[(0,t.jsx)(C,{className:"goodsName",children:e.goodsName}),(0,t.jsx)(C,{className:"goodsSize",children:e.skuName})]})]}),(0,t.jsx)(C,{className:"rPart",children:(0,t.jsxs)(C,{className:"price",children:["￥ ",e.pricesetNprice]})})]}),(0,t.jsxs)(C,{className:"rate",children:[(0,t.jsx)(C,{className:"title",children:"商品评价"}),(0,t.jsx)(Bs,{onChange:g.bind(null,s)})]}),(0,t.jsx)(C,{className:"evaluate",children:(0,t.jsx)(w,{className:"content",placeholder:k.current,rows:5,maxLength:30,onInput:f.bind(null,s)})})]},s))),(0,t.jsx)(N,{style:{border:`1px solid ${s}`,color:n,backgroundColor:c,borderRadius:1===r?"20px":"0px"},className:"btn",onClick:j,children:"提交"})]})})),Et=({item:e,edit:o,checked:s})=>{const{View:a,Image:n,Checkbox:i,SmoothView:c}=(0,l.Co)();return(0,t.jsxs)(a,{className:"collectItem",children:[o?(0,t.jsx)(i,{className:"lPart",value:e.collectCode,checked:s}):null,(0,t.jsxs)(a,{className:"rPart",onClick:()=>(0,d.i4)("goodDetail",{skuCode:e.collectOpcode}),children:[(0,t.jsx)(n,{src:e.collectOppic,className:"img"}),(0,t.jsxs)(a,{className:"info",children:[(0,t.jsx)(c,{className:"title",children:e.collectOpcont}),(0,t.jsxs)(c,{className:"price",children:[e.collectOpnum," 元"]})]})]})]})},zt=(0,a.memo)((()=>{const{collectionList:e,edit:o,setEdit:s,getData:n,getSelectItem:i,delItem:c,init:r,checked:d,handleSelectAll:p,selectAllChecked:h}=(()=>{const[e,o]=(0,a.useState)([{collectOpcont:"",collectOpnum:""}]),s=(0,a.useRef)(1),[t,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)(""),[c,r]=(0,a.useState)(!1),[d,p]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x()}),[]);const x=()=>{s.current=1,o([]),j()},j=()=>R(void 0,void 0,void 0,(function*(){try{const e=yield u({row:10,page:s.current,collectType:0});o((o=>o.concat((0,b.Z)(e,"list",[])))),s.current+=1}catch(e){return console.log(e),[]}})),f=()=>{let o=[];for(let s=0;s<e.length;s++)o.push(e[s].collectCode);return o.toString()};return{collectionList:e,edit:t,setEdit:n,getData:j,collectCodeStr:l,getSelectItem:o=>{const s=o.detail.value;i(s.toString()),s.length===e.length?g(!0):(g(!1),i(""))},delItem:()=>R(void 0,void 0,void 0,(function*(){try{yield((e={})=>(0,m.v_)("web/um/collect/deleteCollectByCodeStr.json",e))({collectCodeStr:l}),s.current=1,x()}catch(e){console.log(e)}})),init:x,checked:c,setChecked:r,handleSelectAll:e=>{e.detail.value.length?(r(!0),i(f())):r(!1)},selectAll:d,setSelectAll:p,selectAllChecked:h}})(),{View:g,ScrollView:x,SmoothCheckbox:j,Checkbox:f,Button:N,Image:C}=(0,l.Co)();return(0,t.jsx)(g,{className:"collectList",children:0===e.length?(0,t.jsx)(g,{className:"noDate",children:(0,t.jsx)(C,{className:"img",src:"https://b2cweapp7c0069b43749439d97b7cae6a02bd459.saas.qjclouds.com/paas/shop-master/c-static/images/wxminiImg/noCollection.png"})}):(0,t.jsxs)(g,{className:"hasDate",children:[(0,t.jsx)(g,{className:"topBar",children:(0,t.jsx)(g,{className:"edit",onClick:()=>s(!o),children:o?"完成":"编辑"})}),(0,t.jsx)(jo,{id:"topBar",children:(0,t.jsxs)(x,{scrollY:!0,scrollWithAnimation:!0,onScrollToLower:n,onScrollToUpper:r,children:[(0,t.jsx)(j,{onChange:i,style:{height:"100%"},children:e.map((e=>(0,t.jsx)(Et,{item:e,edit:o,checked:d},e.collectId)))}),o?(0,t.jsxs)(g,{className:"handleBar",children:[(0,t.jsx)(g,{className:"checkAll",children:(0,t.jsx)(j,{onChange:p,children:(0,t.jsx)(f,{value:"1",checked:h,children:"全选"})})}),(0,t.jsx)(N,{className:"btn",onClick:c,children:"删除"})]}):null]})})]})})})),Zt=({footprintItem:e,edit:o})=>{const{View:s,Image:n,Checkbox:i,SmoothView:c}=(0,l.Co)(),r=(0,a.useMemo)((()=>e.footprintOpnum?`${e.footprintOpnum}元`:""),[e.footprintOpnum]);return(0,t.jsxs)(s,{className:"footprintItem",children:[o?(0,t.jsx)(s,{className:"lPart",children:(0,t.jsx)(i,{value:e.footprintCode})}):null,(0,t.jsxs)(s,{className:"rPart",onClick:()=>(0,d.i4)("goodDetail",{skuCode:e.footprintOpcode}),children:[(0,t.jsx)(n,{src:e.footprintOppic,className:"img"}),(0,t.jsxs)(s,{className:"info",children:[(0,t.jsx)(c,{className:"title",children:e.footprintOpcont}),(0,t.jsx)(c,{className:"price",children:r})]})]})]})},Ut=({item:e,edit:o})=>{const{View:s}=(0,l.Co)();return(0,t.jsxs)(s,{className:"footPrint",children:[(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s,{className:"title",style:{paddingLeft:"20px",paddingTop:"30px",paddingBottom:"10px"},children:null==e?void 0:e.title})}),e.option.map(((e,s)=>(0,t.jsx)(Zt,{footprintItem:e,edit:o},s)))]})},Wt=({footprintList:e,edit:o})=>{const s=(0,a.useMemo)((()=>{const o=e.map((e=>(e.gmtCreate=e.gmtCreate?Le()(e.gmtCreate).format("YYYY-MM-DD"):e.gmtCreate,e))),s=(0,w.Z)(o,"gmtCreate");return Object.keys(s).map((e=>({title:e||"",option:s[e]})))}),[e]);return(0,t.jsx)(t.Fragment,{children:s.map(((e,s)=>(0,t.jsx)(Ut,{item:e,edit:o},s)))})},Ht=(0,a.memo)((()=>{const{View:e,ScrollView:o,SmoothCheckbox:s,Button:a,WrapLoading:n}=(0,l.Co)(),{footprintList:i,edit:c,setEdit:r,getSelectItem:d,delItem:m,getData:u,loading:p}=ve();return(0,t.jsx)(n,{loading:p,children:(0,t.jsx)(e,{className:"footprint",children:(0,t.jsxs)(e,{className:"hasDate",children:[(0,t.jsx)(e,{className:"topBar",children:(0,t.jsx)(e,{className:"edit",onClick:()=>r(!c),children:c?"完成":"编辑"})}),(0,t.jsx)(jo,{id:"topBar1",children:(0,t.jsxs)(o,{scrollY:!0,scrollWithAnimation:!0,refresherEnabled:!0,onScrollToLower:u,children:[(0,t.jsx)(s,{onChange:d,children:(0,t.jsx)(Wt,{footprintList:i,edit:c})}),c?(0,t.jsxs)(e,{className:"handleBar",children:[(0,t.jsx)(e,{className:"checkAll"}),(0,t.jsx)(a,{className:"btn",onClick:m,children:"删除"})]}):null]})})]})})})})),qt=[{label:"全部",val:"0002,0006"},{label:"满减",val:"0002"},{label:"满折",val:"0006"}],Yt=(0,a.memo)((({activeColor:e,setParams:o,params:s})=>{const{View:a}=(0,l.Co)();return(0,t.jsx)(a,{className:"promotionListTab",children:qt.map(((n,l)=>(0,t.jsx)(a,{className:"promotionListTabItem",onClick:()=>o(n.val),style:{color:n.val===s?e:"#000"},children:n.label},l)))})})),Kt=({data:e})=>{const{View:o}=(0,l.Co)(),{pbName:s,promotionName:a,pmPromotionDiscountList:n,promotionBegintime:i,promotionEndtime:c}=e;return(0,t.jsxs)(o,{className:"promotionItem",children:[(0,t.jsxs)(o,{className:"lPart",children:[(0,t.jsx)(o,{className:"round"}),(0,t.jsx)(o,{className:"tagBg",children:(0,t.jsxs)(o,{className:"txt",children:["官方",s]})}),(0,t.jsx)(o,{className:"rule",children:n.at(-1).discName}),(0,t.jsx)(o,{className:"title",children:a}),(0,t.jsxs)(o,{className:"time",children:[Le()(i).format("YYYY-MM-DD")," ~ ",Le()(c).format("YYYY-MM-DD")]})]}),(0,t.jsx)(o,{className:"rPart",children:(0,t.jsx)(o,{className:"sideBorder"})})]})},Qt=(0,a.memo)((({activeColor:e,paddingTop:o,paddingBottom:s})=>{const[n,i]=(0,a.useState)(qt[0].val),{list:c,getData:r}=(({params:e})=>{const o=(0,a.useRef)([]),[s,t]=(0,a.useState)([]),n=(0,a.useRef)(0),l=(0,a.useRef)(10);(0,a.useEffect)((()=>{n.current=0,o.current=[],i()}),[e]);const i=()=>R(void 0,void 0,void 0,(function*(){const s=(0,d.dU)();++n.current;try{const a=yield((e={})=>(0,m.v_)("/web/pm/promotion/queryPromotioPage.json",e))({isLocalMock:!s,pbCode:e,list:1,page:n.current,rows:l.current}),i=(0,b.Z)(a,"list",[]);o.current.push(...i),t(o.current)}catch(e){console.log(e)}}));return{list:s,getData:i}})({params:n}),{View:u,ScrollView:p}=(0,l.Co)();return(0,t.jsxs)(u,{style:{padding:`${o}px 0 ${s}px`},children:[(0,t.jsx)(Yt,{activeColor:e,setParams:i,params:n}),(0,t.jsx)(u,{children:(0,t.jsx)(jo,{id:"listWrap",children:(0,t.jsx)(p,{onScroll:()=>r(),children:c.map(((e,o)=>(0,t.jsx)(Kt,{data:e},o)))})})})]})}));(0,a.memo)((()=>{const{View:e,Skeleton:o}=(0,l.Co)(),s=(0,a.useRef)(new Array(3).fill(0));return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(e,{className:"skullWrap",children:(0,t.jsx)(e,{className:"skull",children:s.current.map(((e,s)=>(0,t.jsx)(o,{className:"skullItem",animated:!0},s)))})})})}));const _t=()=>{const{View:e,Image:o}=(0,l.Co)();return(0,t.jsx)(e,{className:"noData",children:(0,t.jsx)(o,{src:"https://b2cweapp7c0069b43749439d97b7cae6a02bd459.saas.qjclouds.com/paas/shop-master/c-static/images/wxminiImg/no_coupon.png",className:"img"})})},$t=({list:e,coe:o,config:s,backgroundColor:a,color:n})=>{const{View:i,Text:c}=(0,l.Co)();return(0,t.jsx)(t.Fragment,{children:e.length?e.map(((e,l)=>(0,t.jsx)(i,{className:`couponListItem\n                   ${s.current[o.current].styleName}`,style:{backgroundColor:a,color:n},children:(0,t.jsxs)(i,{className:"coupon-content",children:[(0,t.jsx)(i,{className:"price",children:(0,t.jsx)(c,{className:"num",children:e.pbName})}),(0,t.jsxs)(i,{className:"couponListItem-info",children:[(0,t.jsx)(c,{className:"title",children:e.discName}),(0,t.jsxs)(c,{className:"date",children:["有效期至：",`${new Date(e.gmtModified).getFullYear()}-${new Date(e.gmtModified).getMonth()+1}-${new Date(e.gmtModified).getDate()}`]}),s.current[o.current].text?(0,t.jsx)(i,{className:"btn",children:s.current[o.current].text}):null,2===o.current?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i,{className:"round",children:"已失效"})}):null]})]})},l))):(0,t.jsx)(_t,{})})},Jt=(0,a.memo)((({backgroundColor:e,color:o,paddingTop:s,paddingBottom:a,queue:n})=>{const{View:i,Text:c,ScrollView:r}=(0,l.Co)(),{coe:d,getList:m,config:u,switchTab:p,list:h=[]}=oe();return(0,t.jsxs)(i,{className:"couponList",children:[(0,t.jsx)(i,{className:"couponTab",children:u.current.map(((e,o)=>(0,t.jsxs)(i,{className:"couponTabItem "+(d.current===o?"active":""),onClick:()=>p(o),children:[e.label,(0,t.jsx)(c,{className:"icon"})]},e.id)))}),(0,t.jsx)(jo,{id:"couponTab",bottomHeight:"60",children:(0,t.jsx)(r,{onScroll:m,children:(0,t.jsx)(i,{className:"couponListContent",style:{paddingTop:s,paddingBottom:a},children:(0,t.jsx)($t,{backgroundColor:e,color:o,queue:n,list:h,coe:d,config:u})})})})]})})),Xt=(0,a.memo)((({defaultValue:e,coupons:o,bg:s,borderColor:a,btnColor:n,typeColor:i,titleColor:c,ruleColor:r,timeColor:d,paddingTop:m,paddingBottom:u})=>{const{View:p}=(0,l.Co)(),{list:h,takeCoupon:g,takeList:x}=ke({defaultValue:e,coupons:o});return(0,t.jsx)(p,{style:{paddingTop:`${m}px`,paddingBottom:`${u}px`},children:h.map(((e,o)=>{const l=(0,b.Z)(e,"pbName"),m=(0,b.Z)(e,"pmPromotionDiscountList"),u=(0,b.Z)(m.at(-1),"discName"),h=(0,b.Z)(e,"promotionName"),j=Le()((0,b.Z)(e,"promotionBegintime")).format("YYYY-MM-DD"),f=Le()((0,b.Z)(e,"promotionEndtime")).format("YYYY-MM-DD"),N=(0,b.Z)(e,"promotionCode");return(0,t.jsxs)(p,{className:"OneLineOneBlc",style:{backgroundColor:s,borderColor:a},children:[(0,t.jsxs)(p,{className:"lPart",children:[(0,t.jsxs)(p,{className:"intro",children:[(0,t.jsx)(p,{className:"type",style:{color:i},children:l}),(0,t.jsx)(p,{className:"rule",style:{color:r},children:u})]}),(0,t.jsxs)(p,{className:"info",children:[(0,t.jsx)(p,{className:"title",style:{color:c},children:h}),(0,t.jsxs)(p,{className:"validity",style:{color:d},children:[j," - ",f]})]})]}),(0,t.jsx)(p,{className:"rPart",style:{backgroundColor:n},children:-1===e.availabledate||x.includes(o)?(0,t.jsx)(p,{className:"txt",children:"已 领 取"}):(0,t.jsx)(p,{className:"txt",onClick:()=>g({promotionCode:N,couponAmount:1,index:o}),children:"立 即 领 取"})})]},o)}))})})),ea=(0,a.memo)((({defaultValue:e,coupons:o,bg:s,borderColor:a,btnColor:n,typeColor:i,ruleColor:c,titleColor:r,timeColor:d,gap:m,paddingTop:u,paddingBottom:p})=>{const{View:h}=(0,l.Co)(),{list:g,takeCoupon:x,takeList:j}=ke({defaultValue:e,coupons:o});return(0,t.jsx)(h,{className:"oneLineTwoBlc",style:{paddingTop:u,paddingBottom:p,paddingLeft:"10px",paddingRight:"10px",gap:m},children:g.map(((e,o)=>{const l=(0,b.Z)(e,"pbName"),m=(0,b.Z)(e,"pmPromotionDiscountList"),u=(0,b.Z)(m.at(-1),"discName"),p=(0,b.Z)(e,"promotionName"),g=Le()((0,b.Z)(e,"promotionBegintime")).format("YYYY-MM-DD"),f=Le()((0,b.Z)(e,"promotionEndtime")).format("YYYY-MM-DD"),N=(0,b.Z)(e,"promotionCode");return(0,t.jsxs)(h,{className:"oneLineTwoBlcItem",style:{backgroundColor:s,borderColor:a},children:[(0,t.jsxs)(h,{className:"lPart",children:[(0,t.jsx)(h,{className:"type",style:{color:i},children:l}),(0,t.jsx)(h,{className:"rule",style:{color:c},children:u}),(0,t.jsx)(h,{className:"info",style:{color:r},children:p}),(0,t.jsxs)(h,{className:"validity",style:{color:d},children:[g," - ",f]})]}),(0,t.jsx)(h,{className:"rPart",style:{backgroundColor:n},children:-1===e.availabledate||j.includes(o)?(0,t.jsx)(h,{className:"txt",children:"已 领 取"}):(0,t.jsx)(h,{className:"txt",onClick:()=>x({promotionCode:N,couponAmount:1,index:o}),children:"立 即 领 取"})})]},o)}))})})),oa=(0,a.memo)((e=>{var{type:o=1,coupons:s=[]}=e,a=no(e,["type","coupons"]);const{View:n}=(0,l.Co)();return(0,t.jsxs)(n,{className:"getCouponOne",children:[1===o?(0,t.jsx)(Xt,Object.assign({coupons:s},a)):null,2===o?(0,t.jsx)(ea,Object.assign({coupons:s},a)):null]})})),sa=({direction:e,speed:o,num:s,color:a})=>{const{content:n,navigator:i}=be(s);return(0,t.jsx)(l.P8,{navigator:i,color:a,speed:o,direction:e,content:n})},ta=(0,a.memo)((({noticeId:e,paddingTop:o,paddingBottom:s,paddingLeft:n,paddingRight:i})=>{const{View:c,Image:r}=(0,l.Co)(),{info:d}=(e=>{const[o,s]=(0,a.useState)({});(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){yield t()}))}),[]);const t=()=>R(void 0,void 0,void 0,(function*(){try{const o=yield((e={})=>(0,m.U2)("/web/cms/notice/getNotice.json",e))({noticeId:e});s(o)}catch(e){console.log(e)}}));return{info:o,setInfo:s}})(e);return(0,t.jsxs)(c,{className:"noticeDetailContainer",style:{paddingTop:o,paddingBottom:s,paddingLeft:n,paddingRight:i},children:[(0,t.jsx)(c,{className:"title",children:d.noticeTitle}),d.noticePicurl?(0,t.jsx)(r,{className:"img",mode:"widthFix",src:d.noticePicurl}):null,d.noticePicurl1?(0,t.jsx)(r,{className:"img",mode:"widthFix",src:d.noticePicurl1}):null,d.noticePicurl2?(0,t.jsx)(r,{className:"img",mode:"widthFix",src:d.noticePicurl2}):null,d.noticePicurl3?(0,t.jsx)(r,{className:"img",mode:"widthFix",src:d.noticePicurl3}):null,(0,t.jsx)(c,{className:"content",children:d.noticeContext})]})})),aa=(0,a.memo)((({doclistId:e,paddingTop:o,paddingBottom:s,paddingLeft:n,paddingRight:i})=>{const{info:c}=(e=>{const[o,s]=(0,a.useState)(Se);return(0,a.useEffect)((()=>{R(void 0,void 0,void 0,(function*(){try{const o=(0,d.dU)(),t=yield((e={})=>(0,m.v_)("/web/cms/doclist/getDoclist.json",e))({doclistId:e,isLocalMock:!o});s(t)}catch(e){console.log(e)}}))}),[]),{info:o}})(e),{View:r,ScrollView:u}=(0,l.Co)(),{doclistContent:p,doclistTitle:h,doclistTitle4:g}=c;return(0,t.jsx)(r,{className:"articleDetail",style:{paddingTop:o,paddingBottom:s,paddingLeft:n,paddingRight:i},children:(0,t.jsx)(jo,{id:"a",children:(0,t.jsxs)(u,{children:[(0,t.jsx)(r,{className:"title",children:h}),(0,t.jsx)(r,{className:"author",children:g}),(0,t.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:p||""}})]})})})}))},53260:()=>{}}]);