"use strict";(self.webpackChunkqj_operate=self.webpackChunkqj_operate||[]).push([[541],{47525:(e,t,r)=>{r.d(t,{BO:()=>w,Bj:()=>d,Li:()=>v,Qf:()=>y,SV:()=>g,b3:()=>b,c7:()=>m,cF:()=>f,dU:()=>s,km:()=>h,po:()=>p,sG:()=>S,tV:()=>C});var n=r(7494),a=r(32130),o=r(81042),l=r(81886),i=(r(19126),r(99660)),c=r(52322);let u={};function s(){try{const e=d();return!(0,n.Z)(e)}catch(e){return!1}}function d(){return u}const f=e=>{try{return localStorage?(e=>{const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch(e){return t}})(e):d().getStorageSync(e)}catch(e){return""}},p=(e,t)=>{localStorage?((e,t)=>{"string"==typeof t?window.localStorage.setItem(e,t):window.localStorage.setItem(e,JSON.stringify(t))})(e,t):d().setStorageSync(e,t)},v=e=>{localStorage?window.localStorage.removeItem(e):d().removeStorageSync(e)},m=e=>{const t=new FormData;for(let r in e)["",void 0,null].includes(e[r])||t.append(r,e[r]);return t},y=(e={})=>(0,a.Z)(e,"isLocalMock");function h(){try{return window._env_operate.REACT_APP_SESSION_KEY||""}catch(e){return"saas-token"}}function b(){try{return window._env_operate.REACT_APP_SESSION_VALUE_KEY||""}catch(e){return"saas-token"}}function g(){try{return window._env_operate.REACT_APP_BASE_URL||""}catch(e){return""}}function S(){try{return window._env_operate.REACT_APP_PLAT_FORM||""}catch(e){return""}}function w(e){const t=(0,i.useRef)(null);return t.current=(0,o.Z)(e)?e:l.Z,(0,i.useCallback)(((...e)=>t.current(...e)),[t])}function C(e){function t(){const t=(0,i.useRef)(e),r=(0,i.useCallback)((()=>t.current),[]),n=(0,i.useRef)(new Set);return{get:r,set:(0,i.useCallback)((e=>{t.current=Object.assign(Object.assign({},t.current),e),n.current.forEach((e=>e()))}),[]),subscribe:(0,i.useCallback)((e=>(n.current.add(e),()=>n.current.delete(e))),[])}}const r=(0,i.createContext)(null);return{Provider:function({children:e}){return(0,c.jsx)(r.Provider,Object.assign({value:t()},{children:e}))},useStore:function(t){const n=(0,i.useContext)(r);if(!n)throw new Error("Store not found");return[(0,i.useSyncExternalStore)(n.subscribe,(()=>t(n.get())),(()=>t(e))),n.set]}}}},25470:(e,t,r)=>{r.r(t),r.d(t,{AddressDetail:()=>a.gf,AddressList:()=>a.sE,AddressListBtn:()=>a.U0,AfterSalesApply:()=>a.e5,AfterSalesDetail:()=>a.eZ,AfterSalesList:()=>a.FQ,AfterSalesType:()=>a.Wl,AllPromotionList:()=>o.Hl,ArticleDetail:()=>o.Vc,BackTop:()=>n.kF,CartList:()=>a.AQ,CartOperate:()=>a.kv,CartTop:()=>a.kw,ClassifyNav:()=>n.Np,ClassifyNavOne:()=>n.jW,ClassifyNavThree:()=>n.Gg,ClassifyNavTwo:()=>n.tT,CollectionList:()=>a.G2,CouponList:()=>o.hO,Cube:()=>n.Xv,EvaluateDetail:()=>a.uv,ExpressInfo:()=>a.NL,Footprint:()=>a.Sm,GetCouponOne:()=>o.sy,Goods:()=>a.ZA,GoodsClassify:()=>a.UM,GoodsClassifyOne:()=>a.FT,GoodsClassifyTwo:()=>a.gm,GoodsDetailAndEvaluate:()=>a.cL,GoodsDetailBanner:()=>a.kT,GoodsDetailCoupon:()=>a.nr,GoodsDetailHandleBar:()=>a.rT,GoodsDetailHandleBarOne:()=>a.MX,GoodsDetailInfo:()=>a.hx,GoodsDetailInfoOne:()=>a.zJ,GoodsDetailPromotion:()=>a.qp,GoodsDetailSku:()=>a.pD,GoodsList:()=>a.r9,GoodsSlider:()=>a._y,GoodsSlideshow:()=>a.Uj,Line:()=>n.x1,MineData:()=>a.Ei,MineFunction:()=>a.hc,MineOrderEntry:()=>a.Wj,Notice:()=>o.qX,NoticeDetail:()=>o.Dd,OrderDetail:()=>a.dn,OrderList:()=>a.Fv,Pages:()=>i,PaymentMode:()=>a.x6,PlaceOrderAddress:()=>a.yw,PlaceOrderCoupon:()=>a.ku,PlaceOrderDelivery:()=>a.E4,PlaceOrderGood:()=>a.$H,PlaceOrderInfo:()=>a.kz,PlaceOrderOperate:()=>a.F5,PlaceOrderResult:()=>a.gY,Search:()=>a.ol,SearchPage:()=>a.Z9,SearchStyleTwo:()=>a.Aw,Service:()=>c,Slider:()=>n.iR,TextLine:()=>n.bi,Texts:()=>l,Title:()=>n.Dx,Video:()=>n.nk,formConfig:()=>a.lR,info:()=>a.um,title:()=>a.TN});var n=r(39366),a=r(7662),o=r(70782),l=r(62030),i=r(60010),c=r(60355)},53024:(e,t,r)=>{r.d(t,{M$:()=>h,jV:()=>m,lR:()=>b});var n=r(85354),a=r(51119),o=r(55238),l=r(24832),i=r(76425),c=r(29552),u=r(54199),s=r(99660),d=r(30122),f=r(52322),p=["id","virtualId"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{type:"text",name:"label",label:"名称",rules:[{required:!0,message:""},function(){return{validator:function(e,t){return/^[\u4e00-\u9fa5\d]{1,8}$/.test(t)?Promise.resolve():Promise.reject(new Error("请输入长度不超过8的中文或数字"))}}}]},{type:"text",name:"value",label:"Code",rules:[{required:!0},function(r){var n=r.getFieldValue;return{validator:function(r,a){return t||/^[a-zA-Z_]+$/.test(a)&&!e.some((function(e){return e.value===n("value")}))?Promise.resolve():Promise.reject(new Error("请输入字母或者下滑线，且不重复"))}}}],extraProps:{disabled:t}},{type:"switch",name:"defaultKey",label:"默认参数",extraProps:{checkedChildren:"开启",unCheckedChildren:"关闭"}}]},y=[{title:"名称",dataIndex:"label",key:"label"},{title:"Code",dataIndex:"value",key:"value"}],h=[{from:"pageQuery",to:"pageQuery",format:function(e){return e.map((function(e){var t=e.id,r=e.virtualId;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({virtualId:"",id:t||r},(0,o.Z)(e,p))}))}}],b=[{name:"pageQuery",type:"slot",label:"页面参数",labelCol:{span:0},wrapperCol:{span:24},extraProps:{render:function(e){var t=e.form,r=e.name,n=(0,d.Nr)(t,r),a=n.dataSource,o=n.handleAdd,s=n.isModalOpen,p=n.handleCancel,v=n.onSubmit,m=n.columnsQuery,y=n.initialValues,h=n.formConfigData;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.ZP,{onClick:o,style:{marginBottom:8},children:"新增"}),(0,f.jsx)(i.Z,{style:{marginBottom:10},bordered:!0,size:"small",dataSource:a,rowKey:"id",pagination:!1,columns:m}),(0,f.jsx)(c.Z,{title:"页面参数",open:s,onCancel:p,footer:null,children:(0,f.jsx)(u.F3,{initialValues:y,name:"dataOperate",labelCol:{span:3},wrapperCol:{span:21},saveText:"保存",onSubmit:v,fields:h.current},y.id)})]})}}},{name:"pageStore",type:"slot",label:"页面Store",labelCol:{span:0},wrapperCol:{span:24},extraProps:{render:function(e){var t=e.form,r=e.name,a=(0,s.useState)([]),o=(0,n.Z)(a,2),l=o[0],c=o[1];return(0,s.useEffect)((function(){c(t.getFieldValue(r))}),[]),(0,f.jsx)(i.Z,{bordered:!0,size:"small",dataSource:l,rowKey:"value",pagination:!1,columns:y})}}}]},30122:(e,t,r)=>{r.d(t,{zu:()=>w,FJ:()=>C,_K:()=>p,Nr:()=>O.N});var n=r(25470),a=r(54199),o=r(99660),l=r(31240),i=r(56136),c=r(7494),u=r(85964),s=r(2802),d=r(32130);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=(0,l.useLowCodeGraph)(),p=e.props,v=(0,i.Z)(n,e.type,{formConfig:[],title:"",info:""}),m=v.formConfig,y=v.title,h=v.info,b=v.transformField,g=void 0===b?[]:b,S=(0,a.BO)((function(e,t){var n={};if(!(0,c.Z)(g)){var a,o="",l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw o}}}}(g);try{for(l.s();!(a=l.n()).done;){var d=a.value;if(""!==(o=(0,i.Z)(e,d.from,""))){var p=d.format(o),v=p.key,m=p.value;(0,u.Z)(n,v,m);break}}}catch(e){l.e(e)}finally{l.f()}}r.updateNode((0,s.Z)(t,n))})),w=(0,o.useMemo)((function(){var e;return(null===(e=m[0])||void 0===e?void 0:e.hasOwnProperty("title"))?m:[{formConfig:m}]}),[]);return(0,o.useEffect)((function(){var e=(0,d.Z)(p,"defaultValue");t.setFieldsValue(e)}),[p]),{computedConfig:w,title:y,info:h,callbackImpl:S,initialValues:p,transformField:g}}var v=r(85354),m=r(56470),y=r(77162),h=r.n(y),b=r(50546),g=r(47525),S=r(26233),w=function(){var e=(0,m.Z)(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.m5)({menuOpcode:t,proappCode:"021"});case 3:return r=e.sent,n=JSON.parse(r.modelTagvalueData)||{pageStore:[],pageQuery:[]},S.b[t]={data:n,id:r.modelTagvalueId},e.abrupt("return",{id:r.modelTagvalueId,data:n});case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function C(){var e=(0,l.useLowCodeGraph)(),t=(0,o.useState)({}),r=(0,v.Z)(t,2),n=r[0],a=r[1],i=(0,o.useState)(!0),c=(0,v.Z)(i,2),u=c[0],s=c[1],d=(0,o.useRef)("");(0,o.useEffect)((function(){f()}),[e.modeId]);var f=function(){var t=(0,m.Z)(h().mark((function t(){var r,n,o,l;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s(!0),r=e.modeId){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,w(r);case 7:n=t.sent,o=n.data,l=n.id,d.current=l,a(o),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(0);case 16:return t.prev=16,s(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,14,16,19]])})));return function(){return t.apply(this,arguments)}}(),p=(0,g.BO)(function(){var t=(0,m.Z)(h().mark((function t(r,n,a){var o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(),t.prev=1,t.next=4,(0,b.KY)({modelTagvalueCode:e.modeId,modelTagvalueId:d.current,modelTagvalueData:JSON.stringify(r)});case 4:o=t.sent,S.b[e.modeId]={data:r,id:d.current},n(o.msg),f(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(t.t0.msg);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r,n){return t.apply(this,arguments)}}());return{dataSource:n,onSubmit:p,isLoading:u}}var O=r(17757)},45454:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(59394),a=r(7560),o=r(99660),l=r.n(o),i=r(72779),c=r.n(i);const u=o.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var s={width:0,height:0,overflow:"hidden",outline:"none"};const d=l().forwardRef((function(e,t){var r=e.prefixCls,i=e.className,d=e.style,f=e.title,p=e.ariaId,v=e.footer,m=e.closable,y=e.closeIcon,h=e.onClose,b=e.children,g=e.bodyStyle,S=e.bodyProps,w=e.modalRender,C=e.onMouseDown,O=e.onMouseUp,P=e.holderRef,x=e.visible,E=e.forceRender,k=e.width,A=e.height,j=(0,o.useRef)(),I=(0,o.useRef)();l().useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=j.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===I.current?j.current.focus():e||t!==j.current||I.current.focus()}}}));var D,Z,N,T={};void 0!==k&&(T.width=k),void 0!==A&&(T.height=A),v&&(D=l().createElement("div",{className:"".concat(r,"-footer")},v)),f&&(Z=l().createElement("div",{className:"".concat(r,"-header")},l().createElement("div",{className:"".concat(r,"-title"),id:p},f))),m&&(N=l().createElement("button",{type:"button",onClick:h,"aria-label":"Close",className:"".concat(r,"-close")},y||l().createElement("span",{className:"".concat(r,"-close-x")})));var _=l().createElement("div",{className:"".concat(r,"-content")},N,Z,l().createElement("div",(0,a.Z)({className:"".concat(r,"-body"),style:g},S),b),D);return l().createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":f?p:null,"aria-modal":"true",ref:P,style:(0,n.Z)((0,n.Z)({},d),T),className:c()(r,i),onMouseDown:C,onMouseUp:O},l().createElement("div",{tabIndex:0,ref:j,style:s,"aria-hidden":"true"}),l().createElement(u,{shouldUpdate:x||E},w?w(_):_),l().createElement("div",{tabIndex:0,ref:I,style:s,"aria-hidden":"true"}))}))}}]);